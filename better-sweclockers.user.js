// ==UserScript==
// @name         Better SweClockers
// @version      2025.4.21.21.58.0
// @description  Extra functionality and improved usability for the SweClockers website.
// @author       Simon Alling
// @namespace    simonalling.se
// @match        *://sweclockers.com/*
// @match        *://www.sweclockers.com/*
// @run-at       document-start
// @noframes
// @downloadURL  https://simonalling.github.io/better-sweclockers/better-sweclockers.user.js
// @updateURL    https://simonalling.github.io/better-sweclockers/better-sweclockers.meta.js
// ==/UserScript==
/*! For license information please see better-sweclockers.user.js.LICENSE.txt */
!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=47)}([function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",o=e[3];if(!o)return n;if(t&&"function"==typeof btoa){var r=(s=o,a=btoa(unescape(encodeURIComponent(JSON.stringify(s)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),"/*# ".concat(l," */")),i=o.sources.map((function(e){return"/*# sourceURL=".concat(o.sourceRoot||"").concat(e," */")}));return[n].concat(i).concat([r]).join("\n")}var s,a,l;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,o){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(o)for(var i=0;i<this.length;i++){var s=this[i][0];null!=s&&(r[s]=!0)}for(var a=0;a<e.length;a++){var l=[].concat(e[a]);o&&r[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),t.push(l))}},t}},,function(e,t,n){var o;!function(){"use strict";var n={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var o=arguments[t];if(o){var i=typeof o;if("string"===i||"number"===i)e.push(o);else if(Array.isArray(o)&&o.length){var s=r.apply(null,o);s&&e.push(s)}else if("object"===i)for(var a in o)n.call(o,a)&&o[a]&&e.push(a)}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(o=function(){return r}.apply(t,[]))||(e.exports=o)}()},,function(e,t){function n(e){return function(t){return Math.round(t*e)}}e.exports={seconds:n(1e3),minutes:n(6e4),hours:n(36e5),days:n(864e5),weeks:n(6048e5),months:n(26298e5),years:n(315576e5)}},function(e,t,n){var o;!function(r,i,s){if(r){for(var a,l={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},c={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},d={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},u={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},p=1;p<20;++p)l[111+p]="f"+p;for(p=0;p<=9;++p)l[p+96]=p.toString();h.prototype.bind=function(e,t,n){return e=e instanceof Array?e:[e],this._bindMultiple.call(this,e,t,n),this},h.prototype.unbind=function(e,t){return this.bind.call(this,e,(function(){}),t)},h.prototype.trigger=function(e,t){return this._directMap[e+":"+t]&&this._directMap[e+":"+t]({},e),this},h.prototype.reset=function(){return this._callbacks={},this._directMap={},this},h.prototype.stopCallback=function(e,t){if((" "+t.className+" ").indexOf(" mousetrap ")>-1)return!1;if(function e(t,n){return null!==t&&t!==i&&(t===n||e(t.parentNode,n))}(t,this.target))return!1;if("composedPath"in e&&"function"==typeof e.composedPath){var n=e.composedPath()[0];n!==e.target&&(t=n)}return"INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable},h.prototype.handleKey=function(){var e=this;return e._handleKey.apply(e,arguments)},h.addKeycodes=function(e){for(var t in e)e.hasOwnProperty(t)&&(l[t]=e[t]);a=null},h.init=function(){var e=h(i);for(var t in e)"_"!==t.charAt(0)&&(h[t]=function(t){return function(){return e[t].apply(e,arguments)}}(t))},h.init(),r.Mousetrap=h,e.exports&&(e.exports=h),void 0===(o=function(){return h}.call(t,n,t,e))||(e.exports=o)}function _(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}function m(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return l[e.which]?l[e.which]:c[e.which]?c[e.which]:String.fromCharCode(e.which).toLowerCase()}function f(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function g(e,t,n){return n||(n=function(){if(!a)for(var e in a={},l)e>95&&e<112||l.hasOwnProperty(e)&&(a[l[e]]=e);return a}()[e]?"keydown":"keypress"),"keypress"==n&&t.length&&(n="keydown"),n}function b(e,t){var n,o,r,i=[];for(n=function(e){return"+"===e?["+"]:(e=e.replace(/\+{2}/g,"+plus")).split("+")}(e),r=0;r<n.length;++r)o=n[r],u[o]&&(o=u[o]),t&&"keypress"!=t&&d[o]&&(o=d[o],i.push("shift")),f(o)&&i.push(o);return{key:o,modifiers:i,action:t=g(o,i,t)}}function h(e){var t=this;if(e=e||i,!(t instanceof h))return new h(e);t.target=e,t._callbacks={},t._directMap={};var n,o={},r=!1,s=!1,a=!1;function l(e){e=e||{};var t,n=!1;for(t in o)e[t]?n=!0:o[t]=0;n||(a=!1)}function c(e,n,r,i,s,a){var l,c,d,u,p=[],_=r.type;if(!t._callbacks[e])return[];for("keyup"==_&&f(e)&&(n=[e]),l=0;l<t._callbacks[e].length;++l)if(c=t._callbacks[e][l],(i||!c.seq||o[c.seq]==c.level)&&_==c.action&&("keypress"==_&&!r.metaKey&&!r.ctrlKey||(d=n,u=c.modifiers,d.sort().join(",")===u.sort().join(",")))){var m=!i&&c.combo==s,g=i&&c.seq==i&&c.level==a;(m||g)&&t._callbacks[e].splice(l,1),p.push(c)}return p}function d(e,n,o,r){t.stopCallback(n,n.target||n.srcElement,o,r)||!1===e(n,o)&&(function(e){e.preventDefault?e.preventDefault():e.returnValue=!1}(n),function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}(n))}function u(e){"number"!=typeof e.which&&(e.which=e.keyCode);var n=m(e);n&&("keyup"!=e.type||r!==n?t.handleKey(n,function(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}(e),e):r=!1)}function p(e,t,i,s){function c(t){return function(){a=t,++o[e],clearTimeout(n),n=setTimeout(l,1e3)}}function u(t){d(i,t,e),"keyup"!==s&&(r=m(t)),setTimeout(l,10)}o[e]=0;for(var p=0;p<t.length;++p){var _=p+1===t.length?u:c(s||b(t[p+1]).action);g(t[p],_,s,e,p)}}function g(e,n,o,r,i){t._directMap[e+":"+o]=n;var s,a=(e=e.replace(/\s+/g," ")).split(" ");a.length>1?p(e,a,n,o):(s=b(e,o),t._callbacks[s.key]=t._callbacks[s.key]||[],c(s.key,s.modifiers,{type:s.action},r,e,i),t._callbacks[s.key][r?"unshift":"push"]({callback:n,modifiers:s.modifiers,action:s.action,seq:r,level:i,combo:e}))}t._handleKey=function(e,t,n){var o,r=c(e,t,n),i={},u=0,p=!1;for(o=0;o<r.length;++o)r[o].seq&&(u=Math.max(u,r[o].level));for(o=0;o<r.length;++o)if(r[o].seq){if(r[o].level!=u)continue;p=!0,i[r[o].seq]=1,d(r[o].callback,n,r[o].combo,r[o].seq)}else p||d(r[o].callback,n,r[o].combo);var _="keypress"==n.type&&s;n.type!=a||f(e)||_||l(i),s=p&&"keydown"==n.type},t._bindMultiple=function(e,t,n){for(var o=0;o<e.length;++o)g(e[o],t,n)},_(e,"keypress",u),_(e,"keydown",u),_(e,"keyup",u)}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null)},function(e,t,n){"use strict";e.exports=e=>[...new Set(e)]},function(e,t,n){"use strict";var o=/[|\\{}()[\]^$+*?.]/g;e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(o,"\\$&")}},function(e,t,n){var o=n(28);e.exports="string"==typeof o?o:o.toString()},function(e,t,n){var o=n(29);e.exports="string"==typeof o?o:o.toString()},function(e,t,n){var o=n(30);e.exports="string"==typeof o?o:o.toString()},function(e,t,n){var o=n(31);e.exports="string"==typeof o?o:o.toString()},function(e,t,n){var o=n(32);e.exports="string"==typeof o?o:o.toString()},function(e,t,n){var o=n(33);e.exports="string"==typeof o?o:o.toString()},function(e,t,n){var o=n(34);e.exports="string"==typeof o?o:o.toString()},function(e,t,n){var o=n(35);e.exports="string"==typeof o?o:o.toString()},function(e,t,n){var o=n(36);e.exports="string"==typeof o?o:o.toString()},function(e,t,n){var o=n(37);e.exports="string"==typeof o?o:o.toString()},function(e,t,n){var o=n(38);e.exports="string"==typeof o?o:o.toString()},function(e,t,n){var o=n(39);e.exports="string"==typeof o?o:o.toString()},function(e,t,n){var o=n(40);e.exports="string"==typeof o?o:o.toString()},function(e,t,n){var o=n(41);e.exports="string"==typeof o?o:o.toString()},function(e,t,n){var o=n(42);e.exports="string"==typeof o?o:o.toString()},function(e,t,n){var o=n(43);e.exports="string"==typeof o?o:o.toString()},function(e,t,n){var o=n(44);e.exports="string"==typeof o?o:o.toString()},function(e,t,n){var o=n(45);e.exports="string"==typeof o?o:o.toString()},function(e,t,n){var o=n(46);e.exports="string"==typeof o?o:o.toString()},,function(e,t,n){(t=n(0)(!1)).push([e.i,".proofread{white-space:pre}.mistake,.mistake .any{background-color:#f04600;background-clip:padding-box;border:4px solid rgba(240,70,0,.1);border-radius:2px;cursor:help;margin:-4px;position:relative;transition:border-color 250ms 100ms}.mistake:hover,.mistake .any:hover{border-color:rgba(240,70,0,.6);transition-delay:0ms}.verified,.verified .any{background-color:#55dc00}.any{background-color:#5582fa}",""]),t.locals={proofread:"proofread",mistake:"mistake",any:"any",verified:"verified"},e.exports=t},function(e,t,n){(t=n(0)(!1)).push([e.i,'#better-sweclockers-developer-tools{background:#000;bottom:0;box-sizing:border-box;display:flex;flex-direction:column;max-height:50vh;outline:1px solid #444;position:fixed;z-index:9999}#better-sweclockers-developer-tools[data-how-many="0"]:not(:hover):not(.open){opacity:.25}#better-sweclockers-developer-tools .better-sweclockers-error{color:#d00}#better-sweclockers-developer-tools .better-sweclockers-warning{color:#ec0}#better-sweclockers-developer-tools>a{display:block;padding:1em}#better-sweclockers-developer-tools>a:hover{background-color:rgba(255,255,255,.1);text-decoration:none}#better-sweclockers-developer-tools>a strong{display:inline-block;width:4em}#better-sweclockers-developer-tools>a strong[data-how-many="0"]{opacity:.25}#better-sweclockers-developer-tools>a strong:not(:last-of-type){margin-right:1em}#better-sweclockers-developer-tools ol{background-color:rgba(255,255,255,.1);border:1px solid #444;color:#bbb;display:none;font-family:monospace;margin:0 1em 1em 1em;overflow-y:scroll;white-space:pre-wrap}#better-sweclockers-developer-tools ol li{border-color:#444;border-top-style:solid;border-width:1px;padding:.5em}#better-sweclockers-developer-tools ol li:first-of-type{border-top-style:none}#better-sweclockers-developer-tools ol li.error{background-color:rgba(221,0,0,.08);border-color:rgba(221,0,0,.3)}#better-sweclockers-developer-tools ol li.warning{background-color:rgba(238,204,0,.08);border-color:rgba(238,204,0,.3)}#better-sweclockers-developer-tools.open{opacity:1;width:100vw}#better-sweclockers-developer-tools.open ol{display:block}',""]),t.locals={"better-sweclockers-developer-tools":"better-sweclockers-developer-tools",open:"open","better-sweclockers-error":"better-sweclockers-error","better-sweclockers-warning":"better-sweclockers-warning",error:"error",warning:"warning"},e.exports=t},function(e,t,n){(t=n(0)(!1)).push([e.i,"#better-sweclockers-document .better-sweclockers-shibe,#better-sweclockers-document .better-sweclockers-shibe *{color:red;font-family:Comic Sans MS, Chalkboard SE, sans-serif;font-style:italic;white-space:pre}",""]),t.locals={"better-sweclockers-document":"better-sweclockers-document","better-sweclockers-shibe":"better-sweclockers-shibe"},e.exports=t},function(e,t,n){(t=n(0)(!1)).push([e.i,'body{padding:8px}body *{display:none !important}body::after{content:"Nere för underhåll";font:16px "Courier New",monospace}',""]),e.exports=t},function(e,t,n){(t=n(0)(!1)).push([e.i,'#better-sweclockers-document #better-sweclockers-editing-tools{margin:1px;line-height:0}#better-sweclockers-document #better-sweclockers-editing-tools>*{vertical-align:top;margin-top:0;margin-bottom:6px;margin-left:0}#better-sweclockers-document .better-sweclockers-editing-tools big{font-size:1.25em}#better-sweclockers-document .better-sweclockers-editing-tools small{font-size:.75em}#better-sweclockers-document .better-sweclockers-editing-tools .button{height:23px;box-sizing:border-box;margin:0 1px 0 0}#better-sweclockers-document .better-sweclockers-editing-tools .button *{line-height:0}#better-sweclockers-document .better-sweclockers-editing-tools .button:last-of-type{margin-right:0}#better-sweclockers-document .better-sweclockers-editing-tools fieldset{display:block;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}#better-sweclockers-document .better-sweclockers-editing-tools .better-sweclockers-color-palette{opacity:.5;transition:opacity 100ms linear}#better-sweclockers-document .better-sweclockers-editing-tools .better-sweclockers-color-palette>*{border:none;margin:0 !important;width:20px;height:20px}#better-sweclockers-document .better-sweclockers-editing-tools .better-sweclockers-color-palette>*:hover{width:24px;height:24px;margin:-2px !important;border-radius:3px;z-index:9}#better-sweclockers-document .better-sweclockers-editing-tools .better-sweclockers-color-palette:hover,#better-sweclockers-document .better-sweclockers-editing-tools .better-sweclockers-color-palette:active{opacity:1}#better-sweclockers-document .better-sweclockers-editing-tools .better-sweclockers-smileys>*{opacity:.5;padding:0 1px;transition:opacity 50ms linear}#better-sweclockers-document .better-sweclockers-editing-tools .better-sweclockers-smileys>*:hover,#better-sweclockers-document .better-sweclockers-editing-tools .better-sweclockers-smileys>*:active{opacity:1}#better-sweclockers-document .better-sweclockers-editing-tools .better-sweclockers-button-color{background:linear-gradient(to bottom, rgba(255, 255, 255, 0.1) 0%, rgba(0, 0, 0, 0.1) 100%),linear-gradient(to right, rgba(255, 0, 0, 0.7) 0%, rgba(255, 153, 50, 0.7) 16%, rgba(247, 227, 49, 0.7) 33%, rgba(62, 211, 42, 0.7) 49%, rgba(46, 117, 232, 0.7) 66%, rgba(90, 45, 226, 0.7) 83%, rgba(152, 25, 198, 0.7) 100%)}#better-sweclockers-document .better-sweclockers-editing-tools .better-sweclockers-button-color:hover,#better-sweclockers-document .better-sweclockers-editing-tools .better-sweclockers-button-color:focus{background:linear-gradient(to bottom, rgba(255, 255, 255, 0.2) 0%, rgba(100, 100, 100, 0.2) 100%),linear-gradient(to right, rgba(255, 0, 0, 0.7) 0%, rgba(255, 153, 50, 0.7) 16%, rgba(247, 227, 49, 0.7) 33%, rgba(62, 211, 42, 0.7) 49%, rgba(46, 117, 232, 0.7) 66%, rgba(90, 45, 226, 0.7) 83%, rgba(152, 25, 198, 0.7) 100%) !important}#better-sweclockers-document .better-sweclockers-editing-tools .better-sweclockers-button-color:active{background:linear-gradient(to top, rgba(255, 255, 255, 0.1) 0%, rgba(0, 0, 0, 0.1) 100%),linear-gradient(to right, rgba(255, 0, 0, 0.7) 0%, rgba(255, 153, 50, 0.7) 16%, rgba(247, 227, 49, 0.7) 33%, rgba(62, 211, 42, 0.7) 49%, rgba(46, 117, 232, 0.7) 66%, rgba(90, 45, 226, 0.7) 83%, rgba(152, 25, 198, 0.7) 100%) !important}#better-sweclockers-document .better-sweclockers-editing-tools .better-sweclockers-button-blockquote div{font-family:"Georgia",serif;font-size:30px;line-height:24px}#better-sweclockers-document .better-sweclockers-editing-tools .better-sweclockers-button-spoiler{background:linear-gradient(to bottom, rgba(255, 255, 255, 0.1) 0%, rgba(0, 0, 0, 0.1) 100%),#222;color:#eee;border-color:#000}#better-sweclockers-document .better-sweclockers-editing-tools .better-sweclockers-button-spoiler:hover,#better-sweclockers-document .better-sweclockers-editing-tools .better-sweclockers-button-spoiler:focus{background:linear-gradient(to bottom, rgba(255, 255, 255, 0.2) 0%, rgba(100, 100, 100, 0.2) 100%),#222 !important}#better-sweclockers-document .better-sweclockers-editing-tools .better-sweclockers-button-spoiler:active{box-shadow:inset 1px 1px 1px rgba(0,0,0,.25);background:linear-gradient(to top, rgba(255, 255, 255, 0.1) 0%, rgba(0, 0, 0, 0.1) 100%),#222 !important}#better-sweclockers-document .better-sweclockers-editing-tools .better-sweclockers-button-code{font-family:"Courier New",monospace;font-weight:normal;font-size:11px}#better-sweclockers-document .better-sweclockers-editing-tools .better-sweclockers-button-math{font-family:"Times New Roman",serif}#better-sweclockers-document .better-sweclockers-editing-tools .better-sweclockers-button-math span{opacity:.5}',""]),t.locals={"better-sweclockers-document":"better-sweclockers-document","better-sweclockers-editing-tools":"better-sweclockers-editing-tools",button:"button","better-sweclockers-color-palette":"better-sweclockers-color-palette","better-sweclockers-smileys":"better-sweclockers-smileys","better-sweclockers-button-color":"better-sweclockers-button-color","better-sweclockers-button-blockquote":"better-sweclockers-button-blockquote","better-sweclockers-button-spoiler":"better-sweclockers-button-spoiler","better-sweclockers-button-code":"better-sweclockers-button-code","better-sweclockers-button-math":"better-sweclockers-button-math"},e.exports=t},function(e,t,n){(t=n(0)(!1)).push([e.i,"#better-sweclockers-document .stickyFooter>.top>.inner{padding-bottom:0}#better-sweclockers-document .stickyFooter>.bottom{display:none}",""]),t.locals={"better-sweclockers-document":"better-sweclockers-document",stickyFooter:"stickyFooter",top:"top",inner:"inner",bottom:"bottom"},e.exports=t},function(e,t,n){(t=n(0)(!1)).push([e.i,".forum-post.isReader .forum-post-header,.forum-post.isReader .forum-post-body{border-left-width:4px}",""]),t.locals={"forum-post":"forum-post",isReader:"isReader","forum-post-header":"forum-post-header","forum-post-body":"forum-post-body"},e.exports=t},function(e,t,n){(t=n(0)(!1)).push([e.i,"#better-sweclockers-document .proofDialog{position:fixed;height:100vh;width:100%;display:flex;align-items:center;top:0;left:0;pointer-events:none}#better-sweclockers-document .proofDialog .wndModalOverlay{display:none}#better-sweclockers-document .proofDialog .wndWindowArea{border:none;top:initial !important;opacity:.5;transition:opacity 200ms ease-in-out;pointer-events:initial;left:706px !important}@media screen and (min-width: 1012px)and (max-width: 1100px){#better-sweclockers-document .proofDialog .wndWindowArea{left:calc(50% + 206px) !important}}@media screen and (min-width: 1262px){#better-sweclockers-document .proofDialog .wndWindowArea{left:calc(50% + 81px) !important}}#better-sweclockers-document .proofDialog .wndWindowArea:hover,#better-sweclockers-document .proofDialog .wndWindowArea:focus-within{opacity:1}#better-sweclockers-document .proofDialog .wndWindowArea>.inner{box-shadow:0 0 20px #000;padding:0}#better-sweclockers-document .proofDialog .wndFrameDecorator{border-width:1px}#better-sweclockers-document .proofDialog .infoText{display:none}#better-sweclockers-document .proofDialog .tanukiTextarea textarea{height:240px}#better-sweclockers-document #proofArticle{background-color:#da6b0f;border-bottom-left-radius:6px;border-bottom-right-radius:6px;bottom:0;left:-1px;opacity:.3;padding:4px 8px;position:fixed;transform:rotate(-90deg);transform-origin:top left;z-index:100}#better-sweclockers-document #proofArticle:hover,#better-sweclockers-document #proofArticle:focus{opacity:1}",""]),t.locals={"better-sweclockers-document":"better-sweclockers-document",proofDialog:"proofDialog",wndModalOverlay:"wndModalOverlay",wndWindowArea:"wndWindowArea",inner:"inner",wndFrameDecorator:"wndFrameDecorator",infoText:"infoText",tanukiTextarea:"tanukiTextarea",proofArticle:"proofArticle"},e.exports=t},function(e,t,n){(t=n(0)(!1)).push([e.i,".bbImage .imgControls{opacity:0;transition:opacity 250ms}.bbImage:hover .imgControls,.bbImage:focus .imgControls{opacity:1}",""]),t.locals={bbImage:"bbImage",imgControls:"imgControls"},e.exports=t},function(e,t,n){(t=n(0)(!1)).push([e.i,".list-actions{margin-bottom:6px}.pages>a,.pages>span{align-items:center;box-sizing:border-box;display:flex;height:32px;justify-content:center;margin-right:0;width:32px}.pages>a>span,.pages>span>span{padding:0;height:1.2em}",""]),t.locals={"list-actions":"list-actions",pages:"pages"},e.exports=t},function(e,t,n){(t=n(0)(!1)).push([e.i,".ad.adInsider{height:370px;overflow:hidden}.adModule{height:341px;overflow:hidden}.ad.adForum{height:320px;overflow:hidden}",""]),t.locals={ad:"ad",adInsider:"adInsider",adModule:"adModule",adForum:"adForum"},e.exports=t},function(e,t,n){(t=n(0)(!1)).push([e.i,".better-sweclockers-icon-button{box-sizing:border-box;height:23px;padding:4px 6px}.better-sweclockers-icon-button img,.better-sweclockers-icon-button svg,.better-sweclockers-icon-button div{display:inline-block;height:16px;position:relative;top:-1px;vertical-align:top;width:16px}.better-sweclockers-pm-button{margin-left:8px;margin-bottom:0}.better-sweclockers-checkbox input{margin-right:4px;position:relative;top:-1px;vertical-align:middle}textarea.better-sweclockers-code-input,.better-sweclockers-code-input textarea{font-family:monospace}.forum-post .controls .better-sweclockers-quote-signature-button{float:right;margin-right:10px}.forum-post .controls .better-sweclockers-quote-signature-button>button{margin-right:0}.forum-post .controls .better-sweclockers-quote-signature-button>button[disabled]{pointer-events:unset}.mistake{border-color:rgba(240,70,0,.6)}",""]),t.locals={"better-sweclockers-icon-button":"better-sweclockers-icon-button","better-sweclockers-pm-button":"better-sweclockers-pm-button","better-sweclockers-checkbox":"better-sweclockers-checkbox","better-sweclockers-code-input":"better-sweclockers-code-input","forum-post":"forum-post",controls:"controls","better-sweclockers-quote-signature-button":"better-sweclockers-quote-signature-button",mistake:"mistake"},e.exports=t},function(e,t,n){(t=n(0)(!1)).push([e.i,".better-sweclockers-mention-everyone-button{display:inline;margin-right:8px}",""]),t.locals={"better-sweclockers-mention-everyone-button":"better-sweclockers-mention-everyone-button"},e.exports=t},function(e,t,n){(t=n(0)(!1)).push([e.i,'.menu-items{padding-bottom:21px}.menu-items .menu-item[title="Better SweClockers"]{margin-bottom:-21px}',""]),t.locals={"menu-items":"menu-items","menu-item":"menu-item"},e.exports=t},function(e,t,n){(t=n(0)(!1)).push([e.i,"@media(max-width: 576.9px){.profile-nav__notifications{margin-left:-34px;z-index:10}}@media(min-width: 577px){.profile-nav__notifications{width:120px;justify-content:flex-end}}@media(min-width: 993px){.profile-nav__notifications{width:346px}}",""]),t.locals={"profile-nav__notifications":"profile-nav__notifications"},e.exports=t},function(e,t,n){(t=n(0)(!1)).push([e.i,'body>*{display:none}form#better-sweclockers{width:640px;margin:32px auto;display:block}form#better-sweclockers img{max-width:100%}form#better-sweclockers aside,form#better-sweclockers #better-sweclockers-editing-tools{transition-property:opacity;transition-duration:250ms}form#better-sweclockers .better-sweclockers-preference{clear:left}form#better-sweclockers .better-sweclockers-preference>label::after{content:": "}form#better-sweclockers .better-sweclockers-preference>label.better-sweclockers-labeledInput::after{content:unset}form#better-sweclockers .better-sweclockers-preference input+label::after,form#better-sweclockers .better-sweclockers-preference select+label::after,form#better-sweclockers .better-sweclockers-preference textarea+label::after{content:unset}form#better-sweclockers .s5fieldset{padding:8px 16px;margin:16px 0 24px 0;border:1px solid gray;border-radius:4px}form#better-sweclockers .s5fieldset>legend{font-size:unset;margin-bottom:unset;padding:0 4px;width:unset}form#better-sweclockers .better-sweclockers-radioButtonPreference{display:inline-block;margin-bottom:unset;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}form#better-sweclockers .better-sweclockers-radioButtonPreference>label:first-child::after{content:":"}form#better-sweclockers .better-sweclockers-radioButtonPreference input[type=radio]{margin-left:16px}form#better-sweclockers textarea{box-sizing:border-box;display:block;height:6em;resize:vertical;width:100%}form#better-sweclockers .better-sweclockers-inline-preference{float:left}form#better-sweclockers .better-sweclockers-inline-preference:not(.better-sweclockers-primary-inline-preference){clear:unset}form#better-sweclockers .better-sweclockers-inline-preference>label::after{content:unset}form#better-sweclockers .better-sweclockers-inline-preference input[type=text],form#better-sweclockers .better-sweclockers-inline-preference input[type=number],form#better-sweclockers .better-sweclockers-inline-preference input[type=time]{margin:0}form#better-sweclockers .better-sweclockers-inline-preference:not(.better-sweclockers-primary-inline-preference) label::after,form#better-sweclockers .better-sweclockers-inline-preference:not(.better-sweclockers-primary-inline-preference) label:first-child::before{content:" "}form#better-sweclockers .better-sweclockers-inline-preference:not(.better-sweclockers-primary-inline-preference) input[type=checkbox]{margin-left:.75em}form#better-sweclockers input{vertical-align:middle}form#better-sweclockers label{display:inline-block;padding:6px 0;margin:0}form#better-sweclockers label kbd{font-family:monospace;background-color:rgba(160,160,160,.05);border:1px solid rgba(160,160,160,.15);border-radius:3px;padding:1px 2px}form#better-sweclockers input[type=checkbox],form#better-sweclockers input[type=radio]{margin:0;margin-right:.5em}form#better-sweclockers input[type=text],form#better-sweclockers input[type=number],form#better-sweclockers input[type=time]{margin:.33em 0;width:5em}form#better-sweclockers input[type=text]+label::before,form#better-sweclockers input[type=number]+label::before,form#better-sweclockers input[type=time]+label::before{content:" "}form#better-sweclockers aside{display:inline-block;margin-left:12px;opacity:0;pointer-events:none}form#better-sweclockers .better-sweclockers-preference:hover>aside{opacity:1;transition-duration:500ms}form#better-sweclockers #better-sweclockers-editing-tools{height:200px}form#better-sweclockers .better-sweclockers-code-input::after{color:#d00;content:"Klistra aldrig in kod som du inte litar på!";display:block;font-weight:bold;margin-top:.4em;opacity:0;transition:opacity 200ms 100ms}form#better-sweclockers .better-sweclockers-code-input:hover::after,form#better-sweclockers .better-sweclockers-code-input:focus-within::after{opacity:1}form#better-sweclockers #better-sweclockers-interests-preferences{columns:2}form#better-sweclockers #better-sweclockers-interests-preferences .better-sweclockers-subforum{padding-left:2em}form#better-sweclockers .better-sweclockers-disabled{opacity:.25;pointer-events:none}form#better-sweclockers footer{text-align:center;opacity:.8}',""]),t.locals={"better-sweclockers":"better-sweclockers","better-sweclockers-editing-tools":"better-sweclockers-editing-tools","better-sweclockers-preference":"better-sweclockers-preference","better-sweclockers-labeledInput":"better-sweclockers-labeledInput",s5fieldset:"s5fieldset","better-sweclockers-radioButtonPreference":"better-sweclockers-radioButtonPreference","better-sweclockers-inline-preference":"better-sweclockers-inline-preference","better-sweclockers-primary-inline-preference":"better-sweclockers-primary-inline-preference","better-sweclockers-code-input":"better-sweclockers-code-input","better-sweclockers-interests-preferences":"better-sweclockers-interests-preferences","better-sweclockers-subforum":"better-sweclockers-subforum","better-sweclockers-disabled":"better-sweclockers-disabled"},e.exports=t},function(e,t,n){(t=n(0)(!1)).push([e.i,'#header a[href="/forum/foljda"].color-orange span{color:gray !important}#header a[href="/forum/foljda"].color-orange svg,#header a[href="/forum/foljda"].color-orange path{fill:gray !important}#header a[href="/profil/inlagg"] svg+span{margin-right:6.5px !important}',""]),t.locals={header:"header","color-orange":"color-orange"},e.exports=t},function(e,t,n){(t=n(0)(!1)).push([e.i,"#better-sweclockers-document .tbGroup.better-sweclockers-textarea-size{float:right}#better-sweclockers-document .tbGroup.better-sweclockers-textarea-size .btnIcon{background:none}",""]),t.locals={"better-sweclockers-document":"better-sweclockers-document",tbGroup:"tbGroup","better-sweclockers-textarea-size":"better-sweclockers-textarea-size",btnIcon:"btnIcon"},e.exports=t},function(e,t,n){(t=n(0)(!1)).push([e.i,".forumThread.better-sweclockers-uninteresting{opacity:.3;transition:opacity 200ms ease-out}",""]),t.locals={forumThread:"forumThread","better-sweclockers-uninteresting":"better-sweclockers-uninteresting"},e.exports=t},function(e,t,n){"use strict";n.r(t);var o={};n.r(o),n.d(o,"ALWAYS",(function(){return m})),n.d(o,"NEVER",(function(){return f})),n.d(o,"DOMCONTENTLOADED",(function(){return g})),n.d(o,"LOAD",(function(){return b}));var r={};n.r(r),n.d(r,"explanation",(function(){return v})),n.d(r,"failureDescriber",(function(){return y}));var i={};n.r(i),n.d(i,"setPrefix",(function(){return S})),n.d(i,"setLogger",(function(){return T})),n.d(i,"log",(function(){return R})),n.d(i,"info",(function(){return O})),n.d(i,"warning",(function(){return N})),n.d(i,"error",(function(){return I}));var s={};n.r(s),n.d(s,"stylesheet",(function(){return P})),n.d(s,"insert",(function(){return C})),n.d(s,"enable",(function(){return B})),n.d(s,"disable",(function(){return A}));var a={};function l(){switch(arguments.length){case 1:return c(arguments[0]);case 2:return d(arguments[0],arguments[1]);case 3:return u(arguments[0],arguments[1],arguments[2]);case 4:return p(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return _(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4])}}function c(e){return function(t){return e(t)}}function d(e,t){return function(n){return e(t(n))}}function u(e,t,n){return function(o){return e(t(n(o)))}}function p(e,t,n,o){return function(r){return e(t(n(o(r))))}}function _(e,t,n,o,r){return function(i){return e(t(n(o(r(i)))))}}n.r(a),n.d(a,"run",(function(){return W}));const m=()=>!0,f=()=>!1,g=e=>"loading"!==e,b=e=>"complete"===e;function h(e){return""===e?[]:e.replace(/\n$/,"").split("\n")}function k(e){return e.map(e=>e+"\n").join("")}function w(e){return"  "+e.key+": "+e.selector}function v(e){switch(e.result.reason){case 0:return k(["These dependencies were not found:","",k(e.result.dependencies.map(w))]);case 1:return k(["The operation failed with this error:","",e.result.message])}}function y(e){return t=>k([`Could not ${t.operation.description} on this page:`,"","  "+location.href,"",v(t).trim(),"",`This problem might be caused by ${e.siteName} changing its content/structure, in which case ${e.extensionName} needs to be updated accordingly. Otherwise, it's probably a bug in ${e.extensionName}.`,"","If you file a bug report, please include this message."])}let x="",E=console;function S(e){x=e}function T(e){E=e}function R(e){E.log(x,e)}function O(e){E.info(x,e)}function N(e){E.warn(x,e)}function I(e){E.error(x,e)}function P(e){return e}function C(e){const t=document.createDocumentFragment();Object.entries(e).forEach(([e,n])=>{const o=document.createElement("style");void 0!==n.id&&(o.id=n.id),o.textContent=n.css,o.media=n.condition(window)?"all":"not all",t.appendChild(o)}),document.documentElement.appendChild(t)}const L=e=>t=>{const n=document.getElementById(t.id);null!==n&&n.setAttribute("media",e)},B=L("all"),A=L("not all"),D=[M,$,z,q,U,j];function M(e){return"boolean"==typeof e}function $(e){return"number"==typeof e}function z(e){return"string"==typeof e}function q(e){return"symbol"==typeof e}function U(e){return null===e}function j(e){return void 0===e}function F(e){return D.some(t=>t(e))}function G(e,t,n){return o=`${e.name}(${t.name})`,r=n,Object.defineProperty(r,"name",{value:o,writable:!1});var o,r}function K(e){return F(e)?e=>!1:G(K,e,t=>t instanceof e)}function V(e){for(const t of D)if(t(e))return e=>t(e);if(K(Array)(e)){const t=e;return e=>K(Array)(e)&&(!(t.length>0)||e.every(V(t[0])))}if(e.constructor===Object)return t=>![void 0,null].includes(t)&&Object.keys(e).every(n=>V(e[n])(t[n]));if(e.constructor instanceof Function)return K(e.constructor);throw new TypeError(V.name+" cannot use this object as reference because it has no constructor: "+JSON.stringify(e))}function H(e){const t=void 0===e.dependencies?{}:e.dependencies,n=Object.entries(t).map(([e,t])=>({key:e,selector:t,element:document.querySelector(t)})),o=n.filter(e=>U(e.element));if(o.length>0)return{reason:0,dependencies:o};const r=n.reduce((e,t)=>Object.defineProperty(e,t.key,{value:t.element,enumerable:!0}),{});return z(i=e.action(r))?{reason:1,message:i}:void 0;var i}function W(e){S(`[${e.name}]`);const t="data-"+e.id+"-has-run";var n;document.documentElement.hasAttribute(t)?N(`It looks as though ${e.name} has already run (because the attribute "${t}" was found on <head>). Stopping.`):(document.documentElement.setAttribute(t,""),e.initialAction(),C(e.stylesheets),function e(t,o,r){const i=$(r)&&r<=0,s=[],a=[],l=document.readyState;for(const e of t)(void 0===e.deferUntil||e.deferUntil(l)?s:a).push(e);for(const e of s){const t=H(e);if(void 0!==t)switch(t.reason){case 0:i?o.push({result:t,operation:e}):a.push(e);break;case 1:o.push({result:t,operation:e})}}a.length>0?setTimeout(()=>e(a,o,$(r)?r-1:n.tryUntil(l)?n.extraTries:void 0),n.interval):o.length>0&&n.handleFailures(o)}((n=e.operationsPlan).operations.filter(e=>e.condition(window)),[]))}var J="better-sweclockers",Y="Better SweClockers",Q="2025.4.21.21.58.0",X="sweclockers.com",Z="SweClockers";const ee=String.raw;function te(e,t){return void 0===t?e:t}function ne(e,t){null!==e&&t(e)}function oe(e){throw new Error("assertExhausted: "+e)}function re(e){return e instanceof Error?e.message:"string"==typeof e?e:JSON.stringify(e)}var ie;!function(e){e.GOOGLE="Google",e.DUCKDUCKGO="DuckDuckGo"}(ie||(ie={}));const se=J,ae=Y,le=se+"-",ce=se+"-",de=e=>le+e,ue=e=>ce+e,pe=(de("main-style-element"),{developerTools:de("developer-tools"),document:de("document"),preferenceIdPrefix:de("preference-"),editingTools:de("editing-tools"),editingToolsPreferences:de("editing-tools-preferences"),interestsPreferences:de("interests-preferences"),style:{proofreading:de("proofreading")}}),_e={mousetrap:"mousetrap",developerTools:{error:de("error"),warning:de("warning")},disabled:ue("disabled"),editingTools:ue("editing-tools"),iconButton:ue("icon-button"),pmButton:ue("pm-button"),quoteSignatureButton:ue("quote-signature-button"),mentionEveryoneButton:ue("mention-everyone-button"),shibe:ue("shibe"),button_color:ue("button-color"),button_blockquote:ue("button-blockquote"),button_spoiler:ue("button-spoiler"),button_code:ue("button-code"),button_math:ue("button-math"),splitQuote:ue("split-quote"),colorPalette:ue("color-palette"),smileys:ue("smileys"),preference:ue("preference"),preferenceDescription:ue("preference-description"),inlinePreference:ue("inline-preference"),primaryInlinePreference:ue("primary-inline-preference"),radioButtonPreference:ue("radioButtonPreference"),labeledInput:ue("labeledInput"),subforum:ue("subforum"),textareaSize:ue("textarea-size"),codeInput:ue("code-input"),checkbox:ue("checkbox"),uninteresting:ue("uninteresting")},me={link:e=>e+"/"+se,check:e=>new RegExp(e.source+ee`\/`+se)},fe={caret_position:de("caret_position_in_textarea"),developer_tools_open:de("developer_tools_open"),draft_mode:de("draft_mode")},ge={indentation:"    ",shibeColor:"red",shibeFont:"Comic Sans MS, Chalkboard SE, sans-serif",splitQuoteEmptyLines:3,edit:"[b]EDIT:[/b] ",doge:"[img]https://i.imgur.com/2IGEruO.png[/img]"},be={BLOCKQUOTE:"<div>”</div>",DOGE:"https://i.imgur.com/2IGEruO.png"},he=["textarea","input","select"],ke=Z,we="header",ve="footer",ye="carousel",xe="proofArticle",Ee="preview",Se="wdgtMainRecentNews",Te="wdgtMainRecentThreads",Re="wdgtSideRecentThreads",Oe="wdgtSideRecentClassifieds",Ne="wdgtSideRecentReviews",Ie="wdgtSideGeeksShop",Pe="wdgtSidePopularProducts",Ce="wdgtSideMonsterJobs",Le="wdgtSideExternalFeeds",Be={fieldset:"s5fieldset",button:"button",link:"link",icon:"icon",label:"label",disabled:"is-disabled",inner:"inner",colorOrange:"color-orange",menuItem:"menu-item",settingsNavigation:"menu-items",forumPosts:"forum-posts",forumPost:"forum-post",forumPostProfileDetails:"details",forumPostSignature:"signature",forumPostControls:"controls",forumPostByCurrentUser:"isReader",bbcode:"bbcode",bbDel:"bbDel",bbImage:"bbImage",bbIns:"bbIns",imgControls:"imgControls",notifications:"profile-nav__notifications",proofDialog:"proofDialog",socialMediaButtons:["threadShare","greyContentShare","sideShare"],sideBox:"sideBox",smiley:"smiley",subforums:"subforums",toolbarGroup:"tbGroup",toolbarButton:"tbButton iconButton noselect",toolbarButtonIcon:"btnIcon",toolbarHeadingButton:"header",toolbarTableButton:"tbl"},Ae={action:"action",csrfToken:"csrf",message:"message",recipients:"rcpt[]",title:"title"},De={preview:"doPreview",submit:"doSubmit"},Me={EDIT_MODE_FORUM:/^\/forum\/(.*\/(svara(\?citera)?|redigera)|ny-trad)/,EDIT_MODE_MARKET:/^\/marknad\/(.+\/(redigera|kontakt)|ny-annons)$/,EDIT_MODE_MARKET_CONTACT:/^\/marknad\/.+\/kontakt$/,EDIT_MODE_PM:/^\/medlem\/\d+\/meddelanden\/(?:nytt-meddelande|post\/\d+\/(?:redigera|svara))/,EDIT_MODE_REPORT:/^\/(forum|marknad|medlem\/\d+\/meddelanden)\/.+\/anmal$/,EDIT_MODE_SIGNATURE:/^\/medlem\/\d+\/installningar\/signatur$/,SETTINGS:{link:"/profil/installningar",check:/^\/medlem\/\d+\/installningar/},ARCHIVE:"/arkiv",FOLLOWED:"/forum/foljda",MY_POSTS:"/profil/inlagg",SIGNIN:"/konto/logga-in",SIGNOUT:"/konto/logga-ut",ARTICLE:/^\/artikel\//,GUIDE:/^\/guide\//,NEWS:/^\/nyhet\//,COMPETITION:/^\/tavling\//,TEST:/^\/test\//,TESTPILOT:/^\/testpilot\//,FORUM_CATEGORY:/\/forum\/(\d+)/,FORUM:"/forum",FORUM_THREADS_VIEW:/^\/forum\/(aktiva|obesvarade|foljda|skapade|lasta)$/,PROFILE:e=>new RegExp(`^/medlem/${e}$`),THREAD:/^\/(?:forum|medlem\/\d+\/meddelanden)\/trad\//,POST:/^\/(?:forum|medlem\/\d+\/meddelanden)\/post\//,newPrivateMessage:e=>`/medlem/${e}/meddelanden/nytt-meddelande`,forumPost:e=>"/forum/post/"+e},$e="abbr",ze="b",qe="bq",Ue="cmd",je="code",Fe="color",Ge="del",Ke="dd",Ve="dl",He="dt",We="expander",Je="font",Ye="h",Qe="i",Xe="img",Ze="ins",et="mark",tt="math",nt="noparse",ot="pre",rt="quote",it="size",st="spoiler",at="sub",lt="sup",ct="url",dt={toolbarIcon:e=>`<div style="background-image: url('/gfx/toolbar2x.png'); background-size: 500px auto; background-position: ${e};"></div>`,position_toolbar_url:"0 -125px",position_toolbar_img:"-50px -125px",settings:'<use xlink:href="/gfx/iconmap.svg#icon_settings"></use>'},ut={sentFrom:"Skickades från",mobileSiteDomain:"m."+X};function pt(){var e;const t=null===(e=null===window||void 0===window?void 0:window.session)||void 0===e?void 0:e._userid;return"number"!=typeof t?{tag:"CouldNotExtract"}:1===t?{tag:"NotLoggedIn"}:{tag:"LoggedIn",userID:t}}const _t=gt(me.check(Me.SETTINGS.check)),mt=gt(Me.SETTINGS.check)&&!_t,ft=gt(Me.PROFILE("\\d+"));function gt(e){return e.test(document.location.pathname)}const bt=gt(Me.FORUM_THREADS_VIEW),ht=gt(Me.EDIT_MODE_FORUM),kt=gt(Me.EDIT_MODE_MARKET),wt=gt(Me.EDIT_MODE_MARKET_CONTACT),vt=gt(Me.EDIT_MODE_PM),yt=gt(Me.EDIT_MODE_REPORT),xt=gt(Me.EDIT_MODE_SIGNATURE),Et=[ht,kt,vt,yt,xt].some(e=>e),St=[Me.ARTICLE,Me.GUIDE,Me.NEWS,Me.COMPETITION,Me.TEST,Me.TESTPILOT].some(gt),Tt=!Et&&[Me.THREAD,Me.POST].some(gt),Rt=Tt&&document.location.pathname.startsWith(Me.FORUM);var Ot;!function(e){e.OK="OK",e.ABSENT="ABSENT",e.TYPE_ERROR="TYPE_ERROR",e.JSON_ERROR="JSON_ERROR",e.STORAGE_ERROR="STORAGE_ERROR",e.NUMBER_ERROR="NUMBER_ERROR"}(Ot||(Ot={}));const Nt=()=>localStorage,It=()=>sessionStorage;function Pt(e,t){return Lt(It,e,t)}function Ct(e,t){return Bt(It,e,t)}function Lt(e,t,n){try{const o=function(e,t,n){if(null===e)throw new DOMException;const o=e.getItem(t);if(U(o))return null;const r=JSON.parse(o);if(V(n)(r))return r;throw new TypeError("Saved value had wrong type.")}(e(),t,n);return U(o)?{status:"ABSENT",value:n}:{status:"OK",value:o}}catch(e){return{status:K(SyntaxError)(e)?"JSON_ERROR":K(TypeError)(e)?"TYPE_ERROR":"STORAGE_ERROR",value:n}}}function Bt(e,t,n){try{return function(e,t,n){const o=JSON.stringify(n,(e,t)=>{if("number"==typeof t&&!Number.isFinite(t))throw new RangeError(t.toString());return t});if(null===e)throw new DOMException;e.setItem(t,o)}(e(),t,n),{status:"OK",value:n}}catch(e){return{status:K(RangeError)(e)?"NUMBER_ERROR":K(SyntaxError)(e)||K(TypeError)(e)?"JSON_ERROR":"STORAGE_ERROR",value:n}}}function At(e,t){try{return e().removeItem(t),{status:"OK",value:!0}}catch(e){return{status:"STORAGE_ERROR",value:!1}}}function Dt(e,t){return void 0===t?e:t}function Mt(e,t){switch(!0){case Number.isNaN(t):return"NaN";case t===1/0:return"Infinity";case t===-1/0:return"-Infinity";default:return t}}function $t(e){return JSON.stringify(e,Mt)}function zt(e,t){t.constraints=e.concat(Dt([],t.constraints))}class qt{constructor(e){if(""===e.key)throw new TypeError(`Empty preference key in this ${this.getClassName()}:\n${$t(e)}`);this.key=e.key,this.default=e.default,this.label=e.label,this.description=Dt("",e.description),this.constraints=Dt([],e.constraints),this.dependencies=Dt([],e.dependencies),this.extras=Dt({},e.extras);const t=this.validate(e.default);z(t)&&this.invalidValue(e.default,t)}validate(e){const t=this.constraints;for(let n=0,o=t.length;n<o;n++){const o=t[n];if(!o.requirement(e))return o.message(e)}return{value:e}}toValid(e){return z(this.validate(e))?this.default:e}toString(){return`${this.getClassName()} '${this.key}'`}invalidValue(e,t){throw new Error(`${$t(e)} is not a valid value for ${this}. Reason: ${t}`)}}var Ut;!function(e){e[e.OK=0]="OK",e[e.INVALID_VALUE=1]="INVALID_VALUE",e[e.TYPE_ERROR=2]="TYPE_ERROR",e[e.JSON_ERROR=3]="JSON_ERROR",e[e.STORAGE_ERROR=4]="STORAGE_ERROR"}(Ut||(Ut={}));const jt=(e,t)=>e.response;function Ft(e){return`Unknown preference:\n\n${$t(e)}.`}function Gt(e){switch(e){case"OK":case"ABSENT":return 0;case"NUMBER_ERROR":return 1;case"TYPE_ERROR":return 2;case"JSON_ERROR":return 3;case"STORAGE_ERROR":return 4}}function Kt(e){throw new Error("assertUnreachable: "+e)}function Vt(e,t){return`[${e}${void 0===t?"":`="${t}"`}]`}function Ht(e){return`[/${e}]`}function Wt(e,t){return Vt(e,t)+Ht(e)}function Jt(e){return![Yt,Qt].some(t=>t(e))}function Yt(e){return/Gecko\/\d{8}/.test(e)}function Qt(e){return e.includes("Android ")}const Xt={loading:"Laddar …",preferences_link:ae,signout_confirmation:"Är du säker på att du vill logga ut?",draft_mode_toggle_label:"Utkast",draft_mode_toggle_tooltip:"Slipp posta ofärdiga inlägg av misstag",draft_mode_enabled_tooltip:'Kryssa ur "Utkast" för att posta',improved_url_button_url:"Adress (URL):",improved_url_button_text:"Länktext:",nbsps_confirm:e=>e+" mellanslag kommer ersättas med hårda mellanslag. Är du säker?",generic_lines_confirm:e=>`${e} markerad${e>1?"e rader":" rad"} kommer formateras. Är du säker?`,quote_signature_label:"Citera med sign.",quote_signature_tooltip:"Citera inlägget och dess signatur",quote_signature_tooltip_no_signature:e=>e+" har ingen signatur",mention_everyone_label:"Nämn alla",mention_everyone_tooltip:"Nämn alla tråddeltagare på den här sidan i ett nytt inlägg",uninteresting_subforum:e=>`Du har markerat kategorin ${e} som ointressant.`,pm_link_label:"&nbsp;PM",go_to_post:"Gå till inlägget",link_to_top_tooltip:"Gå till toppen",textarea_size_small:"Liten textruta",textarea_size_large:"Stor textruta",tooltip_h:"Rubrik",tooltip_table:"Tabell",down_for_maintenance:"Nere för underhåll",my_posts:"Mina inlägg"},Zt={_:{NO_LABEL:"",shortcut_label:"BSC",title:"Inställningar för Better SweClockers",back_to_sweclockers:"Tillbaka till "+ke,save_notice:"Inställningarna sparas automatiskt, men endast lokalt på den här enheten.",failed_to_fetch_categories:"Kunde inte hämta forumkategorier.",in_quick_reply_form:"i formuläret <em>Snabbsvar</em>",in_quick_reply_form_description:"Längst ner i trådar"},general:{label:"Allmänt",lock_heights:"Lås höjden på reklam etc",lock_heights_description:"Förhindrar att sidans innehåll hoppar när t ex reklam laddas in",improved_corrections:"Bättre rättelsegränssnitt",improved_corrections_description:"Gör det enklare att skicka in rättelser",insert_preferences_shortcut:"Genväg till inställningar för "+ae,insert_preferences_shortcut_description:`Visa en länk till ${ae} inställningsmeny högst upp`,replace_followed_threads_link:"Ersätt länken <em>Följda trådar</em> med <em>Mina inlägg</em>",replace_followed_threads_link_description:"Som det låter",redirect_home_page_to_archive:"Peka om startsidan till arkivet",redirect_home_page_to_archive_description:"För dig som föredrar kronologisk ordning i nyhetsflödet",remember_location_in_market:"Kom ihåg min plats i marknaden",remember_location_in_market_description:"Slipp fylla i län och stad varje gång du skapar en annons"},forum_threads:{label:"Forumtrådar",improved_pagination_buttons:"Bättre bläddringsknappar",improved_pagination_buttons_description:"Större knappar som är lättare att klicka på",insert_link_to_top:"Länk till toppen längst ner",insert_link_to_top_description:"Som det låter",highlight_own_posts:"Framhäv egna inlägg extra tydligt",highlight_own_posts_description:"Gör den orangea kanten på egna inlägg tjockare",insert_pm_links:"PM-knappar",insert_pm_links_description:"Skicka PM till en användare direkt från deras inlägg",mention_everyone_button:"<em>Nämn alla</em>-knapp",mention_everyone_button_description:"Nämn alla tråddeltagare på den aktuella sidan (framförallt användbart i annonskommentarer)",quote_signature_buttons:"<em>Citera med signatur</em>-knappar",quote_signature_buttons_description:"Citera ett inlägg inklusive dess signatur",quote_signature_message:"Meddelande vid citering med signatur",quote_signature_message_description:"Fylls i automatiskt när du citerar med signatur",quote_signature_message_default:"Nu består trådens värde även när du byter signatur."},edit_mode:{label:"Redigeringsläge",draft_mode_toggle:"Kryssrutan <em>Utkast</em>",draft_mode_toggle_description:"Slipp posta ofärdiga inlägg av misstag",textarea_size_save:"Kom ihåg textrutans storlek",textarea_size_save_description:"Behåll samma storlek på textrutan mellan sidladdningar",textarea_size_toggle:"Knappar för att växla storlek på textrutan",textarea_size_toggle_description:"Toggla textrutans storlek precis ovanför den",textarea_size_small:"mellan",textarea_size_large:"och",textarea_size_unit:"px",monospace_font:'<span style="font-family: monospace">Monospace</span>-font i textrutan',monospace_font_description:"Underlättar formatering av kod och dylikt",keyboard_shortcuts:"Kortkommandon för att skicka (<kbd>Ctrl</kbd> + <kbd>S</kbd>), förhandsgranska (<kbd>Ctrl</kbd> + <kbd>P</kbd>) och länka (<kbd>Ctrl</kbd> + <kbd>K</kbd>)",keyboard_shortcuts_description:"Skicka, förhandsgranska och länka med tangentbordet",insert_tab:"Tab-tangenten infogar",insert_tab_description:"Använd Tab-tangenten i textrutan",insert_tab_spaces:e=>e+" blanksteg",insert_tab_tab:"tabbtecken",improved_builtin_editing_tools:"Förbättrade inbyggda redigeringsverktyg",improved_builtin_editing_tools_description:"Mer intuitiv funktionalitet och ångra-stöd (i webbläsare som stöder det)",insert_heading_toolbar_button:"Knapp för att formatera som rubrik",insert_heading_toolbar_button_description:"Knappen infogar BB-taggen "+Vt(Ye),insert_table_toolbar_button:"Knapp för att infoga tabell",insert_table_toolbar_button_description:"Knappen infogar en komplett tabell",remember_caret_position:"Kom ihåg markörens position vid förhandsgranskning",remember_caret_position_description:"Fortsätt skriva precis där du var när du förhandsgranskat ett inlägg",remove_mobile_site_disclaimer:`Ta bort <small><em>${ut.sentFrom} ${ut.mobileSiteDomain}</em></small>`,remove_mobile_site_disclaimer_description:`Ta automatiskt bort ${ut.mobileSiteDomain}-disclaimern från citat`},editing_tools:{label:"Utökade formateringsverktyg",enable:"Aktivera utökade formateringsverktyg",enable_description:"En hel samling extra formateringsverktyg för att underlätta inläggsskrivandet",position:{label:"Placering",description:"Som det låter",above:"Ovanför textfältet",below:"Under textfältet"},special_characters:"Verktyg för specialtecken",meta:"Verktyg för tillagd och borttagen text",code:"Kodrelaterade verktyg",math:"Matematikrelaterade verktyg",whitespace:"Whitespaceverktyg",definitions:"Verktyg för definitioner",embed:"Verktyg för länkar, bilder och sökresultat",search_engine:{label:"Sökmotor",description:"Vilken sökmotor som ska användas för länkar till sökresultat"},doge:"very doge buttons",doge_description:"            wow",color_palette:"Färgpaletten",color_palette_description:"Ändra textfärg snabbt och enkelt",smileys:"Smileys"},customize_content:{label:"Anpassa innehåll",carousel:"Bildspelsvyn högst upp",social_media:"Knappar för sociala medier",guides:"Guider",popular_galleries:"Bubblare i Galleriet",new_in_forum_side:"Nytt i forumet (till höger)",new_in_market:"Senaste privatannonserna",new_in_test_lab:"Nytt i testlabbet",in_the_store:"Just nu i butiken",popular_at_prisjakt:"Populärast på Prisjakt",new_tech_jobs:"Nya teknikjobb",external_news:"Externa nyheter",more_articles:"Fler artiklar (under varje artikel)",latest_news:"Senaste nyheterna (längst ner)",new_in_forum_main:"Nytt i forumet (längst ner)",footer:"Sidfot"},advanced:{label:"Avancerat",prevent_accidental_signout:"Fråga vid utloggning",prevent_accidental_signout_description:"Undvik att logga ut av misstag",prevent_accidental_unload:"Fråga vid navigering från redigeringsläge",prevent_accidental_unload_description:"Värdefullt om du råkar klicka på fel länk mitt i ett inlägg",improved_image_controls:"Bättre zoom- och länkikoner i bilder",improved_image_controls_description:"Visa ikoner framför bilder endast när du hovrar över dem",disable_scroll_restoration:"Förhindra webbläsaren från att komma ihåg scrollning",disable_scroll_restoration_description:"Kan vara praktiskt för tangentbordssurfare",down_for_maintenance:"Nere för underhåll varje natt mellan 4:30 och 5:10",down_for_maintenance_description:"Never forget!",proofread_articles:{label:"Markera möjliga fel i artiklar",description:"Exempelvis hårda mellanslag och tankstreck",always:"Alltid",corrections:"I rättelsegränssnittet",never:"Aldrig"},proofread_forum_posts:"Markera möjliga fel i foruminlägg (i redigeringsläge)",proofread_forum_posts_description:"Samma som ovan, fast i forumet",undo_support:{label:"När ett verktyg infogar text",description:`Om din webbläsare inte låter dig ångra åtgärder utförda med redigeringsverktygen kan ${ae} skydda markerad text mot oavsiktlig radering om du råkar trycka på fel knapp`,replace_selected:"Ersätt markerad text – rekommenderas i alla webbläsare med fullgott ångra-stöd",keep_selected:'Behåll markerad text – rekommenderas i <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1220696">Firefox/Gecko</a> samt på Android'},developer_mode:"Utvecklarläge",developer_mode_description:"Visa fel och varningar längst ner på skärmen",custom_css_enable:"Infoga egen CSS:",custom_css_enable_description:"Anpassa layout och utseende precis som du vill",custom_css_warning:"Klistra aldrig in kod som du inte litar på!"},keyboard:"Kortkommandon",interests:{label:"Intressen"}},en={size_label:"<big>A</big><small>A</small>",size_tooltip:"Textstorlek",color_tooltip:"Textfärg",font_tooltip:"Typsnitt",mark_label:"<mark>mark</mark>",mark_tooltip:"Markerad/framhävd text",abbr_label:$e,abbr_tooltip:"Förkortning",quote_tooltip:"Forumcitat",bq_label:"bq",bq_tooltip:"Allmänt blockcitat",spoiler_tooltip:"Spoilers",expander_tooltip:"Långa textstycken",noparse_tooltip:"Inaktivera BB-kod i en viss del av texten",pre_tooltip:"Visa indrag och mellanrum som de är",cmd_tooltip:"Inlinekod",code_tooltip:"Kodstycke",math_label:"<big><i>x</i></big>",math_tooltip:"Matematiska formler och uttryck",sub_label:"<span>⬚</span><sub><i>x</i></sub>",sub_tooltip:"Nedsänkt text",sup_label:"<span>⬚</span><sup><i>x</i></sup>",sup_tooltip:"Upphöjd text",nbsps_label:"␣",nbsps_tooltip:"Ersätt alla mellanslag med hårda mellanslag i markerad text",url_tooltip:"Klickbar länk",img_tooltip:"Bädda in bilder",search_link_tooltip:"Länka till en sökning på markerad text",shibe_label:"shibe",shibe_tooltip:"wow",doge_label:"doge",doge_tooltip:"pls click",split_quote_tooltip:"Splitta ett citat mitt i",edit_label:"Edit",edit_tooltip:"Infoga en redigeringsnotis",ins_label:`<ins class="${Be.bbIns}">${Ze}</ins>`,ins_tooltip:"Tillagd text",del_label:`<del class="${Be.bbDel}">${Ge}</del>`,del_tooltip:"Borttagen text",dl_label:Ve,dl_tooltip:"Definitionslista",dt_label:He,dt_tooltip:`Term att definiera/beskriva (måste ligga inuti en ${Vt(Ve)})`,dd_label:Ke,dd_tooltip:`Termens definition/beskrivning (måste ligga inuti en ${Vt(Ve)} och efter en ${Vt(He)})`},tn=[{insert:"‑",tooltip:"Hårt bindestreck (tillåter ej radbrytning)"},{insert:"–",tooltip:"Kort tankstreck (talstreck; intervall)"},{insert:"—",tooltip:"Långt tankstreck"},{insert:"…",tooltip:"Uteslutningstecken (Ellipsis)"},{insert:"≈",tooltip:"Ungefär lika med"},{insert:"−",tooltip:"Minustecken"},{insert:"×",tooltip:"Multiplikationstecken"},{insert:"·",tooltip:"Halvhög punkt (multiplikationstecken)"},{insert:"°",tooltip:"Gradtecken"},{insert:" °C",tooltip:"Grader celsius (inkl. hårt blanksteg)"},{insert:" ",label:"NBSP",tooltip:"Hårt blanksteg (tillåter ej radbrytning)"},{insert:" ",label:"NNBSP",tooltip:"Smalt hårt blanksteg (tillåter ej radbrytning, används som enhets- och tusentalsseparator)"},{insert:"²",tooltip:"Upphöjd tvåa"},{insert:"′",tooltip:"Primtecken (fot; minuter)"},{insert:"″",tooltip:"Dubbelprimtecken (tum; sekunder)"},{insert:"✓",tooltip:"Bock"},{insert:"→",tooltip:"Högerpil"},{insert:"™",tooltip:"Varumärke (trademark)"}],nn={nothing_logged:"Nothing has been logged.",tooltip:{error:e=>e+" fel",warning:e=>`${e} varning${1===e?"":"ar"}`}};class on extends qt{getClassName(){return"BooleanPreference"}}class rn extends qt{constructor(e){const t=e.options;if(zt([{requirement:e=>t.some(t=>t.value===e),message:e=>$t(e)+" is not among the available options."}],e),super(e),t.length<2)throw new Error(`Parameter 'options' has less than two elements in ${this}.`);const n=[];t.forEach(e=>{const t=this.validate(e.value);if(z(t))throw new Error(`Option value ${$t(e.value)} in ${this} is invalid. Reason: ${t}`);if(n.indexOf(e.value)>-1)throw new Error(`Multiple options with value ${$t(e.value)} in ${this}.`);n.push(e.value)}),this.options=t}getClassName(){return"MultichoicePreference"}toValid(e){return this.default}}class sn extends qt{constructor(e){const t=Dt(0,e.minLength),n=Dt(1/0,e.maxLength),o=[];if(e.multiline||o.push({requirement:e=>!e.includes("\n"),message:e=>"Line breaks are not allowed."}),t>0&&o.push({requirement:e=>e.length>=t,message:e=>`Minimum length is ${t} characters.`}),n<1/0&&o.push({requirement:e=>e.length<=n,message:e=>`Maximum length ${n} exceeded.`}),zt(o,e),super(e),t<0)throw new Error(`Parameter 'minLength' cannot be negative, but it was ${t} in ${this}.`);this.multiline=e.multiline,this.maxLength=n,this.minLength=t}getClassName(){return"StringPreference"}toValid(e){const t=e.substring(0,this.maxLength);return super.toValid(this.multiline?t:t.replace(sn.REGEX_LINE_BREAKS," "))}fromString(e){return this.validate(e)}}sn.REGEX_LINE_BREAKS=/\n+/g;const an=new on({key:"custom_css_enable",default:!1,label:Zt.advanced.custom_css_enable,description:Zt.advanced.custom_css_enable_description});var ln={prevent_accidental_signout:new on({key:"prevent_accidental_signout",default:!0,label:Zt.advanced.prevent_accidental_signout,description:Zt.advanced.prevent_accidental_signout_description}),prevent_accidental_unload:new on({key:"prevent_accidental_unload",default:!0,label:Zt.advanced.prevent_accidental_unload,description:Zt.advanced.prevent_accidental_unload_description}),improved_image_controls:new on({key:"improved_image_controls",default:!0,label:Zt.advanced.improved_image_controls,description:Zt.advanced.improved_image_controls_description}),disable_scroll_restoration:new on({key:"disable_scroll_restoration",default:!1,label:Zt.advanced.disable_scroll_restoration,description:Zt.advanced.disable_scroll_restoration_description}),down_for_maintenance:new on({key:"down_for_maintenance",default:!1,label:Zt.advanced.down_for_maintenance,description:Zt.advanced.down_for_maintenance_description}),proofread_articles:new rn({key:"proofread_articles",default:2,label:Zt.advanced.proofread_articles.label,description:Zt.advanced.proofread_articles.description,options:[{value:0,label:Zt.advanced.proofread_articles.always},{value:1,label:Zt.advanced.proofread_articles.corrections},{value:2,label:Zt.advanced.proofread_articles.never}]}),proofread_forum_posts:new on({key:"proofread_forum_posts",default:!1,label:Zt.advanced.proofread_forum_posts,description:Zt.advanced.proofread_forum_posts_description}),undo_support:new rn({key:"undo_support",default:Jt(navigator.userAgent),label:Zt.advanced.undo_support.label,description:Zt.advanced.undo_support.description,options:[{value:!0,label:Zt.advanced.undo_support.replace_selected},{value:!1,label:Zt.advanced.undo_support.keep_selected}]}),developer_mode:new on({key:"developer_mode",default:!1,label:Zt.advanced.developer_mode,description:Zt.advanced.developer_mode_description}),custom_css_enable:an,custom_css_code:new sn({key:"custom_css_code",default:"",label:Zt._.NO_LABEL,description:Zt.advanced.custom_css_enable_description,multiline:!0,extras:{class:_e.codeInput},dependencies:[{preference:an,condition:e=>e}]})},cn={carousel:new on({key:"customize_content_carousel",default:!0,label:Zt.customize_content.carousel}),social_media:new on({key:"customize_content_social_media",default:!0,label:Zt.customize_content.social_media}),guides:new on({key:"customize_content_guides",default:!0,label:Zt.customize_content.guides}),popular_galleries:new on({key:"customize_content_popular_galleries",default:!0,label:Zt.customize_content.popular_galleries}),new_in_forum_side:new on({key:"customize_content_new_in_forum_side",default:!0,label:Zt.customize_content.new_in_forum_side}),new_in_market:new on({key:"customize_content_new_in_market",default:!0,label:Zt.customize_content.new_in_market}),new_in_test_lab:new on({key:"customize_content_new_in_test_lab",default:!0,label:Zt.customize_content.new_in_test_lab}),in_the_store:new on({key:"customize_content_in_the_store",default:!0,label:Zt.customize_content.in_the_store}),popular_at_prisjakt:new on({key:"customize_content_popular_at_prisjakt",default:!0,label:Zt.customize_content.popular_at_prisjakt}),new_tech_jobs:new on({key:"customize_content_new_tech_jobs",default:!0,label:Zt.customize_content.new_tech_jobs}),external_news:new on({key:"customize_content_external_news",default:!0,label:Zt.customize_content.external_news}),more_articles:new on({key:"customize_content_more_articles",default:!0,label:Zt.customize_content.more_articles}),latest_news:new on({key:"customize_content_latest_news",default:!0,label:Zt.customize_content.latest_news}),new_in_forum_main:new on({key:"customize_content_new_in_forum_main",default:!0,label:Zt.customize_content.new_in_forum_main}),footer:new on({key:"customize_content_footer",default:!0,label:Zt.customize_content.footer})};class dn extends qt{static postParse(e,t){return z(t)?t:e.validate(t.value)}constructor(e){zt([{requirement:Number.isFinite,message:e=>e+" is not a finite number."}],e),super(e)}}class un extends dn{constructor(e){zt([un.CONSTRAINT_INTEGER],e),super(e)}getClassName(){return"IntegerPreference"}static parse(e){const t=parseInt(e,10);return Number.isNaN(t)?`"${e}" is not an integer.`:{value:t}}toValid(e){return super.toValid(Math.round(e))}fromString(e){return dn.postParse(this,un.parse(e))}}un.CONSTRAINT_INTEGER={requirement:Number.isInteger,message:e=>e+" is not an integer."};class pn extends dn{constructor(e){const t=e.min,n=e.max;if(zt([{requirement:e=>e>=t,message:e=>`${e} is smaller than minimum value ${t}.`},{requirement:e=>e<=n,message:e=>`${e} is greater than maximum value ${n}.`}],e),super(e),!Number.isFinite(t)||!Number.isFinite(n))throw new Error(`Parameters 'min' and 'max' must be finite numbers, but they were ${t} and ${n} in ${this}.`);if(t>n)throw new Error(`Parameter 'min' cannot be greater than parameter 'max', but they were ${t} and ${n} in ${this}.`);this.min=t,this.max=n}toValid(e){return super.toValid(Math.max(this.min,Math.min(this.max,e)))}}class _n extends pn{getClassName(){return"IntegerRangePreference"}constructor(e){if(zt([un.CONSTRAINT_INTEGER],e),super(e),!Number.isInteger(e.min)||!Number.isInteger(e.max))throw new TypeError(`Parameters 'min' and 'max' must be integers, but they were ${e.min} and ${e.max} in ${this}.`)}toValid(e){return super.toValid(Math.round(e))}fromString(e){return dn.postParse(this,un.parse(e))}}const mn=new on({key:"textarea_size_toggle",default:!0,label:Zt.edit_mode.textarea_size_toggle,description:Zt.edit_mode.textarea_size_toggle_description,extras:{class:[_e.inlinePreference,_e.primaryInlinePreference]}}),fn=[{preference:mn,condition:e=>e}],gn="\t";var bn,hn,kn,wn,vn,yn={draft_mode_toggle:new on({key:"draft_mode_toggle",default:!0,label:Zt.edit_mode.draft_mode_toggle,description:Zt.edit_mode.draft_mode_toggle_description}),textarea_size:new _n({key:"textarea_size",default:360,min:0,max:Number.MAX_VALUE,label:Zt._.NO_LABEL,extras:{implicit:!0}}),textarea_size_toggle:mn,textarea_size_small:new _n({key:"textarea_size_small",default:250,min:50,max:2e3,label:Zt.edit_mode.textarea_size_small,description:Zt.edit_mode.textarea_size_toggle_description,dependencies:fn,extras:{class:_e.inlinePreference}}),textarea_size_large:new _n({key:"textarea_size_large",default:750,min:50,max:2e3,label:Zt.edit_mode.textarea_size_large,description:Zt.edit_mode.textarea_size_toggle_description,dependencies:fn,extras:{class:_e.inlinePreference,suffix:Zt.edit_mode.textarea_size_unit}}),monospace_font:new on({key:"monospace_font",default:!1,label:Zt.edit_mode.monospace_font,description:Zt.edit_mode.monospace_font_description,extras:{class:[_e.inlinePreference,_e.primaryInlinePreference]}}),monospace_font_in_quick_reply_form:new on({key:"monospace_font_in_quick_reply_form",default:!1,label:Zt._.in_quick_reply_form,description:Zt._.in_quick_reply_form_description,extras:{class:_e.inlinePreference}}),improved_builtin_editing_tools:new on({key:"improved_builtin_editing_tools",default:!0,label:Zt.edit_mode.improved_builtin_editing_tools,description:Zt.edit_mode.improved_builtin_editing_tools_description}),insert_heading_toolbar_button:new on({key:"insert_heading_toolbar_button",default:!0,label:Zt.edit_mode.insert_heading_toolbar_button,description:Zt.edit_mode.insert_heading_toolbar_button_description}),insert_table_toolbar_button:new on({key:"insert_table_toolbar_button",default:!0,label:Zt.edit_mode.insert_table_toolbar_button,description:Zt.edit_mode.insert_table_toolbar_button_description}),keyboard_shortcuts:new on({key:"keyboard_shortcuts",default:!1,label:Zt.edit_mode.keyboard_shortcuts,description:Zt.edit_mode.keyboard_shortcuts_description,extras:{class:[_e.inlinePreference,_e.primaryInlinePreference]}}),keyboard_shortcuts_in_quick_reply:new on({key:"keyboard_shortcuts_in_quick_reply",default:!1,label:Zt._.in_quick_reply_form,description:Zt._.in_quick_reply_form_description,extras:{class:_e.inlinePreference}}),insert_tab:new on({key:"insert_tab",default:!0,label:Zt.edit_mode.insert_tab,description:Zt.edit_mode.insert_tab_description,extras:{class:[_e.inlinePreference,_e.primaryInlinePreference]}}),insert_tab_content:new rn({key:"insert_tab_content",default:gn,label:Zt._.NO_LABEL,options:[{value:gn,label:Zt.edit_mode.insert_tab_tab}].concat([2,3,4].map(e=>({value:" ".repeat(e),label:Zt.edit_mode.insert_tab_spaces(e)}))),extras:{class:[_e.inlinePreference]}}),remember_caret_position:new on({key:"remember_caret_position",default:!0,label:Zt.edit_mode.remember_caret_position,description:Zt.edit_mode.remember_caret_position_description}),remove_mobile_site_disclaimer:new on({key:"remove_mobile_site_disclaimer",default:!0,label:Zt.edit_mode.remove_mobile_site_disclaimer,description:Zt.edit_mode.remove_mobile_site_disclaimer_description})},xn=n(2),En=n.n(xn),Sn={},Tn=[],Rn=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function On(e,t){for(var n in t)e[n]=t[n];return e}function Nn(e){var t=e.parentNode;t&&t.removeChild(e)}function In(e,t,n){var o,r,i,s=arguments,a={};for(i in t)"key"==i?o=t[i]:"ref"==i?r=t[i]:a[i]=t[i];if(arguments.length>3)for(n=[n],i=3;i<arguments.length;i++)n.push(s[i]);if(null!=n&&(a.children=n),"function"==typeof e&&null!=e.defaultProps)for(i in e.defaultProps)void 0===a[i]&&(a[i]=e.defaultProps[i]);return Pn(e,a,o,r,null)}function Pn(e,t,n,o,r){var i={type:e,props:t,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==r?++bn.__v:r};return null!=bn.vnode&&bn.vnode(i),i}function Cn(e){return e.children}function Ln(e,t){this.props=e,this.context=t}function Bn(e,t){if(null==t)return e.__?Bn(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?Bn(e):null}function An(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return An(e)}}function Dn(e){(!e.__d&&(e.__d=!0)&&hn.push(e)&&!Mn.__r++||wn!==bn.debounceRendering)&&((wn=bn.debounceRendering)||kn)(Mn)}function Mn(){for(var e;Mn.__r=hn.length;)e=hn.sort((function(e,t){return e.__v.__b-t.__v.__b})),hn=[],e.some((function(e){var t,n,o,r,i,s,a;e.__d&&(s=(i=(t=e).__v).__e,(a=t.__P)&&(n=[],(o=On({},i)).__v=i.__v+1,r=Gn(a,i,o,t.__n,void 0!==a.ownerSVGElement,null!=i.__h?[s]:null,n,null==s?Bn(i):s,i.__h),Kn(n,i),r!=s&&An(i)))}))}function $n(e,t,n,o,r,i,s,a,l,c){var d,u,p,_,m,f,g,b=o&&o.__k||Tn,h=b.length;for(l==Sn&&(l=null!=s?s[0]:h?Bn(o,0):null),n.__k=[],d=0;d<t.length;d++)if(null!=(_=n.__k[d]=null==(_=t[d])||"boolean"==typeof _?null:"string"==typeof _||"number"==typeof _?Pn(null,_,null,null,_):Array.isArray(_)?Pn(Cn,{children:_},null,null,null):null!=_.__e||null!=_.__c?Pn(_.type,_.props,_.key,null,_.__v):_)){if(_.__=n,_.__b=n.__b+1,null===(p=b[d])||p&&_.key==p.key&&_.type===p.type)b[d]=void 0;else for(u=0;u<h;u++){if((p=b[u])&&_.key==p.key&&_.type===p.type){b[u]=void 0;break}p=null}m=Gn(e,_,p=p||Sn,r,i,s,a,l,c),(u=_.ref)&&p.ref!=u&&(g||(g=[]),p.ref&&g.push(p.ref,null,_),g.push(u,_.__c||m,_)),null!=m?(null==f&&(f=m),l=zn(e,_,p,b,s,m,l),c||"option"!=n.type?"function"==typeof n.type&&(n.__d=l):e.value=""):l&&p.__e==l&&l.parentNode!=e&&(l=Bn(p))}if(n.__e=f,null!=s&&"function"!=typeof n.type)for(d=s.length;d--;)null!=s[d]&&Nn(s[d]);for(d=h;d--;)null!=b[d]&&Wn(b[d],b[d]);if(g)for(d=0;d<g.length;d++)Hn(g[d],g[++d],g[++d])}function zn(e,t,n,o,r,i,s){var a,l,c;if(void 0!==t.__d)a=t.__d,t.__d=void 0;else if(r==n||i!=s||null==i.parentNode)e:if(null==s||s.parentNode!==e)e.appendChild(i),a=null;else{for(l=s,c=0;(l=l.nextSibling)&&c<o.length;c+=2)if(l==i)break e;e.insertBefore(i,s),a=s}return void 0!==a?a:i.nextSibling}function qn(e,t,n){"-"===t[0]?e.setProperty(t,n):e[t]=null==n?"":"number"!=typeof n||Rn.test(t)?n:n+"px"}function Un(e,t,n,o,r){var i,s,a;if(r&&"className"==t&&(t="class"),"style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof o&&(e.style.cssText=o=""),o)for(t in o)n&&t in n||qn(e.style,t,"");if(n)for(t in n)o&&n[t]===o[t]||qn(e.style,t,n[t])}else"o"===t[0]&&"n"===t[1]?(i=t!==(t=t.replace(/Capture$/,"")),(s=t.toLowerCase())in e&&(t=s),t=t.slice(2),e.l||(e.l={}),e.l[t+i]=n,a=i?Fn:jn,n?o||e.addEventListener(t,a,i):e.removeEventListener(t,a,i)):"list"!==t&&"tagName"!==t&&"form"!==t&&"type"!==t&&"size"!==t&&"download"!==t&&"href"!==t&&!r&&t in e?e[t]=null==n?"":n:"function"!=typeof n&&"dangerouslySetInnerHTML"!==t&&(t!==(t=t.replace(/xlink:?/,""))?null==n||!1===n?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),n):null==n||!1===n&&!/^ar/.test(t)?e.removeAttribute(t):e.setAttribute(t,n))}function jn(e){this.l[e.type+!1](bn.event?bn.event(e):e)}function Fn(e){this.l[e.type+!0](bn.event?bn.event(e):e)}function Gn(e,t,n,o,r,i,s,a,l){var c,d,u,p,_,m,f,g,b,h,k,w=t.type;if(void 0!==t.constructor)return null;null!=n.__h&&(l=n.__h,a=t.__e=n.__e,t.__h=null,i=[a]),(c=bn.__b)&&c(t);try{e:if("function"==typeof w){if(g=t.props,b=(c=w.contextType)&&o[c.__c],h=c?b?b.props.value:c.__:o,n.__c?f=(d=t.__c=n.__c).__=d.__E:("prototype"in w&&w.prototype.render?t.__c=d=new w(g,h):(t.__c=d=new Ln(g,h),d.constructor=w,d.render=Jn),b&&b.sub(d),d.props=g,d.state||(d.state={}),d.context=h,d.__n=o,u=d.__d=!0,d.__h=[]),null==d.__s&&(d.__s=d.state),null!=w.getDerivedStateFromProps&&(d.__s==d.state&&(d.__s=On({},d.__s)),On(d.__s,w.getDerivedStateFromProps(g,d.__s))),p=d.props,_=d.state,u)null==w.getDerivedStateFromProps&&null!=d.componentWillMount&&d.componentWillMount(),null!=d.componentDidMount&&d.__h.push(d.componentDidMount);else{if(null==w.getDerivedStateFromProps&&g!==p&&null!=d.componentWillReceiveProps&&d.componentWillReceiveProps(g,h),!d.__e&&null!=d.shouldComponentUpdate&&!1===d.shouldComponentUpdate(g,d.__s,h)||t.__v===n.__v){d.props=g,d.state=d.__s,t.__v!==n.__v&&(d.__d=!1),d.__v=t,t.__e=n.__e,t.__k=n.__k,d.__h.length&&s.push(d),function e(t,n,o){var r,i;for(r=0;r<t.__k.length;r++)(i=t.__k[r])&&(i.__=t,i.__e&&("function"==typeof i.type&&i.__k.length>1&&e(i,n,o),n=zn(o,i,i,t.__k,null,i.__e,n),"function"==typeof t.type&&(t.__d=n)))}(t,a,e);break e}null!=d.componentWillUpdate&&d.componentWillUpdate(g,d.__s,h),null!=d.componentDidUpdate&&d.__h.push((function(){d.componentDidUpdate(p,_,m)}))}d.context=h,d.props=g,d.state=d.__s,(c=bn.__r)&&c(t),d.__d=!1,d.__v=t,d.__P=e,c=d.render(d.props,d.state,d.context),d.state=d.__s,null!=d.getChildContext&&(o=On(On({},o),d.getChildContext())),u||null==d.getSnapshotBeforeUpdate||(m=d.getSnapshotBeforeUpdate(p,_)),k=null!=c&&c.type==Cn&&null==c.key?c.props.children:c,$n(e,Array.isArray(k)?k:[k],t,n,o,r,i,s,a,l),d.base=t.__e,t.__h=null,d.__h.length&&s.push(d),f&&(d.__E=d.__=null),d.__e=!1}else null==i&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=Vn(n.__e,t,n,o,r,i,s,l);(c=bn.diffed)&&c(t)}catch(e){t.__v=null,(l||null!=i)&&(t.__e=a,t.__h=!!l,i[i.indexOf(a)]=null),bn.__e(e,t,n)}return t.__e}function Kn(e,t){bn.__c&&bn.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){bn.__e(e,t.__v)}}))}function Vn(e,t,n,o,r,i,s,a){var l,c,d,u,p,_=n.props,m=t.props;if(r="svg"===t.type||r,null!=i)for(l=0;l<i.length;l++)if(null!=(c=i[l])&&((null===t.type?3===c.nodeType:c.localName===t.type)||e==c)){e=c,i[l]=null;break}if(null==e){if(null===t.type)return document.createTextNode(m);e=r?document.createElementNS("http://www.w3.org/2000/svg",t.type):document.createElement(t.type,m.is&&{is:m.is}),i=null,a=!1}if(null===t.type)_===m||a&&e.data===m||(e.data=m);else{if(null!=i&&(i=Tn.slice.call(e.childNodes)),d=(_=n.props||Sn).dangerouslySetInnerHTML,u=m.dangerouslySetInnerHTML,!a){if(null!=i)for(_={},p=0;p<e.attributes.length;p++)_[e.attributes[p].name]=e.attributes[p].value;(u||d)&&(u&&(d&&u.__html==d.__html||u.__html===e.innerHTML)||(e.innerHTML=u&&u.__html||""))}(function(e,t,n,o,r){var i;for(i in n)"children"===i||"key"===i||i in t||Un(e,i,null,n[i],o);for(i in t)r&&"function"!=typeof t[i]||"children"===i||"key"===i||"value"===i||"checked"===i||n[i]===t[i]||Un(e,i,t[i],n[i],o)})(e,m,_,r,a),u?t.__k=[]:(l=t.props.children,$n(e,Array.isArray(l)?l:[l],t,n,o,"foreignObject"!==t.type&&r,i,s,Sn,a)),a||("value"in m&&void 0!==(l=m.value)&&(l!==e.value||"progress"===t.type&&!l)&&Un(e,"value",l,_.value,!1),"checked"in m&&void 0!==(l=m.checked)&&l!==e.checked&&Un(e,"checked",l,_.checked,!1))}return e}function Hn(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){bn.__e(e,n)}}function Wn(e,t,n){var o,r,i;if(bn.unmount&&bn.unmount(e),(o=e.ref)&&(o.current&&o.current!==e.__e||Hn(o,null,t)),n||"function"==typeof e.type||(n=null!=(r=e.__e)),e.__e=e.__d=void 0,null!=(o=e.__c)){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(e){bn.__e(e,t)}o.base=o.__P=null}if(o=e.__k)for(i=0;i<o.length;i++)o[i]&&Wn(o[i],t,n);null!=r&&Nn(r)}function Jn(e,t,n){return this.constructor(e,n)}function Yn(e,t,n){var o,r,i;bn.__&&bn.__(e,t),r=(o=n===vn)?null:n&&n.__k||t.__k,e=In(Cn,null,[e]),i=[],Gn(t,(o?t:n||t).__k=e,r||Sn,Sn,void 0!==t.ownerSVGElement,n&&!o?[n]:r?null:t.childNodes.length?Tn.slice.call(t.childNodes):null,i,n||Sn,o),Kn(i,e)}bn={__e:function(e,t){for(var n,o,r,i=t.__h;t=t.__;)if((n=t.__c)&&!n.__)try{if((o=n.constructor)&&null!=o.getDerivedStateFromError&&(n.setState(o.getDerivedStateFromError(e)),r=n.__d),null!=n.componentDidCatch&&(n.componentDidCatch(e),r=n.__d),r)return t.__h=i,n.__E=n}catch(t){e=t}throw e},__v:0},Ln.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=On({},this.state),"function"==typeof e&&(e=e(On({},n),this.props)),e&&On(n,e),null!=e&&this.__v&&(t&&this.__h.push(t),Dn(this))},Ln.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Dn(this))},Ln.prototype.render=Cn,hn=[],kn="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Mn.__r=0,vn=Sn;function Qn(e,t){var n=e.ownerDocument,o=n.activeElement;o!==e&&e.focus(),n.execCommand("insertText",!1,t)||function(e,t){e.setRangeText(t,e.selectionStart||0,e.selectionEnd||0,"end"),e.dispatchEvent(new InputEvent("input",{data:t,inputType:"insertText",isComposing:!1}))}(e,t),o===n.body?e.blur():o instanceof HTMLElement&&o!==e&&o.focus()}function Xn(e){return ge.indentation+e}function Zn(e,t){const n=function(e,t){const n=e.value,o=e.selectionStart,r=e.selectionEnd,i=t.replace?o:r;return{textareaContent:n.substring(0,i)+t.string+n.substring(r),startOfInserted:i,endOfInserted:i+t.string.length}}(e,{string:t.before+no(e)+t.after,replace:!0});var o,r,i,s,a,l;o=e,r=t.before,i=t.after,s=o.selectionStart,a=o.selectionEnd,l=function(e){return e.value.slice(e.selectionStart,e.selectionEnd)}(o),Qn(o,r+l+(null!=i?i:r)),o.selectionStart=s+r.length,o.selectionEnd=a+r.length,$(t.cursor)?io(e,n.startOfInserted+t.cursor):so(e,n.startOfInserted+t.before.length,n.endOfInserted-t.after.length)}function eo(e){return(t,n)=>Zn(t,e)}function to(e){const t=e.block?"\n":"";return eo({before:Vt(e.tag,e.parameterized?"":void 0)+t,after:t+Ht(e.tag),cursor:e.parameterized?1+e.tag.length+2:"KEEP_SELECTION"})}function no(e){return e.value.substring(e.selectionStart,e.selectionEnd)}function oo(e){return(t,n)=>ro(t,{string:e,replace:n})}function ro(e,t){t.replace||io(e,e.selectionEnd),Qn(e,t.string),e.focus()}function io(e,t){so(e,t,t)}function so(e,t,n){e.setSelectionRange(t,n),e.focus()}const ao=/ /g,lo=/ +/g;var co=e=>(t,n)=>{const o=ct,r=no(t),i=Vt(o,function(e,t){return function(e){switch(e){case"Google":return"https://google.com/search?q=";case"DuckDuckGo":return"https://duckduckgo.com/?q="}}(e)+t.trim().replace(/\s+/g,"+")}(e,r));Zn(t,{before:i,after:Ht(o),cursor:""===r?i.length-2:"KEEP_SELECTION"})};function uo(e){return k(h(e).map(e=>{return[Vt(Je,ge.shibeFont),Vt(Fe,ge.shibeColor),Vt(Qe)," ".repeat((t=0,n=Math.max(0,100-e.length),Math.floor(Math.random()*(n-t+1))+t)),e,Ht(Qe),Ht(Fe),Ht(Je)].join("");var t,n}))}function po(e,t){return e.match(t)[0].length}const _o=[[":)","smiley-smile"],[";)","smiley-wink"],[":D","smiley-biggrin"],[":P","smiley-tongue"],[":O","smiley-surprised"],[":(","smiley-frown"],[";(","smiley-cry"],[":|","smiley-speechless"],[":arrow:","smiley-arrow"],[":up:","smiley-up"],[":down:","smiley-down"],[":confused:","smiley-confused"],[":mad:","smiley-mad"],[":lol:","smiley-lol"],[":joyful:","smiley-joyful"],[":cool:","smiley-cool"],[":ninja:","smiley-ninja"],[":innocent:","smiley-innocent"],[":rolleyes:","smiley-rolleyes"]];function mo(e){return e[0]}function fo(e){return e[1]}const go={nbsps:xo({label:en.nbsps_label,tooltip:en.nbsps_tooltip,action:function(e,t){const n=no(e);let o;(t||(o=function(e){var t,n;const o=(null===(t=e.match(ao))||void 0===t?void 0:t.length)||0,r=(null===(n=e.match(lo))||void 0===n?void 0:n.length)||0;return o>10&&r>3&&o}(n),!1===o)||confirm(Xt.nbsps_confirm(o)))&&ro(e,{string:n.replace(ao," "),replace:!0})}}),url:ko({tag:ct,parameterized:!0,tooltip:en.url_tooltip,icon:{type:"RAW",image:dt.toolbarIcon(dt.position_toolbar_url)}}),img:xo({tooltip:en.img_tooltip,action:function(e,t){const n=no(e);if(n.includes("\n")){const t=e=>""===e.trim()?"":Vt(Xe)+e.trim()+Ht(Xe);ro(e,{string:k(h(n).map(t)),replace:!0})}else to({tag:Xe,parameterized:!1,block:!1})(e,t)},icon:{type:"RAW",image:dt.toolbarIcon(dt.position_toolbar_img)}}),search:e=>xo({tooltip:en.search_link_tooltip,action:co(e),icon:{type:"RAW",image:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64">\n    <circle stroke="#888" stroke-width="5" r="20" cx="41" cy="23" fill="none"/>\n    <line x1="4" y1="60" x2="28" y2="36" stroke="#888" stroke-width="10" />\n</svg>\n'}}),shibe:xo({label:en.shibe_label,tooltip:en.shibe_tooltip,class:_e.shibe,action:function(e,t){const n=no(e),o=h(n);(t||!function(e){const t=e.filter(e=>""!==e),n=Math.max(...t.map(e=>e.length));return t.length>5||n>15}(o)||confirm(Xt.generic_lines_confirm(o.length)))&&ro(e,{string:uo(n),replace:!0})}}),doge:xo({tooltip:en.doge_tooltip,action:oo(ge.doge),icon:{type:"URL",image:be.DOGE}}),quote:ko({tag:rt,parameterized:!0,block:!0,tooltip:en.quote_tooltip,icon:{type:"RAW",image:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n    <rect x="1" y="1" width="30" height="30" stroke="#444" fill="#d7d5d1" stroke-width="2"/>\n    <text x="4" y="18" style="fill: #444; font-family: Georgia, serif; font-size: 20px">”</text>\n    <text       y="13" style="fill: #444; font-family: sans-serif; font-size: 4px">\n        <tspan x="4" dy="1.2em">Dumheter</tspan>\n        <tspan x="4" dy="1.2em">som måste</tspan>\n        <tspan x="4" dy="1.2em">besvaras.</tspan>\n    </text>\n</svg>\n'}}),splitQuote:xo({tooltip:en.split_quote_tooltip,action:function(e,t){const n=e.value.substring(0,e.selectionStart),o=e.value.substring(e.selectionEnd),r=po(n,/\n*$/),i=po(o,/^\n*/);if(new RegExp(ee`\[\/${rt}\]$`,"i").test(n.trimRight())&&new RegExp(ee`^\[${rt}`,"i").test(o.trimLeft())){const o=Math.max(0,ge.splitQuoteEmptyLines+1-r-i);ro(e,{string:"\n".repeat(o),replace:t}),io(e,n.length-r+1)}else{const o=Vt(rt),s=Ht(rt),a=0===r,l=0===i;ro(e,{string:[a?"\n":"",s,"\n".repeat(ge.splitQuoteEmptyLines+1),o,l?"\n":""].join(""),replace:t}),io(e,n.length+(a?1:0)+s.length+1)}},icon:{type:"RAW",image:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n    <rect x="1" y="-3" width="30" height="10" stroke="#444" fill="#d7d5d1" stroke-width="2"/>\n    <rect x="1" y="19" width="30" height="22" stroke="#444" fill="#d7d5d1" stroke-width="2"/>\n    <text x="0" y="13" style="fill: #444; font-family: sans-serif; font-size: 4px">Du har fel.</text>\n    <text x="4" y="36" style="fill: #444; font-family: Georgia, serif; font-size: 20px">”</text>\n</svg>\n'}}),expander:ko({tag:We,tooltip:en.expander_tooltip,block:!0,icon:{type:"RAW",image:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewBox="0 0 32 32">\n    <rect x="1" y="1" width="30" height="30" stroke="#888" stroke-width="2" fill="#d7d5d1"/>\n    <polyline points="0,0  8,4  0,8" fill="black" transform="translate(6, 4)"/>\n    <line x1="4" x2="28" y1="0" y2="0" transform="translate(0, 15)" stroke="#888" stroke-width="2"/>\n    <g transform="translate(10, 23)">\n        <circle id="circle" cx="0" cy="0" r="2" fill="#444"/>\n        <use href="#circle" xlink:href="#circle" transform="translate(6,0)"/>\n        <use href="#circle" xlink:href="#circle" transform="translate(12,0)"/>\n    </g>\n</svg>\n'}})},bo={meta:[ko({tag:Ze,label:en.ins_label,tooltip:en.ins_tooltip}),ko({tag:Ge,label:en.del_label,tooltip:en.del_tooltip})],code:[ko({tag:nt,tooltip:en.noparse_tooltip,class:_e.button_code}),ko({tag:ot,tooltip:en.pre_tooltip,block:!0,class:_e.button_code}),ko({tag:Ue,tooltip:en.cmd_tooltip,class:_e.button_code}),ko({tag:je,tooltip:en.code_tooltip,block:!0,class:_e.button_code})],math:[ko({tag:tt,label:en.math_label,tooltip:en.math_tooltip,class:_e.button_math}),ko({tag:at,label:en.sub_label,tooltip:en.sub_tooltip,class:_e.button_math}),ko({tag:lt,label:en.sup_label,tooltip:en.sup_tooltip,class:_e.button_math})],whitespace:[go.nbsps],definitions:[ko({tag:Ve,label:en.dl_label,tooltip:en.dl_tooltip,block:!0}),ko({tag:He,label:en.dt_label,tooltip:en.dt_tooltip}),ko({tag:Ke,label:en.dd_label,tooltip:en.dd_tooltip})],embed:e=>[go.url,go.img,go.search(e)],doge:[go.shibe,go.doge]},ho=["#D00","#C15200","#EE8500","#EC0","#20A000","#789922","#106400","#0BC","#24F","#1525D0","#9000B5","black","gray","white","red","yellow","lime","green","aqua","blue","magenta"];function ko(e){return xo({label:te(void 0===e.icon?e.tag:"",e.label),tooltip:e.tooltip,class:e.class,icon:e.icon,action:to({tag:e.tag,parameterized:te(!1,e.parameterized),block:te(!1,e.block)})})}function wo(e){return xo({label:te(e.insert,e.label),tooltip:e.tooltip,action:oo(e.insert)})}function vo(e){return xo({label:"",tooltip:e,style:`background: ${e};`,action:eo({before:Vt(Fe,e),after:Ht(Fe),cursor:"KEEP_SELECTION"})})}function yo(e){return xo({label:"",tooltip:mo(e),custom:!0,class:En()(Be.smiley,fo(e)),action:oo(" "+mo(e)+" ")})}function xo(e){return(t,n)=>{const o=e.icon,r=(void 0===o?"":"URL"===o.type?`<img src="${o.image}" />`:o.image)+te("",e.label),i=[e.class||"",e.custom?"":Be.button,void 0===o?"":" "+_e.iconButton].join(" ").trim();return In("a",{dangerouslySetInnerHTML:{__html:r},title:e.tooltip,class:i,style:e.style,onClick:()=>e.action(t,n),href:"javascript:void(0)"})}}function Eo(e){return(t,n)=>In("div",{title:e.tooltip,class:[Be.toolbarButton,e.class||""].join(" ").trim(),style:e.style},In("div",{class:Be.inner,onClick:()=>e.action(t,n)},In("div",{class:Be.toolbarButtonIcon})))}function So(e,t,n){const o=document.createTextNode("");if(t({parent:e,placeholder:o}),o.parentNode===e)Yn(n,e,o);else{const e=z(n.type)?` "${n.type}"`:"",t=(r=200,(s=JSON.stringify(n.props)).length>r?s.slice(0,r-"[…]".length)+"[…]":s);i.error(`Placeholder for virtual${e} node with properties\n\n    ${t}\n\nwas not inserted directly under the intended parent element.`)}var r,s}const To=({parent:e,placeholder:t})=>{e.append(t)},Ro=({parent:e,placeholder:t})=>{e.prepend(t)},Oo=e=>({parent:t,placeholder:n})=>{t.insertBefore(n,e)},No=e=>({parent:t,placeholder:n})=>{t.insertBefore(n,e.nextSibling)};function Io(e){const t=document.createElement("textarea"),n=e.map(e=>e(t,!0)),o=document.createElement("div");for(const e of n)So(o,To,e);return o.innerHTML}const Po=new on({key:"editing_tools",default:!0,label:Zt.editing_tools.enable,description:Zt.editing_tools.enable_description,extras:{class:[_e.inlinePreference,_e.primaryInlinePreference]}}),Co=[{preference:Po,condition:e=>e}];var Lo;!function(e){e.ABOVE="above",e.BELOW="below"}(Lo||(Lo={}));var Bo={enable:Po,in_quick_reply_form:new on({key:"editing_tools_in_quick_reply_form",default:!0,label:Zt._.in_quick_reply_form,description:Zt._.in_quick_reply_form_description,extras:{class:_e.inlinePreference}}),position:new rn({key:"editing_tools_position",default:"below",label:Zt.editing_tools.position.label,description:Zt.editing_tools.position.description,options:[{value:"above",label:Zt.editing_tools.position.above},{value:"below",label:Zt.editing_tools.position.below}],dependencies:Co}),special_characters:new on({key:"editing_tools_special_characters",default:!0,label:Zt.editing_tools.special_characters,extras:{more:Io(tn.slice(0,5).map(wo))+"…",class:_e.editingTools},dependencies:Co}),meta:new on({key:"editing_tools_meta",default:!0,label:Zt.editing_tools.meta,extras:{more:Io(bo.meta),class:_e.editingTools},dependencies:Co}),code:new on({key:"editing_tools_code",default:!0,label:Zt.editing_tools.code,extras:{more:Io(bo.code),class:_e.editingTools},dependencies:Co}),math:new on({key:"editing_tools_math",default:!0,label:Zt.editing_tools.math,extras:{more:Io(bo.math),class:_e.editingTools},dependencies:Co}),whitespace:new on({key:"editing_tools_whitespace",default:!0,label:Zt.editing_tools.whitespace,extras:{more:Io(bo.whitespace),class:_e.editingTools},dependencies:Co}),definitions:new on({key:"editing_tools_definitions",default:!0,label:Zt.editing_tools.definitions,extras:{more:Io(bo.definitions),class:_e.editingTools},dependencies:Co}),embed:new on({key:"editing_tools_embed",default:!0,label:Zt.editing_tools.embed,extras:{more:Io(bo.embed("Google")),class:_e.editingTools},dependencies:Co}),search_engine:new rn({key:"search_engine",default:"Google",label:Zt.editing_tools.search_engine.label,description:Zt.editing_tools.search_engine.description,options:[{value:"Google",label:"Google"},{value:"DuckDuckGo",label:"DuckDuckGo"}]}),doge:new on({key:"editing_tools_doge",default:!1,label:Zt.editing_tools.doge,extras:{more:Zt.editing_tools.doge_description,class:[_e.shibe,_e.editingTools].join(" ")},dependencies:Co}),color_palette:new on({key:"editing_tools_color_palette",default:!0,label:Zt.editing_tools.color_palette,description:Zt.editing_tools.color_palette_description,extras:{class:_e.editingTools},dependencies:Co}),smileys:new on({key:"editing_tools_smileys",default:!0,label:Zt.editing_tools.smileys,extras:{class:_e.editingTools},dependencies:Co})};const Ao=new on({key:"quote_signature_buttons",default:!0,label:Zt.forum_threads.quote_signature_buttons,description:Zt.forum_threads.quote_signature_buttons_description}),Do=[{preference:Ao,condition:e=>e}];var Mo={improved_pagination_buttons:new on({key:"improved_pagination_buttons",default:!0,label:Zt.forum_threads.improved_pagination_buttons,description:Zt.forum_threads.improved_pagination_buttons_description}),insert_link_to_top:new on({key:"insert_link_to_top",default:!0,label:Zt.forum_threads.insert_link_to_top,description:Zt.forum_threads.insert_link_to_top_description}),highlight_own_posts:new on({key:"highlight_own_posts",default:!0,label:Zt.forum_threads.highlight_own_posts,description:Zt.forum_threads.highlight_own_posts_description}),insert_pm_links:new on({key:"insert_pm_links",default:!0,label:Zt.forum_threads.insert_pm_links,description:Zt.forum_threads.insert_pm_links_description}),mention_everyone_button:new on({key:"mention_everyone_button",default:!1,label:Zt.forum_threads.mention_everyone_button,description:Zt.forum_threads.mention_everyone_button_description}),quote_signature_buttons:Ao,quote_signature_message:new sn({key:"quote_signature_message",default:Zt.forum_threads.quote_signature_message_default,label:Zt.forum_threads.quote_signature_message,description:Zt.forum_threads.quote_signature_message_description,multiline:!0,dependencies:Do})},$o={lock_heights:new on({key:"lock_heights",default:!0,label:Zt.general.lock_heights,description:Zt.general.lock_heights_description}),improved_corrections:new on({key:"improved_corrections",default:!0,label:Zt.general.improved_corrections,description:Zt.general.improved_corrections_description}),insert_preferences_shortcut:new on({key:"insert_preferences_shortcut",default:!0,label:Zt.general.insert_preferences_shortcut,description:Zt.general.insert_preferences_shortcut_description}),replace_followed_threads_link:new on({key:"replace_followed_threads_link",default:!1,label:Zt.general.replace_followed_threads_link,description:Zt.general.replace_followed_threads_link_description}),redirect_home_page_to_archive:new on({key:"redirect_home_page_to_archive",default:!1,label:Zt.general.redirect_home_page_to_archive,description:Zt.general.redirect_home_page_to_archive_description}),remember_location_in_market:new on({key:"remember_location_in_market",default:!0,label:Zt.general.remember_location_in_market,description:Zt.general.remember_location_in_market_description}),location_region:new un({key:"location_region",default:0,label:Zt._.NO_LABEL,extras:{implicit:!0}}),location_city:new sn({key:"location_city",default:"",label:Zt._.NO_LABEL,multiline:!1,extras:{implicit:!0}})};class zo extends qt{getClassName(){return"ListPreference"}}var qo,Uo={uninteresting_subforums:new zo({key:"interests_uninteresting_subforums",label:Zt._.NO_LABEL,default:[]})};!function(e){e.PREVIEW="preview",e.SUBMIT="submit",e.INSERT_TAB="insert_tab",e.INSERT_LINK="insert_link"}(qo||(qo={}));var jo=new zo({key:"keyboard",label:Zt._.NO_LABEL,default:[{shortcut:"mod+k",action:qo.INSERT_LINK},{shortcut:"mod+s",action:qo.SUBMIT},{shortcut:"mod+p",action:qo.PREVIEW},{shortcut:"tab",action:qo.INSERT_TAB}],extras:{implicit:!0}});const Fo={general:{label:Zt.general.label,_:$o},forum_threads:{label:Zt.forum_threads.label,_:Mo},edit_mode:{label:Zt.edit_mode.label,_:yn},editing_tools:{label:Zt.editing_tools.label,_:Bo,extras:{id:pe.editingToolsPreferences}},advanced:{label:Zt.advanced.label,_:ln},customize_content:{label:Zt.customize_content.label,_:cn},keyboard:jo,interests:{label:Zt.interests.label,_:Uo}},Go=function(e){const t=new Set;return{subscribe:e=>{t.add(e)},unsubscribe:e=>{t.delete(e)},handler:(n,o)=>("set"===n.action&&t.forEach(e=>e(n.preference)),e(n,o))}}((function(e,t){const n=e.response;switch(n.status){case 0:return n;case 1:return"get"===e.action&&(N(`The saved value for preference '${e.preference.key}' (${JSON.stringify(n.saved)}) was invalid. Replacing it with ${JSON.stringify(n.value)}.`),t.set(e.preference,n.value)),"set"===e.action&&N(`Could not set value ${JSON.stringify(n.value)} for preference '${e.preference.key}' because it was invalid.`),n;case 2:return"get"===e.action&&(N(`The saved value for preference '${e.preference.key}' had the wrong type. Replacing it with ${JSON.stringify(n.value)}.`),t.set(e.preference,n.value)),n;case 3:return"get"===e.action&&(N(`The saved value for preference '${e.preference.key}' could not be parsed. Replacing it with ${JSON.stringify(n.value)}.`),t.set(e.preference,n.value)),n;case 4:switch(e.action){case"get":I(`Could not read preference '${e.preference.key}' because localStorage could not be accessed. Using value ${JSON.stringify(e.preference.default)}.`);break;case"set":I(`Could not save value ${JSON.stringify(e.response.value)} for preference '${e.preference.key}' because localStorage could not be accessed.`);break;default:Kt(e.action)}return n;default:return Kt(n.status)}})),Ko=new class{constructor(e,t,n=jt){this.localStoragePrefix=t,this.responseHandler=n,this.cache=new Map;const o=[],r=function e(t){return Object.values(t).reduce((t,n)=>t.concat(K(qt)(n)?n:e(n._)),[])}(e);r.forEach(e=>{const t=e.key;if(o.includes(t))throw new Error(`Duplicate preference key ${$t(t)}.`);this.cache.set(e,e.default),o.push(t)}),r.forEach(e=>{e.dependencies.forEach(t=>{if(void 0===this.cache.get(t.preference))throw new Error(`Dependency error in ${e}: ${Ft(t.preference)}`)})})}get(e){return this.getWith(this.responseHandler,e)}set(e,t){this.setWith(this.responseHandler,e,t)}getWith(e,t){return e({action:"get",preference:t,response:this.getRaw(t)},this).value}setWith(e,t,n){e({action:"set",preference:t,response:this.setRaw(t,n)},this)}reset(e){var t;this.getFromCacheOrThrowIfUnknown(e),t=this.localStoragePrefix+e.key,At(Nt,t)}resetAll(){for(const e of this.cache.keys())this.reset(e)}shouldBeAvailable(e){return e.dependencies.every(e=>e.condition(this.getRaw(e.preference).value))}getRaw(e){const t=this.getFromCacheOrThrowIfUnknown(e),n=(o=this.localStoragePrefix+e.key,r=e.default,Lt(Nt,o,r));var o,r;if("OK"===n.status){const t=n.value;return z(e.validate(t))?{status:1,value:e.toValid(t),saved:t}:{status:0,value:t}}return{status:Gt(n.status),value:t}}setRaw(e,t){if(this.getFromCacheOrThrowIfUnknown(e),z(e.validate(t)))return{status:1,value:t};this.cache.set(e,t);const n=function(e,t){return Bt(Nt,e,t)}(this.localStoragePrefix+e.key,t);return{status:Gt(n.status),value:n.value}}getFromCacheOrThrowIfUnknown(e){const t=this.cache.get(e);if(void 0===t)throw new Error(Ft(e));return t}}(Fo,J+"-preference-",Go.handler),Vo=Be,Ho="ul."+Vo.settingsNavigation,Wo="."+Be.forumPosts,Jo=`a[href="${Me.SIGNOUT}"]`;var Yo={textarea:"textarea[name=message]",textareaToolbarInner:"form .toolbar .tbInner",textareaToolbarStrikeButton:"form .toolbar .tbInner .strike",textareaToolbarUnorderedListButton:"form .toolbar .tbInner .ul",proofDialogTextarea:`.${Be.proofDialog} textarea`,threadTitle:"h1",moreArticles:".mainContent ~ .mainContent",settingsNavigation:Ho,actionButtons:"button[name=action]",quoteButton:"a.button.quote",previewButton:`button[name=action][value=${De.preview}]`,saveButton:`button[name=action][value=${De.submit}]`,saveButtonQuickReply:"#quickreply .controls button:nth-of-type(1)",previewButtonQuickReply:"#quickreply .controls button:nth-of-type(2)",forumPostContainer:Wo,replyButtonAfterForumPosts:Wo+" ~ * .replyToThread",cityInput:'input[name="city"]',regionSelect:'select[name="location"]',sideColumnGuides:".videoPush."+Vo.sideBox,sideColumnPopularGalleries:".popularGalleries."+Vo.sideBox,bbParagraph:".bbParagraph",forumLink:'.subForums td:first-child > * a[href^="/forum/"]',forumPost:"."+Be.forumPost,forumPostAuthorLink:'a.name[itemprop="author"]',linkedForumPost:"."+Be.forumPost+".is-linked",pageNavigationAfterForumPosts:Wo+" ~ * .pages",quickReplyForm:"#quickreply form",signoutButton:Jo,signinButtonOr:e=>`a[href="${Me.SIGNIN}"], ${e}`,followedThreadsLinkText:`#${we} a[href="${Me.FOLLOWED}"] span`,proofDialogCloseButton:"."+Be.proofDialog+" .cntClose"};function Qo(e,t){t.disabled=e,t.title=e?Xt.draft_mode_enabled_tooltip:""}var Xo=e=>t=>{const n=t.textarea,o="above"===Ko.get(Fo.editing_tools._.position)?Oo:No;So(n.parentElement,o(n),In(er,{textarea:n,config:Zo(),undoSupport:e}))};function Zo(){return{special_characters:Ko.get(Fo.editing_tools._.special_characters),meta:Ko.get(Fo.editing_tools._.meta),code:Ko.get(Fo.editing_tools._.code),math:Ko.get(Fo.editing_tools._.math),whitespace:Ko.get(Fo.editing_tools._.whitespace),definitions:Ko.get(Fo.editing_tools._.definitions),embed:Ko.get(Fo.editing_tools._.embed),doge:Ko.get(Fo.editing_tools._.doge),color_palette:Ko.get(Fo.editing_tools._.color_palette),smileys:Ko.get(Fo.editing_tools._.smileys)}}function er(e){const t=t=>t(e.textarea,e.undoSupport),n=l(t,ko),o=l(t,wo),r=l(t,vo),i=l(t,yo);return In("div",{id:pe.editingTools,class:En()(_e.editingTools,{[_e.disabled]:e.disabled},Be.bbcode)},e.config.special_characters?In("fieldset",null,tn.map(o)):null,n({tag:it,label:en.size_label,tooltip:en.size_tooltip,parameterized:!0}),n({tag:Fe,parameterized:!0,tooltip:en.color_tooltip,class:_e.button_color}),n({tag:Je,tooltip:en.font_tooltip,parameterized:!0}),n({tag:et,label:en.mark_label,tooltip:en.mark_tooltip}),n({tag:$e,label:en.abbr_label,parameterized:!0,tooltip:en.abbr_tooltip}),t(go.quote),t(go.splitQuote),n({tag:qe,label:"",tooltip:en.bq_tooltip,block:!0,icon:{type:"RAW",image:be.BLOCKQUOTE},class:_e.button_blockquote}),t(go.expander),n({tag:st,tooltip:en.spoiler_tooltip,block:!0,class:_e.button_spoiler}),o({insert:ge.edit,tooltip:en.edit_tooltip,label:en.edit_label}),e.config.meta?bo.meta.map(t):[],e.config.code?bo.code.map(t):[],e.config.math?bo.math.map(t):[],e.config.whitespace?bo.whitespace.map(t):[],e.config.definitions?bo.definitions.map(t):[],e.config.embed?bo.embed(Ko.get(Fo.editing_tools._.search_engine)).map(t):[],e.config.doge?bo.doge.map(t):[],e.config.color_palette?In("fieldset",{class:_e.colorPalette},ho.map(r)):null,e.config.smileys?In("fieldset",{class:_e.smileys},_o.map(i)):null)}const tr=Eo({action:to({tag:Ye,parameterized:!1,block:!1}),class:Be.toolbarHeadingButton,tooltip:Xt.tooltip_h,style:"background: none;"});function nr(e){return/^([a-z]+:\/\/|www\.)/i.test(e)}var or=n(5);let rr=!1;function ir(e){rr&&sr(e)}function sr(e){return e.preventDefault(),e.returnValue=!0}function ar(){rr=!0}function lr(){rr=!1}function cr(e){e.dispatchEvent(new Event("mousedown")),e.click()}const dr=Ko.get(Fo.keyboard);function ur(e){mr(qo.SUBMIT,t=>cr(e.saveButton),{preventDefault:!0})}function pr(e){mr(qo.PREVIEW,t=>cr(e.previewButton),{preventDefault:!0})}const _r=e=>t=>{mr(qo.INSERT_LINK,n=>to({tag:ct,parameterized:!0,block:!1})(t.textarea,e),{preventDefault:!0})};function mr(e,t,n){for(const o of dr)o.action===e&&or.bind(o.shortcut,e=>{n.preventDefault&&e.preventDefault(),t(e)})}var fr=n(6),gr=n.n(fr);function br(e){return`@"${e}"`}function hr(e){const t=`${Yo.forumPost+`:not(.${Be.forumPostByCurrentUser})`} ${Yo.forumPostAuthorLink}`,n=Array.from(e.querySelectorAll(t));return gr()(n.map(e=>e.textContent.trim()))}function kr(e){return t=>t.filter(K(e))}const wr=new RegExp([ee`^(\[${rt}) postid="(\d+)"( userid="\d+" name="[^"]+"\])$`,ee`([\s\S]*?)`,ee`^(\[/${rt}\])$`].join(""),"gm");function vr(e){return`Could not extract ${e}.`}function yr(e,t){return vr(`${e} from post with id="${t}"`)}class xr extends dn{getClassName(){return"DoublePreference"}static parse(e){const t=parseFloat(e);return Number.isNaN(t)?`"${e}" is not a number.`:{value:t}}fromString(e){return dn.postParse(this,xr.parse(e))}}class Er extends pn{getClassName(){return"DoubleRangePreference"}fromString(e){return dn.postParse(this,xr.parse(e))}}const Sr=e=>pe.preferenceIdPrefix+e.key,Tr={Boolean:function(e){return Ir(In("input",{type:"checkbox",id:Sr(e),checked:Ko.get(e),onChange:t=>{Ko.set(e,t.target.checked)}}),e.label)},String:function(e){return(e.label===Zt._.NO_LABEL?[]:[In(Lr,{preference:e})]).concat([e.multiline?In("textarea",{id:Sr(e),value:Ko.get(e),onChange:Rr(e)}):In("input",{type:"text",id:Sr(e),value:Ko.get(e),onChange:Rr(e)})])},Integer:function(e){return[In(Lr,{preference:e}),In("input",{type:"number",id:Sr(e),value:Ko.get(e).toString(),onChange:Rr(e)})]},Double:function(e){return[In(Lr,{preference:e}),In("input",{type:"number",id:Sr(e),value:Ko.get(e).toString(),step:.1,onChange:Rr(e)})]},IntegerRange:function(e){return[In(Lr,{preference:e}),In("input",{type:"number",id:Sr(e),value:Ko.get(e).toString(),min:e.min,max:e.max,onChange:Rr(e)})]},DoubleRange:function(e){return[In(Lr,{preference:e}),In("input",{type:"number",id:Sr(e),value:Ko.get(e).toString(),min:e.min,max:e.max,step:(t=e.min,n=e.max,Math.min(.1,Math.pow(10,Math.floor(Math.log10(n-t)))/100)).toString(),onChange:Rr(e)})];var t,n},Multichoice:function(e){const t=Ko.get(e),n=e.options;return n.length<=4?In("fieldset",{class:_e.radioButtonPreference},In(Br,{html:e.label}),n.map(n=>function({p:e,label:t,value:n,checked:o}){return Ir(In("input",{type:"radio",id:Sr(e)+"-"+t,name:Sr(e),checked:o,onChange:t=>{t.target.checked&&Ko.set(e,n)}}),t)}({p:e,label:n.label,value:n.value,checked:n.value===t}))):[In(Br,{html:e.label}),In("select",{onChange:t=>{const o=t.target.selectedIndex;o>=0&&o<n.length&&Ko.set(e,n[o].value)}},n.map(e=>In("option",{selected:e.value===t},e.label)))]}};function Rr(e){return t=>{const n=e.fromString(t.target.value);z(n)?i.warning(n):Ko.set(e,n.value)}}class Or extends Ln{render(){return In("form",{id:se},In("header",null,In("a",{href:document.referrer||"/",title:Zt._.back_to_sweclockers},In("img",{src:"https://github.com/SimonAlling/better-sweclockers/raw/master/docs/logo.png",alt:ae}))),Nr(Tr,Fo),In("footer",null,In("p",null,Zt._.save_notice),In("p",null,In("a",{href:document.referrer||"/",title:Zt._.back_to_sweclockers},Zt._.back_to_sweclockers))))}componentDidMount(){Go.subscribe(()=>{this.forceUpdate()})}}function Nr(e,t){return Object.keys(t).map(n=>function(e,t){return t instanceof qt?t.extras.implicit?null:In("div",{class:En()(_e.preference,t.extras.class),title:t.description},function(e,t){if(K(on)(t))return e.Boolean(t);if(K(sn)(t))return e.String(t);if(K(un)(t))return e.Integer(t);if(K(xr)(t))return e.Double(t);if(K(_n)(t))return e.IntegerRange(t);if(K(Er)(t))return e.DoubleRange(t);if(K(rn)(t))return e.Multichoice(t);if(K(zo)(t)&&t===Fo.interests._.uninteresting_subforums)return In(Cr,{p:t});throw new Error("Unsupported preference: "+t)}(e,t),z(t.extras.suffix)?In(Br,{for:Sr(t),html:t.extras.suffix}):null,void 0!==t.extras.more?In("aside",{dangerouslySetInnerHTML:{__html:t.extras.more}}):null):In("fieldset",{class:Be.fieldset},In(Ar,{html:t.label}),Nr(e,t._),t.extras&&t.extras.id===pe.editingToolsPreferences?In(er,{textarea:document.createElement("textarea"),config:Zo(),disabled:!Ko.get(Fo.editing_tools._.enable),undoSupport:Ko.get(Fo.advanced._.undo_support)}):null)}(e,t[n]))}function Ir(e,t){return In("label",{class:_e.labeledInput},e,In("span",{dangerouslySetInnerHTML:{__html:t}}))}function Pr(e){return void 0!==e}class Cr extends Ln{constructor(){super(...arguments),this.state={fetch:{status:"loading"}}}componentDidMount(){fetch(window.location.origin+Me.FORUM).then(e=>e.text()).then(e=>{const t=(new DOMParser).parseFromString(e,"text/html").querySelectorAll(Yo.forumLink);this.setState({fetch:{status:"success",categories:kr(HTMLAnchorElement)(Array.from(t)).filter(e=>Me.FORUM_CATEGORY.test(e.href)).map(e=>{const t=function(e){const t=e.href.match(Me.FORUM_CATEGORY),n=e.textContent;return U(t)||U(n)?null:{id:parseInt(t[1]),name:n,isSubforum:e.parentElement.classList.contains(Be.subforums)}}(e);return U(t)?(i.error("Could not extract forum link data from this link:"),void console.error(e)):t}).filter(Pr)}})}).catch(e=>{i.error(e),this.setState({fetch:{status:"failure"}})})}render(){const e=this.props.p,t=Ko.get(e),n=this.state.fetch;switch(n.status){case"loading":return Xt.loading;case"success":return In("ul",{id:pe.interestsPreferences},n.categories.map(n=>{const o=n.id,r=Sr(e)+"-"+o;return In("li",{class:En()({[_e.subforum]:n.isSubforum}),key:o},In("input",{type:"checkbox",id:r,checked:!t.includes(o),onChange:n=>{const r=t.filter(e=>e!==o).concat(n.target.checked?[]:o);Ko.set(e,r)}}),In(Br,{html:n.name,for:r}))}));case"failure":return Zt._.failed_to_fetch_categories}}}class Lr extends Ln{render(){return In(Br,{for:Sr(this.props.preference),html:this.props.preference.label})}}class Br extends Ln{render(){return In("label",{for:this.props.for,dangerouslySetInnerHTML:{__html:this.props.html}})}}class Ar extends Ln{render(){return In("legend",{dangerouslySetInnerHTML:{__html:this.props.html}})}}var Dr=n(7);const Mr=e=>e;function $r(e,t){return n=>e(t(n))}function zr(e){const t=function(e){return t=>null===t?null:e(t)}(Fr);return(n,o)=>qr(e)(t(n),t(o))}function qr(e){return(t,n)=>Ur(e)(t,Fr(e.bad),n)}function Ur(e){return(t,n,o)=>Object.assign({before:t,match:n,after:o},e)}function jr(e){return t=>Object.assign({before:null,match:t,after:null},e)}function Fr(e){return new RegExp(Dr(e))}const Gr={bad:" ",good:" ",info:"hårt mellanslag"},Kr={bad:"-",good:"‑",info:"hårt bindestreck"},Vr={bad:"-",good:"–",info:"tankstreck"},Hr=(zr(Gr),qr(Gr)),Wr=Ur(Gr),Jr=jr(Gr),Yr=(zr(Kr),qr(Kr)),Qr=Ur(Kr),Xr=(jr(Kr),zr(Vr),qr(Vr)),Zr=(Ur(Vr),jr(Vr),/(?:^|[^\u00A0])\d(?:\u00A0\d{3})*(?:,\d+)?/),ei=[Hr(/[A-Z][A-Za-z]+/,/\d+\.\d+/),Hr(/\d/,/(?=\d{3})/),Hr(Zr,/(?:[nµmcdk]|[KMGTP]i?)?(?:s|g|m|Hz|b|bit|B|fps|FPS|V|W|Wh|kr|USD|EUR|°C|%|st|dBA?)(?=$|[^\wåäöé])/),Hr(Zr,/(?:nano|mikro|milli|centi|deci|hekto|kilo|mega|giga|tera|peta)?(?:sekund(?:er)?|gram|meter|hertz|bit|byte|tum|bilder|volt|watt|wattimmar|kronor|dollar|euro|procent|stycken|decibel|år)(?:$|[^\wåäöé])/),Wr(/[^:.] [A-ZÅÄÖ][a-zåäöé]+/,/ (?=\d)/,/\d{1,3}(?=[.,;: ])/),Hr(/4K/,/UHD/),Hr(/USB/,/Type/),Hr(/Windows/,/95|98|ME|2000|XP|Vista|7|8(?:\.1)?|10/),Hr(/PCI/,/Express/),Hr(/Core/,/i\d/),Hr(/\d/,/\d{4}/),Jr(/[GR]TX \d{3,4}(?: Ti)?/),Hr(/Geforce/,/[GR]TX-/),Hr(/Ryzen/,/\d+-/),Hr(/Vega/,/\d+/),Hr(/R\d/,/\d+/),Hr(/DVI(?:[-‑][DI])?/,/DL/)],ti=[Yr(/i\d/,/\d{4}/),Yr(/Mini/,/ITX/),Yr(/G/,/Sync/),Yr(/V/,/[Ss]ync/),Yr(/Counter/,/Strike/),Yr(/DVI/,/(?:A|DL?|I)\b/),Yr(/Type/,/C\b/),Yr(/DDR\d/,/\d/),Yr(/i\d/,/\d{4}/),Yr(/[A-Z][a-z]+/,/[A-Z]{1,2}\b/),Qr(/\d+/,/-\d+(?:-\d+)+/,null)],ni=[Xr(/^/,/ /),Xr(/(?:^|[^\d-])\d{1,3}(?:,\d+)?/,/\d+(?:,\d+)?(?=[^\d-]|$)/),Xr(/(?:^|[^\d-])\d{4}/,/\d{4}(?=[^\d-]|$)/),Xr(/ /,/ /)],oi=[qr({good:"×",bad:"x",info:"gångertecken"})(/ /,/ /)],ri="sahdufhaweafdafda",ii=[].concat([zr({bad:" × ",good:" × ",info:"hårda mellanslag"})(null,null)]).concat(ei).concat(ti).concat(ni).concat(oi).concat([zr({bad:ri,good:"²",info:null})(null,null),zr({bad:ri,good:"³",info:null})(null,null)]),si=[qr({bad:"2",good:ri,info:"tecknet ² istället för en upphöjd tvåa"})(/^/,/$/),qr({bad:"3",good:ri,info:"tecknet ³ istället för en upphöjd trea"})(/^/,/$/)];function ai(e){return e.rules.map(function(e){return t=>$r(li("verified",e.markVerified,e.lookaround)(t),li("mistakes",e.markMistake,e.lookaround)(t))}(Object.assign({lookaround:e.lookaround||"group"},e))).reduceRight($r,Mr)}function li(e,t,n){return o=>{const r=null===o.before?"":o.before.source,i=null===o.after?"":o.after.source,[s,a,l]="native"===n?[ui,Mr,di]:"group"===n?[ci,ci,ci]:[Mr,Mr,Mr];return function(e,t,n,o,r){function i(e){return e.split(t).join(n(o)(t))}return t=>t.replace(e,(e,...t)=>{if(r){const e=t.slice(0,3);return e[0]+i(e[1])+e[2]}return i(e)})}(new RegExp("mistakes"===e?s(r)+a(o.match.source)+l(i):s(r)+a(o.match.source.split(o.bad).join(o.good))+l(i),"g"),"mistakes"===e?o.bad:o.good,t,o.info,"group"===n)}}function ci(e){return"("+e+")"}function di(e){return"(?="+e+")"}function ui(e){return"(?<="+e+")"}var pi="proofread",_i="any",mi="mistake",fi="verified";function gi(e){const t=e===mi;return n=>o=>[`<span class="${pi} ${e}"`,t&&null!==n?` title="Förslag: ${n}"`:"",`>${o}</span>`].join("")}const bi=ai({rules:si,markMistake:gi(mi),markVerified:gi(fi)});var hi;const ki=function e(t,n){return o=>{if(o.nodeType===Node.TEXT_NODE){const e=document.createElement("span");e.innerHTML=t((o.textContent||"").replace(/[&<>"']/g,wi)),o.parentNode.replaceChild(e,o)}else o.nodeType===Node.ELEMENT_NODE&&("SUP"===o.nodeName?o.innerHTML=n(o.textContent||""):Array.from(o.childNodes).forEach(e(t,n)))}}(l((hi={pattern:/\u00A0|‑|–|×/g,mark:gi(_i)(null)},e=>e.replace(hi.pattern,hi.mark)),ai({rules:ii,markMistake:gi(mi),markVerified:gi(fi)})),bi);function wi(e){switch(e){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case"'":return"&#039;"}}var vi=n(4),yi=n(8),xi=n.n(yi);function Ei(e){return Si("#"+e)}function Si(e){return ee`
${e} {
    display: none;
}
`}function Ti(e){return t=>{const n=function(e){const t=new Date;return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),e.getTime()-t.getTime()}(t),o=e.start,r=e.end;return r<o?n>=o||n<r:n>=o&&n<r}}var Ri=n(9),Oi=n.n(Ri),Ni=n(10),Ii=n.n(Ni),Pi=n(11),Ci=n.n(Pi),Li=n(12),Bi=n.n(Li),Ai=n(13),Di=n.n(Ai),Mi=n(14),$i=n.n(Mi),zi=n(15),qi=n.n(zi),Ui=n(16),ji=n.n(Ui),Fi=n(17),Gi=n.n(Fi),Ki=n(18),Vi=n.n(Ki),Hi=n(19),Wi=n.n(Hi),Ji=n(20),Yi=n.n(Ji),Qi=n(21),Xi=n.n(Qi),Zi=n(22),es=n.n(Zi),ts=n(23),ns=n.n(ts),os=n(24),rs=n.n(os),is=n(25),ss=n.n(is),as=n(26),ls=n.n(as);const cs={main:{condition:m,css:Wi.a},developer_mode:{condition:()=>Ko.get(Fo.advanced._.developer_mode),css:Oi.a},doge:{condition:m,css:Ii.a},preferences_link:{condition:e=>mt,css:Xi.a},preferences:{condition:e=>_t,css:ns.a},preferences_shortcut:{condition:()=>Ko.get(Fo.general._.insert_preferences_shortcut),css:es.a},lock_heights:{condition:()=>Ko.get(Fo.general._.lock_heights),css:Vi.a},improved_pagination_buttons:{condition:()=>Ko.get(Fo.forum_threads._.improved_pagination_buttons),css:Gi.a},improved_corrections:{condition:()=>Ko.get(Fo.general._.improved_corrections),css:qi.a},highlight_own_posts:{condition:()=>Ko.get(Fo.forum_threads._.highlight_own_posts),css:$i.a},editing_tools:{condition:m,css:Bi.a},textarea_size_toggle:{condition:m,css:ss.a},monospace_font:{condition:()=>Et&&Ko.get(Fo.edit_mode._.monospace_font),css:`#${pe.document} ${Yo.textarea} { font-family: monospace; }`},monospace_font_in_quick_reply_form:{condition:()=>Tt&&Ko.get(Fo.edit_mode._.monospace_font_in_quick_reply_form),css:`#${pe.document} ${Yo.textarea} { font-family: monospace; }`},textarea_size_toggle_textarea_height:{condition:()=>Et&&Ko.get(Fo.edit_mode._.textarea_size_toggle),css:`#${pe.document} ${Yo.textarea} { height: ${Ko.get(Fo.edit_mode._.textarea_size)}px; }`},improved_image_controls:{condition:()=>Ko.get(Fo.advanced._.improved_image_controls),css:ji.a},uninteresting_subforums:{condition:m,css:ls.a},replace_followed_threads_link:{condition:()=>Ko.get(Fo.general._.replace_followed_threads_link),css:rs.a},proofread_forum_posts:{condition:()=>Et&&Ko.get(Fo.advanced._.proofread_forum_posts),css:xi.a,id:(ds="proofread-forum-posts",le+"stylesheet-"+ds)},down_for_maintenance:{condition:()=>!_t&&Ti({start:vi.hours(4)+vi.minutes(30),end:vi.hours(5)+vi.minutes(10)})(new Date)&&Ko.get(Fo.advanced._.down_for_maintenance),css:Ci.a},custom_css:{condition:()=>Ko.get(Fo.advanced._.custom_css_enable),css:Ko.get(Fo.advanced._.custom_css_code)},mention_everyone:{condition:()=>Ko.get(Fo.forum_threads._.mention_everyone_button),css:Yi.a},customize_content_carousel:{condition:()=>!1===Ko.get(Fo.customize_content._.carousel),css:Ei(ye)},customize_content_social_media:{condition:()=>!1===Ko.get(Fo.customize_content._.social_media),css:function(e){return Si(z(e)?"."+e:e.map(e=>"."+e).join(", "))}(Be.socialMediaButtons)},customize_content_guides:{condition:()=>!1===Ko.get(Fo.customize_content._.guides),css:Si(Yo.sideColumnGuides)},customize_content_popular_galleries:{condition:()=>!1===Ko.get(Fo.customize_content._.popular_galleries),css:Si(Yo.sideColumnPopularGalleries)},customize_content_new_in_forum_side:{condition:()=>!1===Ko.get(Fo.customize_content._.new_in_forum_side),css:Ei(Re)},customize_content_new_in_market:{condition:()=>!1===Ko.get(Fo.customize_content._.new_in_market),css:Ei(Oe)},customize_content_new_in_test_lab:{condition:()=>!1===Ko.get(Fo.customize_content._.new_in_test_lab),css:Ei(Ne)},customize_content_in_the_store:{condition:()=>!1===Ko.get(Fo.customize_content._.in_the_store),css:Ei(Ie)},customize_content_popular_at_prisjakt:{condition:()=>!1===Ko.get(Fo.customize_content._.popular_at_prisjakt),css:Ei(Pe)},customize_content_new_tech_jobs:{condition:()=>!1===Ko.get(Fo.customize_content._.new_tech_jobs),css:Ei(Ce)},customize_content_external_news:{condition:()=>!1===Ko.get(Fo.customize_content._.external_news),css:Ei(Le)},customize_content_more_articles:{condition:()=>!1===Ko.get(Fo.customize_content._.more_articles),css:Si(Yo.moreArticles)},customize_content_latest_news:{condition:()=>!1===Ko.get(Fo.customize_content._.latest_news),css:Ei(Se)},customize_content_new_in_forum_main:{condition:()=>!1===Ko.get(Fo.customize_content._.new_in_forum_main),css:Ei(Te)},customize_content_footer:{condition:()=>!1===Ko.get(Fo.customize_content._.footer),css:Di.a}};var ds;var us=cs;const ps=["em","span","strong","sub","sup"].map(e=>e.toUpperCase());var _s;function ms(){s.enable(us.proofread_forum_posts)}function fs(){s.disable(us.proofread_forum_posts)}function gs(){return document.querySelector(Yo.proofDialogTextarea)}function bs(e,t){e.value=(e.value.trim()+["","","",t.context,"",t.suggestion].join("\n")).trim(),e.scrollTo(0,Number.MAX_SAFE_INTEGER),e.focus(),e.dispatchEvent(new Event("change"))}function hs(e){return[ws(e,10),e.textContent,vs(e,10)].join("")}function ks(e,t,n){return(o,r)=>{const i=ks(e,t,n),s=e(o);if(null===s){const e=o.parentElement;return ps.includes(e.tagName)?i(e,r):""}const a=s.textContent||"";return a.length<r?t(a,i(s,r-a.length)):n(a,r)}}!function(e){e[e.ALWAYS=0]="ALWAYS",e[e.CORRECTIONS=1]="CORRECTIONS",e[e.NEVER=2]="NEVER"}(_s||(_s={}));const ws=ks(e=>e.previousSibling,(e,t)=>t+e,(e,t)=>e.substring(e.length-t)),vs=ks(e=>e.nextSibling,(e,t)=>e+t,(e,t)=>e.substring(0,t)),ys=Ko.get(Fo.forum_threads._.quote_signature_message);function xs(e){const t=U(e.signature);return In("button",{class:En()(_e.quoteSignatureButton,Be.button,t?Be.disabled:null),title:t?Xt.quote_signature_tooltip_no_signature(e.authorName):Xt.quote_signature_tooltip,disabled:t,onClick:()=>{fetch(e.quoteURL,{credentials:"same-origin"}).then(e=>e.text()).then(t=>{var n;const o=(new DOMParser).parseFromString(t,"text/html").querySelector("textarea");if(null===o)throw Es("textarea from fetch response");const r=document.createElement("form");r.hidden=!0,r.method="POST",r.action=e.quoteURL,So(r,To,In(Cn,null,In("input",{name:Ae.csrfToken,type:"hidden",value:e.csrf}),In("input",{name:Ae.action,type:"hidden",value:De.preview}),In("textarea",{name:Ae.message,hidden:!0},function(e){const t=["\n","________________________","\n",Vt(it,"smaller"),e.rawSignature.trim(),Ht(it)].join("");return e.rawQuote.replace(/\n*(?=\[\/quote\]\s*$)/,t)+e.userMessage}({rawQuote:o.textContent||"",rawSignature:(null===(n=e.signature)||void 0===n?void 0:n.textContent)||"",userMessage:e.userMessage})))),document.documentElement.appendChild(r),r.submit()}).catch(i.error)}},In("span",{class:Be.label},Xt.quote_signature_label))}function Es(e){return`Could not extract ${e}.`}function Ss(e,t){return Es(`${e} from post with id="${t}"`)}const Ts=Ht(rt),Rs=ut.mobileSiteDomain,Os=["",`[size="smaller"]${ut.sentFrom} [url="//${Rs}"]${Rs}[/url][/size]`,Ts].join("\n");var Ns;!function(e){e[e.NONE=0]="NONE",e[e.FIRST=1]="FIRST",e[e.ALL=2]="ALL"}(Ns||(Ns={}));const Is={rows:4,columns:3,headings:!0},Ps=Eo({action:(e,t)=>oo(function(e){const t=Cs(e.columns,2),n=Cs(e.columns,e.headings?1:0),o=Bs([Vt("thead"),t.map(Xn),Ht("thead")]),r=Bs([Vt("tbody"),Bs(Ls(e.rows-1,n.map(Xn))),Ht("tbody")]);return k(Bs([Vt("table"),o.map(Xn),r.map(Xn),Ht("table")]))}(Is))(e,t),class:Be.toolbarTableButton,tooltip:Xt.tooltip_table});function Cs(e,t){const n=0===t?"td":"th",o=2===t?"th":"td";return Bs([Vt("tr"),Xn(Wt(n)),Ls(e-1,Xn(Wt(o))),Ht("tr")])}function Ls(e,t){return Array(e).fill(t)}function Bs(e){return[].concat(...e)}function As(e,t){const[n,o]=t===Fo.edit_mode._.textarea_size_small?[Xt.textarea_size_small,'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n    <rect x="1" y="1" width="30" height="10" stroke="#666" fill="white" stroke-width="2"/>\n</svg>\n']:[Xt.textarea_size_large,'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n    <rect x="1" y="1" width="30" height="30" stroke="#666" fill="white" stroke-width="2"/>\n</svg>\n'];return In("div",{class:"tbButton iconButton noselect",title:n},In("div",{class:"inner"},In("div",{class:Be.toolbarButtonIcon,onClick:()=>function(e,t){const n=Ko.get(e);t.style.height=n+"px",Ko.set(Fo.edit_mode._.textarea_size,n)}(t,e),dangerouslySetInnerHTML:{__html:o}})))}const Ds=(Et||Tt)&&Ko.get(Fo.edit_mode._.improved_builtin_editing_tools),Ms=Ko.get(Fo.general._.insert_preferences_shortcut),$s=Ko.get(Fo.interests._.uninteresting_subforums),zs=Ko.get(Fo.advanced._.undo_support);var qs,Us,js,Fs=[{description:"set document id",condition:()=>!0,action:()=>{document.documentElement.id=pe.document}},{description:"redirect front page to archive",condition:()=>!_t&&Ko.get(Fo.general._.redirect_home_page_to_archive),dependencies:{headerLogoLink:`#${we} a[href="/"]`,latestNewsWidgetLink:`#${Se} a[href="/"]`,footerLogoLink:`#${ve} a[href="/"]`},action:e=>{if("/"===document.location.pathname)document.location.pathname=Me.ARCHIVE;else for(const t of Object.values(e))t.href=Me.ARCHIVE}},{description:"enable improved built-in editing tools (URL/hyperlink button)",condition:()=>Ds,dependencies:{body:"body"},action:(js=zs,()=>{try{Beta.Forms.Toolbar.Buttons.HyperlinkButton.prototype.insertTemplate=()=>{const e=document.querySelector(Yo.textarea);if(!K(HTMLTextAreaElement)(e))return void i.error("Could not find textarea.");const t=no(e),n=h(t);if(n.length>1){let t;(js||(t=function(e){return e.length>5&&!e.every(nr)&&e.length}(n),!1===t)||confirm(Xt.generic_lines_confirm(t)))&&ro(e,{string:k(n.map(e=>Taiga.Strings.sprintf(Vt(ct)+"%s"+Ht(ct),Taiga.Strings.trim(e)))),replace:!0})}else{const n=nr(t)?t:"",o=t,r=prompt(Xt.improved_url_button_url,n);if(null===r)return;const i=prompt(Xt.improved_url_button_text,o);if(null===i)return;const s=r,a=""===i?s:i,l=e.selectionStart,c=Vt(ct,s);ro(e,{string:c+a+Ht(ct),replace:!0});const d=l+c.length;so(e,d,d+a.length)}}}catch(e){return re(e)}})},{description:"insert preferences menu",condition:()=>_t,dependencies:{body:"body"},action:()=>{document.title=Zt._.title,document.documentElement.appendChild((()=>{const e=document.createElement("link");var t;return e.rel="stylesheet",e.href=(e=>"/css/main.css?v="+e)((t=new Date).getFullYear()+(t.getMonth()+1).toString().padStart(2,"0")+t.getDate().toString().padStart(2,"0")),e})()),So(document.body,To,In(Or,null))}},{description:"disable scroll restoration",condition:()=>Ko.get(Fo.advanced._.disable_scroll_restoration),action:()=>{"scrollRestoration"in history&&(history.scrollRestoration="manual")}},{description:"prevent accidental unload (post or message)",condition:()=>Et&&Ko.get(Fo.advanced._.prevent_accidental_unload),dependencies:{textarea:Yo.textarea,_actionButtons:Yo.actionButtons},action:function(e){window.addEventListener("beforeunload",ir);const t=e.textarea,n=()=>{ar(),t.removeEventListener("input",n)};t.addEventListener("input",n);for(const e of document.querySelectorAll(Yo.actionButtons))e.addEventListener("mousedown",lr);ne(document.getElementById(Ee),ar)}},{description:"prevent accidental unload (corrections)",condition:()=>St&&Ko.get(Fo.advanced._.prevent_accidental_unload),action:function(){window.addEventListener("beforeunload",e=>{const t=document.querySelector(`.${Be.proofDialog} textarea`);null!==t&&""!==t.value&&null!==t.offsetParent&&sr(e)})}},{description:"manage caret position in textarea",condition:()=>Et,dependencies:{textarea:Yo.textarea,previewButton:kt?Yo.saveButton:Yo.previewButton},action:e=>{const t=e.textarea,n=Pt(fe.caret_position,NaN).value;var o;Ko.get(Fo.edit_mode._.remember_caret_position)&&((o=n)%1==0&&o>=0)&&function(e,t){e.setSelectionRange(t,t)}(t,n);const r=()=>At(It,fe.caret_position);window.addEventListener("unload",r),e.previewButton.addEventListener("click",()=>{!function(e){Ct(fe.caret_position,e.selectionEnd)}(t),window.removeEventListener("unload",r)})}},{description:"remove mobile site disclaimer",condition:()=>ht&&Ko.get(Fo.edit_mode._.remove_mobile_site_disclaimer),dependencies:{textarea:Yo.textarea},action:e=>{const t=e.textarea;t.value=function e(t){const n=t.replace(Os,Ts);return t===n?t:e(n)}(t.value)}},{description:"insert editing tools",condition:()=>Et&&Ko.get(Fo.editing_tools._.enable),dependencies:{textarea:Yo.textarea},action:Xo(zs)},{description:"insert editing tools in quick reply form",condition:()=>Tt&&Ko.get(Fo.editing_tools._.enable)&&Ko.get(Fo.editing_tools._.in_quick_reply_form),dependencies:{textarea:Yo.textarea},action:Xo(zs)},{description:"enable improved built-in editing tools",condition:()=>Ds,deferUntil:g,action:()=>{try{Tanuki.Templates.Textarea.Helpers.setSelection=(e,t)=>{ro(e,{string:t,replace:!0})},Tanuki.Templates.Textarea.Helpers.insertAtCaret=(e,t,n)=>{void 0===n?ro(e,{string:t,replace:!0}):Zn(e,{before:t,after:n,cursor:"KEEP_SELECTION"})}}catch(e){return re(e)}}},{description:"insert heading toolbar button",condition:()=>Et&&Ko.get(Fo.edit_mode._.insert_heading_toolbar_button),dependencies:{textarea:Yo.textarea,strikeButton:Yo.textareaToolbarStrikeButton},action:(e=>t=>{So(t.strikeButton.parentElement,To,tr(t.textarea,e))})(zs)},{description:"insert table toolbar button",condition:()=>Et&&Ko.get(Fo.edit_mode._.insert_table_toolbar_button),dependencies:{textarea:Yo.textarea,unorderedListButton:Yo.textareaToolbarUnorderedListButton},action:(e=>t=>{So(t.unorderedListButton.parentElement,To,Ps(t.textarea,e))})(zs)},{description:"insert textarea size toggle",condition:()=>Et&&Ko.get(Fo.edit_mode._.textarea_size_toggle),dependencies:{textarea:Yo.textarea,toolbarInner:Yo.textareaToolbarInner},action:e=>{const t=e.textarea;So(e.toolbarInner,To,In("div",{class:[Be.toolbarGroup,_e.textareaSize].join(" ")},As(t,Fo.edit_mode._.textarea_size_small),As(t,Fo.edit_mode._.textarea_size_large)))}},{description:"insert preferences shortcut",condition:()=>!_t&&Ms,dependencies:{notificationsBar:"."+Be.notifications},action:e=>{So(e.notificationsBar,Ro,In("a",{href:me.link(Me.SETTINGS.link),title:Zt._.title,class:"margin-medium-right"},In("svg",{class:"icon",dangerouslySetInnerHTML:{__html:dt.settings}}),In("span",{class:"margin-small-left display-none display-l-inherit"},Zt._.shortcut_label)))}},{description:"prevent accidental signout",condition:()=>ft&&Ko.get(Fo.advanced._.prevent_accidental_signout),action:()=>{const e=pt();switch(e.tag){case"CouldNotExtract":return"Could not extract logged-in status and/or user ID.";case"NotLoggedIn":return;case"LoggedIn":break;default:oe(e)}const t=e.userID;if(!Me.PROFILE(t).test(document.location.pathname))return;const n=document.querySelector(Yo.signoutButton);if(null===n)return`Could not find signout button (${Yo.signoutButton}).`;n.addEventListener("click",e=>{confirm(Xt.signout_confirmation)||e.preventDefault()})},deferUntil:g},{description:"insert preferences link",condition:()=>mt,dependencies:{settingsNavigation:Yo.settingsNavigation},action:e=>{So(e.settingsNavigation,To,In("li",{title:Xt.preferences_link,class:Be.menuItem},In("a",{href:me.link(Me.SETTINGS.link),class:En()(Be.button,Be.link)},In("span",{class:Be.icon})," "," ",In("span",{class:Be.label},Xt.preferences_link))))}},{description:"insert link to top",condition:()=>Tt&&Ko.get(Fo.forum_threads._.insert_link_to_top),action:e=>{So(e.parent,To,In("a",{href:"javascript:window.scrollTo(0, 0)",title:Xt.link_to_top_tooltip},In("svg",{class:Be.icon,style:"transform: rotate(-90deg);"},In("use",{xlinkHref:"/gfx/iconmap.svg?v=20221125#icon_double_arrow_right"}))))},dependencies:{parent:Yo.pageNavigationAfterForumPosts}},{description:"insert PM links",condition:()=>Rt&&Ko.get(Fo.forum_threads._.insert_pm_links),action:()=>{var e,t;const n=document.getElementsByClassName(Be.forumPost),o=pt();switch(o.tag){case"CouldNotExtract":return vr("logged-in status and/or user ID");case"NotLoggedIn":return;case"LoggedIn":break;default:oe(o)}const r=o.userID,s=null===(e=document.querySelector(Yo.threadTitle))||void 0===e?void 0:e.textContent;if(!z(s))return vr("thread title");for(const e of kr(HTMLElement)(Array.from(n))){const n=e.querySelector("."+Be.forumPostProfileDetails),o=e.querySelector(Yo.quoteButton),a=null===(t=e.querySelector(Yo.forumPostAuthorLink))||void 0===t?void 0:t.textContent;if(!z(a))return yr("author name",e.id);if(null===n)return yr("profile details",e.id);if(null===o)return yr("quote button",e.id);So(n,To,In("button",{dangerouslySetInnerHTML:{__html:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n    <rect x="1" y="5" width="30" height="22" stroke="#444" fill="#d7d5d1" stroke-width="2"/>\n    <polyline points="1,6  16,17  31,6" stroke="#444" fill="none" stroke-width="2"/>\n</svg>\n'+Xt.pm_link_label},onClick:()=>{fetch(o.href,{credentials:"same-origin"}).then(e=>e.text()).then(e=>{const t=(new DOMParser).parseFromString(e,"text/html").querySelector("textarea");if(null===t)throw vr("textarea from fetch response");const o=document.createElement("form");var i;o.hidden=!0,o.method="post",o.action=Me.newPrivateMessage(r),So(o,To,In(Cn,null,In("input",{name:Ae.recipients,value:a}),In("input",{name:Ae.title,value:s}),In("input",{name:Ae.csrfToken,value:session.getCsrfToken()}),In("input",{name:Ae.action,value:"doPreview"}),In("textarea",{name:Ae.message},(t.textContent||"").replace(wr,["$1$3","$4","\n"+(i="$2",[Vt(ct,Me.forumPost(i)),Vt(ze),Xt.go_to_post,Ht(ze),Ht(ct)].join("")+"\n"),"$5"].join(""))))),n.appendChild(o),o.submit()}).catch(i.error)},class:[Be.button,_e.iconButton,_e.pmButton].join(" ")}))}},deferUntil:g},{description:"insert quote signature buttons",condition:()=>Tt&&Ko.get(Fo.forum_threads._.quote_signature_buttons),action:()=>{var e,t,n;const o=session.getCsrfToken(),r=document.getElementsByClassName(Be.forumPost);for(const i of kr(HTMLElement)(Array.from(r))){if(i.classList.contains(Be.forumPostByCurrentUser))continue;const r=i.querySelector("."+Be.forumPostSignature),s=i.querySelector("."+Be.forumPostControls),a=null===(t=null===(e=i.querySelector(Yo.forumPostAuthorLink))||void 0===e?void 0:e.textContent)||void 0===t?void 0:t.trim(),l=null===(n=i.querySelector(Yo.quoteButton))||void 0===n?void 0:n.href;if(null===s)return Ss("controls",i.id);if(!z(a))return Ss("author name",i.id);if(!z(l))return Ss("quote URL",i.id);So(s,To,xs({signature:r,authorName:a,userMessage:ys,quoteURL:l,csrf:o}))}},deferUntil:g},{description:"adapt corrections link to work with improved corrections",condition:()=>St&&Ko.get(Fo.general._.improved_corrections),dependencies:{correctionsLink:"#"+xe},action:e=>{e.correctionsLink.addEventListener("click",e=>{ne(document.querySelector("."+Be.proofDialog),t=>{e.stopImmediatePropagation();const n=t.querySelector("textarea");n instanceof HTMLElement&&n.focus()})},!0)}},{description:"filter uninteresting subforums",condition:()=>bt&&$s.length>0,dependencies:{body:"body"},action:(Us=$s,e=>{const t=e.body.querySelectorAll("tr.forumThread");for(const e of t){const t=e.querySelector("a.forum");if(null===t)return"Could not find forum link.";const n=t.href.match(Me.FORUM_CATEGORY);if(null===n)return"Could not extract forum ID from this link: "+t.outerHTML;const o=parseInt(n[1]);Us.includes(o)&&(e.classList.add(_e.uninteresting),e.title=Xt.uninteresting_subforum(t.textContent))}}),deferUntil:g},{description:"enable proofreading",condition:()=>0===Ko.get(Fo.advanced._.proofread_articles),action:()=>{window.setTimeout(ms,10)},deferUntil:g},{description:"add proofreading listeners",condition:()=>St&&1===Ko.get(Fo.advanced._.proofread_articles),dependencies:{correctionsLink:"#"+xe},action:function(e){e.correctionsLink.addEventListener("click",e=>{ms(),setTimeout(()=>{ne(document.querySelector(Yo.proofDialogCloseButton),e=>{e.addEventListener("click",fs,{capture:!1,passive:!0})})},10)},{capture:!1,passive:!0})}},{description:"perform proofreading processing",condition:()=>St&&2!==Ko.get(Fo.advanced._.proofread_articles)||Et&&Ko.get(Fo.advanced._.proofread_forum_posts),action:(qs=St?[Yo.bbParagraph]:[Yo.bbParagraph,"h1","h2","h3"],()=>{const e=qs.join(", ");for(const t of document.querySelectorAll(e))ki(t);for(const e of document.querySelectorAll("."+mi))e.addEventListener("click",()=>{null===gs()&&ne(document.getElementById(xe),e=>{e.click()}),setTimeout(()=>{ne(gs(),t=>{bs(t,{context:hs(e),suggestion:e.title})})},10)})}),deferUntil:g},{description:"replace followed threads link with a link to my posts",condition:()=>!_t&&Ko.get(Fo.general._.replace_followed_threads_link),dependencies:{followedThreadsLinkTextOrSigninButton:Yo.signinButtonOr(Yo.followedThreadsLinkText)},action:e=>{const t=pt();switch(t.tag){case"CouldNotExtract":return"Could not extract logged-in status and/or user ID.";case"NotLoggedIn":return;case"LoggedIn":break;default:oe(t)}const n=e.followedThreadsLinkTextOrSigninButton,o=n.parentElement;if(!K(HTMLAnchorElement)(o))return`Expected a link, but found an element with tagname ${JSON.stringify(null==o?void 0:o.tagName)}.`;n.textContent=Xt.my_posts,o.href=Me.MY_POSTS,o.classList.remove(Be.colorOrange)}},{description:"remember location in market",condition:()=>kt&&Ko.get(Fo.general._.remember_location_in_market),dependencies:{city:Yo.cityInput,region:Yo.regionSelect,saveButton:Yo.saveButton},action:e=>{const t=e.city,n=e.region;""===t.value&&(t.value=Ko.get(Fo.general._.location_city)),0===n.selectedIndex&&(n.value=Ko.get(Fo.general._.location_region).toString()),e.saveButton.addEventListener("click",()=>{Ko.set(Fo.general._.location_city,t.value);const e=Fo.general._.location_region.fromString(n.value);z(e)?i.error(e):Ko.set(Fo.general._.location_region,e.value)})}},{description:"insert mention everyone button",condition:()=>Rt&&Ko.get(Fo.forum_threads._.mention_everyone_button),dependencies:{forumPostContainer:Yo.forumPostContainer,replyButton:Yo.replyButtonAfterForumPosts,quickReplyForm:Yo.quickReplyForm},action:e=>{const t=In("form",{method:"POST",action:(n={message:hr(e.forumPostContainer).map(br).join(" "),replyURL:e.quickReplyForm.getAttribute("action")||"",csrf:session.getCsrfToken()}).replyURL,class:_e.mentionEveryoneButton},In("input",{name:Ae.message,type:"hidden",value:n.message}),In("input",{name:Ae.csrfToken,type:"hidden",value:n.csrf}),In("input",{name:Ae.action,type:"hidden",value:De.preview}),In("button",{type:"submit",class:Be.button,title:Xt.mention_everyone_tooltip},Xt.mention_everyone_label));var n;if(null===document.querySelector(`${Yo.forumPost} ${Yo.forumPostAuthorLink}`))return"Could not detect thread participants";So(e.replyButton.parentElement,Oo(e.replyButton),t)}},{description:"insert draft mode toggle",condition:()=>(ht||vt)&&Ko.get(Fo.edit_mode._.draft_mode_toggle),dependencies:{saveButton:Yo.saveButton,previewButton:Yo.previewButton},action:e=>{const t=e.saveButton,n=document.createElement("input");n.type="checkbox";const o=document.createElement("label");o.classList.add(_e.checkbox),o.title=Xt.draft_mode_toggle_tooltip,o.appendChild(n);const r=document.createTextNode(Xt.draft_mode_toggle_label);o.appendChild(r);const i=Pt(fe.draft_mode,!1);if(!["ABSENT","OK"].includes(i.status))return`Could not read draft mode state (error type: ${i.status}).`;const s=i.value;n.checked=s,n.addEventListener("change",function(e,t){return n=>{const o=e.checked;Ct(fe.draft_mode,o),Qo(o,t)}}(n,t)),e.previewButton.insertAdjacentElement("afterend",o),Qo(s,t)}},{description:"perform Mousetrap preparations",condition:()=>!0,action:()=>{for(const e of he)for(const t of document.querySelectorAll(e))t.classList.add(_e.mousetrap)},deferUntil:g},{description:"enable Tab key",condition:()=>Et&&Ko.get(Fo.edit_mode._.insert_tab),dependencies:{textarea:Yo.textarea},action:((e,t)=>n=>{mr(qo.INSERT_TAB,o=>{document.activeElement===n.textarea&&(o.preventDefault(),ro(n.textarea,{string:e,replace:t}))},{preventDefault:!1})})(Ko.get(Fo.edit_mode._.insert_tab_content),zs),deferUntil:g},{description:"add edit mode keyboard shortcut (insert link)",condition:()=>Et&&Ko.get(Fo.edit_mode._.keyboard_shortcuts),dependencies:{textarea:Yo.textarea},action:_r(zs),deferUntil:g},{description:"add edit mode keyboard shortcut (submit)",condition:()=>Et&&Ko.get(Fo.edit_mode._.keyboard_shortcuts),dependencies:{textarea:Yo.textarea,saveButton:Yo.saveButton},action:ur,deferUntil:g},{description:"add edit mode keyboard shortcut (preview)",condition:()=>Et&&!wt&&Ko.get(Fo.edit_mode._.keyboard_shortcuts),dependencies:{textarea:Yo.textarea,previewButton:Yo.previewButton},action:pr,deferUntil:g},{description:"add quick reply keyboard shortcut (insert link)",condition:()=>Tt&&Ko.get(Fo.edit_mode._.keyboard_shortcuts_in_quick_reply),dependencies:{textarea:Yo.textarea},action:_r(zs)},{description:"add quick reply keyboard shortcut (submit)",condition:()=>Tt&&Ko.get(Fo.edit_mode._.keyboard_shortcuts_in_quick_reply),dependencies:{textarea:Yo.textarea,saveButton:Yo.saveButtonQuickReply},action:ur},{description:"add quick reply keyboard shortcut (preview)",condition:()=>Tt&&Ko.get(Fo.edit_mode._.keyboard_shortcuts_in_quick_reply),dependencies:{textarea:Yo.textarea,previewButton:Yo.previewButtonQuickReply},action:pr}];class Gs extends Ln{constructor(e){super(e),this.state={loggedMessages:[],isOpen:e.initOpen}}log(e){this.setState(t=>({loggedMessages:[...t.loggedMessages,e]}))}render(){const e=this.state.loggedMessages,t=e.filter(e=>"warning"===e.kind),n=e.filter(e=>"error"===e.kind);return In("footer",{id:pe.developerTools,class:this.state.isOpen?"open":void 0,"data-how-many":e.length},In("a",{onClick:e=>{this.setState(e=>{const t=!e.isOpen;return Ct(fe.developer_tools_open,t),Object.assign(Object.assign({},e),{isOpen:t})})}},Ks(n.length,"error"),Ks(t.length,"warning")),In("ol",null,e.length>0?e.map(e=>In("li",{class:_e.developerTools[e.kind]},e.content)):In("li",null,nn.nothing_logged)))}}function Ks(e,t){const n={error:"❌",warning:"⚠️"}[t];return In("strong",{"data-how-many":e,class:_e.developerTools[t],title:nn.tooltip[t](e)},n,"  ",e)}const Vs=r.failureDescriber({siteName:ke,extensionName:Y,location:document.location});i.setLogger(Ko.get(Fo.advanced._.developer_mode)?function(e,t){const n=Pt(fe.developer_tools_open,!1).value;let o;return Yn(In(Gs,{initOpen:n,ref:e=>{o=e}}),t),Object.assign(Object.assign({},e),{error:(t,n)=>{o.log({kind:"error",content:n}),e.error(t,n)},warn:(t,n)=>{o.log({kind:"warning",content:n}),e.warn(t,n)}})}(console,document.documentElement.appendChild(document.createElement("div"))):console),a.run({id:J,name:Y,initialAction:()=>i.log(`${Y} ${Q}`),stylesheets:us,operationsPlan:{operations:Fs,interval:25,tryUntil:o.DOMCONTENTLOADED,extraTries:3,handleFailures:e=>e.forEach(l(i.error,Vs))}})}]);