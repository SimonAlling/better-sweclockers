{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/css-loader/dist/runtime/api.js","webpack:///./node_modules/classnames/index.js","webpack:///./node_modules/milliseconds/milliseconds.js","webpack:///./node_modules/mousetrap/mousetrap.js","webpack:///./node_modules/array-uniq/index.js","webpack:///./node_modules/escape-string-regexp/index.js","webpack:///./src/lib/proofreading/style.scss?fd88","webpack:///./src/stylesheets/developer-mode.scss?be19","webpack:///./src/stylesheets/doge.scss?0e6c","webpack:///./src/stylesheets/down-for-maintenance.scss?ab35","webpack:///./src/stylesheets/editing-tools.scss?59db","webpack:///./src/stylesheets/hide-footer.scss?84aa","webpack:///./src/stylesheets/highlight-own-posts.scss?4b96","webpack:///./src/stylesheets/improved-corrections.scss?71b8","webpack:///./src/stylesheets/improved-image-controls.scss?a60b","webpack:///./src/stylesheets/improved-pagination-buttons.scss?27ee","webpack:///./src/stylesheets/lock-heights.scss?1308","webpack:///./src/stylesheets/main.scss?637f","webpack:///./src/stylesheets/mention-everyone.scss?4a8b","webpack:///./src/stylesheets/preferences-link.scss?cad6","webpack:///./src/stylesheets/preferences-shortcut.scss?7bf5","webpack:///./src/stylesheets/preferences.scss?151e","webpack:///./src/stylesheets/replace-followed-threads-link.scss?a796","webpack:///./src/stylesheets/textarea-size-toggle.scss?3882","webpack:///./src/stylesheets/uninteresting-subforums.scss?dbbe","webpack:///./src/lib/proofreading/style.scss","webpack:///./src/stylesheets/developer-mode.scss","webpack:///./src/stylesheets/doge.scss","webpack:///./src/stylesheets/down-for-maintenance.scss","webpack:///./src/stylesheets/editing-tools.scss","webpack:///./src/stylesheets/hide-footer.scss","webpack:///./src/stylesheets/highlight-own-posts.scss","webpack:///./src/stylesheets/improved-corrections.scss","webpack:///./src/stylesheets/improved-image-controls.scss","webpack:///./src/stylesheets/improved-pagination-buttons.scss","webpack:///./src/stylesheets/lock-heights.scss","webpack:///./src/stylesheets/main.scss","webpack:///./src/stylesheets/mention-everyone.scss","webpack:///./src/stylesheets/preferences-link.scss","webpack:///./src/stylesheets/preferences-shortcut.scss","webpack:///./src/stylesheets/preferences.scss","webpack:///./src/stylesheets/replace-followed-threads-link.scss","webpack:///./src/stylesheets/textarea-size-toggle.scss","webpack:///./src/stylesheets/uninteresting-subforums.scss","webpack:///./node_modules/@typed/compose/lib.es2015/compose.js","webpack:///./node_modules/userscripter/run-time/environment.mjs","webpack:///./node_modules/lines-unlines/dist/index.mjs","webpack:///./node_modules/userscripter/run-time/errors.mjs","webpack:///./node_modules/userscripter/run-time/log.mjs","webpack:///./node_modules/userscripter/run-time/stylesheets.mjs","webpack:///./node_modules/ts-type-guards/dist/is.mjs","webpack:///./node_modules/userscripter/run-time/operations.mjs","webpack:///./node_modules/userscripter/run-time/userscripter.mjs","webpack:///./src/userscript.ts","webpack:///./src/utilities.ts","webpack:///./src/search-engines.ts","webpack:///./src/config.ts","webpack:///./src/site.ts","webpack:///./src/environment.ts","webpack:///./node_modules/ts-storage/dist/index.mjs","webpack:///./node_modules/ts-preferences/dist/Utilities.mjs","webpack:///./node_modules/ts-preferences/dist/preferences/Preference.mjs","webpack:///./node_modules/ts-preferences/dist/PreferenceManager.mjs","webpack:///./node_modules/userscripter/run-time/preferences.mjs","webpack:///./node_modules/bbcode-tags/dist/index.mjs","webpack:///./src/browser.ts","webpack:///./src/text.ts","webpack:///./node_modules/ts-preferences/dist/preferences/BooleanPreference.mjs","webpack:///./node_modules/ts-preferences/dist/preferences/MultichoicePreference.mjs","webpack:///./node_modules/ts-preferences/dist/preferences/StringPreference.mjs","webpack:///./src/preferences/advanced.ts","webpack:///./src/preferences/customize-content.ts","webpack:///./node_modules/ts-preferences/dist/preferences/NumericPreference.mjs","webpack:///./node_modules/ts-preferences/dist/preferences/IntegerPreference.mjs","webpack:///./node_modules/ts-preferences/dist/preferences/RangePreference.mjs","webpack:///./node_modules/ts-preferences/dist/preferences/IntegerRangePreference.mjs","webpack:///./src/preferences/edit-mode.ts","webpack:///./node_modules/preact/dist/preact.module.js","webpack:///./node_modules/text-field-edit/index.js","webpack:///./src/operations/logic/textarea.ts","webpack:///./src/operations/actions/replace-spaces-with-nbsps.ts","webpack:///./src/operations/actions/search-link.ts","webpack:///./src/operations/actions/shibe.ts","webpack:///./src/operations/actions/split-quote.ts","webpack:///./src/operations/logic/smileys.ts","webpack:///./src/operations/logic/editing-tools.tsx","webpack:///./src/icons/search-link.svg","webpack:///./src/icons/quote.svg","webpack:///./src/icons/split-quote.svg","webpack:///./src/icons/expander.svg","webpack:///./src/operations/logic/render.ts","webpack:///./src/preferences/editing-tools.ts","webpack:///./src/preferences/forum-threads.ts","webpack:///./src/preferences/general.ts","webpack:///./node_modules/ts-preferences/dist/preferences/ListPreference.mjs","webpack:///./src/preferences/interests.ts","webpack:///./src/actions.ts","webpack:///./src/preferences/keyboard.ts","webpack:///./src/preferences.ts","webpack:///./src/selectors.ts","webpack:///./src/operations/draft-mode-toggle.ts","webpack:///./src/operations/editing-tools.tsx","webpack:///./src/operations/heading-toolbar-button.tsx","webpack:///./src/operations/improved-builtin-editing-tools-url.ts","webpack:///./src/operations/improved-corrections.ts","webpack:///./src/operations/prevent-accidental-unload.ts","webpack:///./src/operations/logic/click.ts","webpack:///./src/operations/keyboard-shortcuts/edit-mode.ts","webpack:///./src/operations/link-to-top.tsx","webpack:///./src/operations/edit-mode.ts","webpack:///./src/operations/mention-everyone.tsx","webpack:///./node_modules/ts-type-guards/dist/only.mjs","webpack:///./src/operations/pm-links.tsx","webpack:///./node_modules/ts-preferences/dist/preferences/DoublePreference.mjs","webpack:///./node_modules/ts-preferences/dist/preferences/DoubleRangePreference.mjs","webpack:///./src/preferences-menu.tsx","webpack:///./src/operations/preferences-menu.tsx","webpack:///./node_modules/highlight-mistakes/dist/utilities.mjs","webpack:///./node_modules/highlight-mistakes/dist/rules.mjs","webpack:///./node_modules/@alling/sweclockers-writing-rules/dist/index.mjs","webpack:///./node_modules/highlight-mistakes/dist/core.mjs","webpack:///./src/lib/proofreading/classes.ts","webpack:///./src/lib/proofreading/index.ts","webpack:///./src/stylesheets/hide.ts","webpack:///./src/time.ts","webpack:///./src/stylesheets.ts","webpack:///./src/operations/proofreading.ts","webpack:///./src/operations/quote-signature-buttons.tsx","webpack:///./src/operations/remove-mobile-site-disclaimer.ts","webpack:///./src/operations/replace-followed-threads-link.ts","webpack:///./src/operations/table-toolbar-button.tsx","webpack:///./src/operations/textarea-size-toggle.tsx","webpack:///./src/icons/textarea-small.svg","webpack:///./src/icons/textarea-large.svg","webpack:///./src/operations.ts","webpack:///./src/operations/uninteresting-subforums.ts","webpack:///./src/operations/redirect-home-page-to-archive.ts","webpack:///./src/operations/caret-position.ts","webpack:///./src/operations/improved-builtin-editing-tools.ts","webpack:///./src/operations/preferences-shortcut.tsx","webpack:///./src/operations/prevent-accidental-signout.ts","webpack:///./src/operations/preferences-link.tsx","webpack:///./src/icons/pm.svg","webpack:///./src/operations/remember-location-in-market.ts","webpack:///./src/operations/mousetrap-preparations.ts","webpack:///./src/operations/developer-mode.tsx","webpack:///./src/main.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","useSourceMap","list","toString","this","map","item","content","cssMapping","btoa","sourceMapping","sourceMap","base64","unescape","encodeURIComponent","JSON","stringify","data","concat","sourceURLs","sources","source","sourceRoot","join","cssWithMappingToString","mediaQuery","dedupe","alreadyImportedModules","length","id","_i","push","hasOwn","classNames","classes","arguments","arg","argType","Array","isArray","inner","apply","default","calc","Math","round","seconds","minutes","hours","days","weeks","months","years","window","document","undefined","_REVERSE_MAP","_MAP","8","9","13","16","17","18","20","27","32","33","34","35","36","37","38","39","40","45","46","91","93","224","_KEYCODE_MAP","106","107","109","110","111","186","187","188","189","190","191","192","219","220","221","222","_SHIFT_MAP","_SPECIAL_ALIASES","test","navigator","platform","Mousetrap","keys","callback","action","_bindMultiple","unbind","trigger","_directMap","reset","_callbacks","stopCallback","e","element","className","indexOf","_belongsTo","ancestor","parentNode","target","composedPath","initialEventTarget","tagName","isContentEditable","handleKey","self","_handleKey","addKeycodes","init","documentMousetrap","method","charAt","_addEvent","type","addEventListener","attachEvent","_characterFromEvent","character","String","fromCharCode","which","shiftKey","toLowerCase","_isModifier","_pickBestAction","modifiers","_getReverseMap","_getKeyInfo","combination","replace","split","_keysFromString","targetElement","_resetTimer","_sequenceLevels","_ignoreNextKeyup","_ignoreNextKeypress","_nextExpectedAction","_resetSequences","doNotReset","activeSequences","_getMatches","sequenceName","level","modifiers1","modifiers2","matches","seq","metaKey","ctrlKey","sort","deleteCombo","combo","deleteSequence","splice","_fireCallback","sequence","srcElement","preventDefault","returnValue","_preventDefault","stopPropagation","cancelBubble","_stopPropagation","_handleKeyEvent","keyCode","altKey","_eventModifiers","_bindSequence","_increaseSequence","nextAction","clearTimeout","setTimeout","_callbackAndReset","wrappedCallback","_bindSingle","info","callbacks","maxLevel","processedSequenceCallback","max","ignoreThisKeypress","combinations","array","Set","matchOperatorsRe","str","TypeError","result","___CSS_LOADER_API_IMPORT___","locals","compose","_compose1","_compose2","_compose3","_compose4","_compose5","f","a","g","h","j","ALWAYS","NEVER","DOMCONTENTLOADED","state","LOAD","lines","unlines","ls","line","formatDependency","selector","explanation","failure","reason","dependencies","message","failureDescriber","context","operation","description","location","href","trim","siteName","extensionName","prefix","logger","console","setPrefix","setLogger","log","warning","warn","error","stylesheet","spec","stylesheets","fragment","createDocumentFragment","entries","forEach","_","sheet","style","createElement","textContent","css","media","condition","appendChild","documentElement","setMediaQuery","getElementById","setAttribute","enable","disable","TYPE_GUARDS_PRIMITIVE","isBoolean","isNumber","isString","isSymbol","isNull","isUndefined","x","isPrimitive","some","namedTypeGuard","creator","typeGuard","fun","writable","is","isLike","reference","referenceAsArray","every","constructor","includes","k","Function","tryToPerform","queryResults","querySelector","missingDependencies","filter","reduce","acc","userscript","attr","plan","hasAttribute","initialAction","recurse","operations","failures","triesLeft","lastTry","operationsToRunNow","remaining","readyState","deferUntil","tryUntil","extraTries","interval","handleFailures","operationsPlan","raw","fromMaybeUndefined","fallback","withMaybe","ma","assertExhausted","Error","errorMessageFromCaught","caught","SearchEngine","USERSCRIPT_ID","USERSCRIPT_NAME","PREFIX_ID","PREFIX_CLASS","ID","developerTools","preferenceIdPrefix","editingTools","editingToolsPreferences","interestsPreferences","proofreading","CLASS","mousetrap","disabled","iconButton","pmButton","quoteSignatureButton","mentionEveryoneButton","shibe","button_color","button_blockquote","button_spoiler","button_code","button_math","splitQuote","colorPalette","smileys","preference","preferenceDescription","inlinePreference","primaryInlinePreference","radioButtonPreference","labeledInput","subforum","textareaSize","codeInput","checkbox","uninteresting","PATH","link","sweclockersSettingsPath","check","RegExp","KEY","caret_position","developer_tools_open","draft_mode","CONTENT","indentation","shibeColor","shibeFont","splitQuoteEmptyLines","edit","doge","ICONS","BLOCKQUOTE","DOGE","FOCUSABLE_ELEMENTS","NAME","fieldset","button","icon","label","colorOrange","menuItem","settingsNavigation","forumPosts","forumPost","forumPostProfileDetails","forumPostSignature","forumPostControls","forumPostByCurrentUser","bbcode","bbDel","bbImage","bbIns","imgControls","notifications","proofDialog","socialMediaButtons","sideBox","smiley","subforums","toolbarGroup","toolbarButton","toolbarButtonIcon","toolbarHeadingButton","toolbarTableButton","FORM","csrfToken","recipients","title","preview","submit","EDIT_MODE_FORUM","EDIT_MODE_MARKET","EDIT_MODE_MARKET_CONTACT","EDIT_MODE_PM","EDIT_MODE_REPORT","EDIT_MODE_SIGNATURE","SETTINGS","ARCHIVE","FOLLOWED","MY_POSTS","SIGNIN","SIGNOUT","ARTICLE","GUIDE","NEWS","COMPETITION","TEST","TESTPILOT","FORUM_CATEGORY","FORUM","FORUM_THREADS_VIEW","PROFILE","userId","THREAD","POST","newPrivateMessage","sender","postID","TAG","toolbarIcon","position","position_toolbar_url","position_toolbar_img","settings","MOBILE_SITE_DISCLAIMER","sentFrom","mobileSiteDomain","getUserInfo","_a","userID","session","_userid","tag","isOnBSCPreferencesPage","pathMatches","isOnSweclockersSettingsPage","isOnSomeProfilePage","pathname","isInForumThreadsView","isInEditMode_forum","isInEditMode_market","isInEditMode_marketContact","isInEditMode_PM","isInEditMode_report","isInEditMode_signature","isInEditMode","isReadingEditorialContent","isReadingThread","isReadingForumThread","startsWith","Status","LOCAL_STORAGE","localStorage","SESSION_STORAGE","sessionStorage","get_session","getFrom","set_session","setIn","storage","savedValue","DOMException","readValue","getItem","parsedValue","parse","readFrom","status","err","SyntaxError","stringifiedValue","_key","v","Number","isFinite","RangeError","setItem","saveIn","removeIn","removeItem","fromMaybe","replacer","isNaN","Infinity","prependConstraints","cs","constraints","getClassName","extras","validationResult","validate","invalidValue","len","constraint","requirement","SIMPLE_RESPONSE_HANDLER","summary","response","unknown","fromStorageStatus","assertUnreachable","parameter","empty","supportsUndo","userAgent","isGecko","isAndroid","general","loading","preferences_link","signout_confirmation","draft_mode_toggle_label","draft_mode_toggle_tooltip","draft_mode_enabled_tooltip","improved_url_button_url","improved_url_button_text","nbsps_confirm","generic_lines_confirm","quote_signature_label","quote_signature_tooltip","quote_signature_tooltip_no_signature","author","mention_everyone_label","mention_everyone_tooltip","uninteresting_subforum","subforumName","pm_link_label","go_to_post","link_to_top_tooltip","textarea_size_small","textarea_size_large","tooltip_h","tooltip_table","down_for_maintenance","my_posts","NO_LABEL","shortcut_label","back_to_sweclockers","save_notice","failed_to_fetch_categories","in_quick_reply_form","in_quick_reply_form_description","lock_heights","lock_heights_description","improved_corrections","improved_corrections_description","insert_preferences_shortcut","insert_preferences_shortcut_description","replace_followed_threads_link","replace_followed_threads_link_description","redirect_home_page_to_archive","redirect_home_page_to_archive_description","remember_location_in_market","remember_location_in_market_description","forum_threads","improved_pagination_buttons","improved_pagination_buttons_description","insert_link_to_top","insert_link_to_top_description","highlight_own_posts","highlight_own_posts_description","insert_pm_links","insert_pm_links_description","mention_everyone_button","mention_everyone_button_description","quote_signature_buttons","quote_signature_buttons_description","quote_signature_message","quote_signature_message_description","quote_signature_message_default","edit_mode","draft_mode_toggle","draft_mode_toggle_description","textarea_size_save","textarea_size_save_description","textarea_size_toggle","textarea_size_toggle_description","textarea_size_unit","monospace_font","monospace_font_description","keyboard_shortcuts","keyboard_shortcuts_description","insert_tab","insert_tab_description","insert_tab_spaces","insert_tab_tab","improved_builtin_editing_tools","improved_builtin_editing_tools_description","insert_heading_toolbar_button","insert_heading_toolbar_button_description","insert_table_toolbar_button","insert_table_toolbar_button_description","remember_caret_position","remember_caret_position_description","remove_mobile_site_disclaimer","remove_mobile_site_disclaimer_description","editing_tools","enable_description","above","below","special_characters","meta","code","math","whitespace","definitions","embed","search_engine","doge_description","color_palette","color_palette_description","customize_content","carousel","social_media","guides","popular_galleries","new_in_forum_side","new_in_market","new_in_test_lab","in_the_store","popular_at_prisjakt","new_tech_jobs","external_news","more_articles","latest_news","new_in_forum_main","footer","advanced","prevent_accidental_signout","prevent_accidental_signout_description","prevent_accidental_unload","prevent_accidental_unload_description","improved_image_controls","improved_image_controls_description","disable_scroll_restoration","disable_scroll_restoration_description","down_for_maintenance_description","proofread_articles","always","corrections","never","proofread_forum_posts","proofread_forum_posts_description","undo_support","replace_selected","keep_selected","developer_mode","developer_mode_description","custom_css_enable","custom_css_enable_description","custom_css_warning","keyboard","interests","size_label","size_tooltip","color_tooltip","font_tooltip","mark_label","mark_tooltip","abbr_label","abbr_tooltip","quote_tooltip","bq_label","bq_tooltip","spoiler_tooltip","expander_tooltip","noparse_tooltip","pre_tooltip","cmd_tooltip","code_tooltip","math_label","math_tooltip","sub_label","sub_tooltip","sup_label","sup_tooltip","nbsps_label","nbsps_tooltip","url_tooltip","img_tooltip","search_link_tooltip","shibe_label","shibe_tooltip","doge_label","doge_tooltip","split_quote_tooltip","edit_label","edit_tooltip","ins_label","ins_tooltip","del_label","del_tooltip","dl_label","dl_tooltip","dt_label","dt_tooltip","dd_label","dd_tooltip","insert","tooltip","nothing_logged","options","super","seenOptionValues","option","minLength","maxLength","CONSTRAINTS","multiline","truncated","substring","toValid","REGEX_LINE_BREAKS","custom_css_code","class","parsed","CONSTRAINT_INTEGER","parseInt","postParse","isInteger","min","dependencies_textarea_size_toggle","TAB","u","textarea_size","MAX_VALUE","implicit","suffix","monospace_font_in_quick_reply_form","keyboard_shortcuts_in_quick_reply","insert_tab_content","repeat","removeChild","children","defaultProps","props","ref","__k","__","__b","__e","__d","__c","__h","__v","vnode","base","__r","debounceRendering","__P","$","__n","ownerSVGElement","y","w","b","A","P","L","I","nextSibling","insertBefore","setProperty","C","cssText","slice","N","z","removeEventListener","removeAttributeNS","setAttributeNS","removeAttribute","event","contextType","__E","render","M","sub","__s","getDerivedStateFromProps","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","T","componentWillUpdate","componentDidUpdate","getChildContext","getSnapshotBeforeUpdate","H","diffed","nodeType","localName","createTextNode","createElementNS","childNodes","dangerouslySetInnerHTML","attributes","__html","innerHTML","checked","current","unmount","componentWillUnmount","O","getDerivedStateFromError","setState","componentDidCatch","forceUpdate","Promise","then","resolve","field","text","ownerDocument","initialFocus","activeElement","focus","execCommand","setRangeText","selectionStart","selectionEnd","dispatchEvent","InputEvent","inputType","isComposing","insertTextFirefox","body","blur","HTMLElement","indent","wrapIn","textarea","insertionResult","insertion","start","end","startOfInsertedText","textareaContent","string","startOfInserted","endOfInserted","insertPure","before","selectedTextIn","after","wrap","wrapEnd","selection","getSelection","cursor","placeCursorIn","selectRangeIn","wrap_verbatim","wrap_tag","spacing","block","parameterized","undoSupport","insertIn","setSelectionRange","CONSECUTIVE_SPACES","selected","startTag","engine","completePhrase","searchEngineURL","searchURL","shibeText","original","floor","random","lengthOfGuaranteedMatchIn","regexThatAlwaysMatches","match","SMILEYS","codeFor","classFor","BUTTON","nbsps","generalButton","selectedText","_b","numberOfSelectedSpaces","numberOfSelectedSpaceSegments","confirmationNeeded","confirm","url","tagButton","image","img","imgify","search","selectedLines","nonEmptyLines","longestLineLength","shibeConfirmationNeeded","quote","beforeSelection","afterSelection","existingNewlinesBeforeSelection","existingNewlinesAfterSelection","trimRight","trimLeft","numberOfNewlinesToInsert","endTag","extraNewlineBeforeSelectionNeeded","extraNewlineAfterSelectionNeeded","expander","BUTTONS","searchEngine","COLORS","insertButton","colorButton","color","smileyButton","custom","onClick","renderIn","parent","placeholder","nodeProps","maxTotalLength","insertAtTheEnd","append","insertAtTheBeginning","prepend","insertAfter","buttonsDescription","buttons","connectedButtons","div","Position","more","dependencies_quote_signature","location_region","location_city","Action","uninteresting_subforums","shortcut","INSERT_LINK","SUBMIT","PREVIEW","INSERT_TAB","handler","changeListeners","subscribe","listener","add","unsubscribe","delete","preferences","subscriptable","saved","set","Preferences","localStoragePrefix","responseHandler","cache","Map","seenKeys","allPreferences","flatten","tree","values","node","dependency","getWith","setWith","getRaw","setRaw","getFromCacheOrThrowIfUnknown","cachedValue","textareaToolbarInner","textareaToolbarStrikeButton","textareaToolbarUnorderedListButton","proofDialogTextarea","threadTitle","moreArticles","actionButtons","quoteButton","previewButton","saveButton","saveButtonQuickReply","actionButtonsQuickReply","previewButtonQuickReply","forumPostContainer","replyButtonAfterForumPosts","cityInput","regionSelect","sideColumnGuides","sideColumnPopularGalleries","bbParagraph","forumLink","forumPostAuthorLink","linkedForumPost","pageNavigationAfterForumPosts","quickReplyForm","signoutButton","signinButtonOr","followedThreadsLinkText","proofDialogCloseButton","draftModeEnabled","insertBeforeOrAfter","parentElement","EditingTools","config","getEditingToolsConfig","connected","connectedTagButton","connectedInsertButton","connectedColorButton","connectedSmileyButton","headingToolbarButton","isUrlLike","shouldPreventUnload","handleBeforeUnload","preventUnload","enableListener","disableListener","clickOn","Event","click","keyboardShortcuts","bindKeyboardShortcut","insertLink","entry","mention","username","usersToMention","nameLinks","from","querySelectorAll","only","xs","REGEX_GENERATED_QUOTE","couldNotExtract","what","couldNotExtractFromPost","htmlId","parseFloat","PID","GENERATORS","Boolean","LabeledInput","onChange","fromStringEventHandler","Integer","Double","step","IntegerRange","DoubleRange","pow","log10","Multichoice","html","RadioButton","index","selectedIndex","fromString","referrer","src","alt","Entries","generators","ps","InputElement","for","Entry","input","isDefined","fetch","origin","responseContent","links","DOMParser","parseFromString","categories","HTMLAnchorElement","linkData","isSubforum","classList","contains","extractForumLinkData","catch","category","checkboxId","newUninteresting","literalRule","core","literal","mx","fmap","literalRegex","simpleRule","matchRule","bad","assign","regexRule","regex","DESC_NBSP","good","DESC_NBH","DESC_END","simpleNBSP","matchNBSP","regexNBSP","simpleNBH","matchNBH","simpleEND","NUMBER","RULES_NB_SPACE","RULES_NB_HYPHEN","RULES_EN_DASH","RULES_TIMES","GIBBERISH","RULES","RULES_SUP","proofreadWith","rules","markAll","markVerified","lookaround","markMistake","markMistakesAndVerifiedUsing","reduceRight","kind","mark","f_b","f_m","f_a","lookbehind","lookahead","group","whatToFind","whatToMark","fakeLookaround","markIn","found","rest","captured","findAndMarkUsing","markWith","isMistake","processSup","processNode","processNodeWith","sup","Node","TEXT_NODE","span","replaceChild","ELEMENT_NODE","nodeName","pattern","hideById","hideBySelector","timeIsWithin","time","date","startOfToday","Date","setHours","setMinutes","setSeconds","setMilliseconds","getTime","timeOfDay","STYLESHEETS","main","preferences_shortcut","textarea_size_toggle_textarea_height","custom_css","mention_everyone","customize_content_carousel","customize_content_social_media","hideByClass","customize_content_guides","customize_content_popular_galleries","customize_content_new_in_forum_side","customize_content_new_in_market","customize_content_new_in_test_lab","customize_content_in_the_store","customize_content_popular_at_prisjakt","customize_content_new_tech_jobs","customize_content_external_news","customize_content_more_articles","customize_content_latest_news","customize_content_new_in_forum_main","customize_content_footer","ELEMENTS_TO_GO_OUTSIDE","toUpperCase","Options","getProofDialogTextarea","addCorrection","correction","suggestion","scrollTo","MAX_SAFE_INTEGER","mistake","contextBefore","contextAfter","contextBeforeOrAfter","getSibling","combine","baseCase","maxChars","sibling","previousSibling","nextContext","userMessage","noSignature","signature","authorName","quoteURL","credentials","quoteTextarea","form","hidden","csrf","textToInsert","rawSignature","rawQuote","withSignatureAndUserMessage","END_TAG_QUOTE","disclaimer","Headings","TABLE_CONFIG","rows","columns","headings","tableToolbarButton","headingRow","tableRowLines","regularRow","theadLines","tbodyLines","replicate","table","cell_first","cell_rest","fill","size","height","shouldEnableImprovedBuiltinEditingTools","shouldInsertPreferencesShortcut","uninterestingSubforumIDs","selectors","headerLogoLink","latestNewsWidgetLink","footerLogoLink","improvedBuiltinEditingToolsDescription","Beta","Forms","Toolbar","Buttons","HyperlinkButton","insertTemplate","HTMLTextAreaElement","Taiga","Strings","sprintf","suggestedLinkUrl","suggestedLinkText","providedLinkUrl","prompt","providedLinkText","finalLinkUrl","finalLinkText","newSelectionStart","rel","yyyymmdd","getFullYear","getMonth","padStart","getDate","history","scrollRestoration","_actionButtons","changeListener","offsetParent","savedPosition","NaN","cursorPosition","placeCaretIn","wipeSavedPosition","savePositionIn","withoutDisclaimers","withoutFirstDisclaimer","Tanuki","Templates","Textarea","Helpers","setSelection","replacement","insertAtCaret","strikeButton","unorderedListButton","toolbarInner","notificationsBar","user","ourUserID","xlinkHref","getElementsByClassName","post","profileDetails","getCsrfToken","_c","controls","correctionsLink","stopImmediatePropagation","row","outerHTML","uninterestingIDs","closeButton","capture","passive","followedThreadsLinkTextOrSigninButton","remove","city","region","parseResult","replyButton","replyURL","getAttribute","toggle","insertAdjacentElement","loggedMessages","isOpen","initOpen","loggedWarnings","msg","loggedErrors","newOpenState","howMany","describeFailure","regularLogger","rootNode","devTools","run"],"mappings":"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","file":"better-sweclockers.user.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 47);\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || '').concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}","/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg) && arg.length) {\n\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\tif (inner) {\n\t\t\t\t\tclasses.push(inner);\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","function calc(m) {\n    return function(n) { return Math.round(n * m); };\n};\nmodule.exports = {\n    seconds: calc(1e3),\n    minutes: calc(6e4),\n    hours: calc(36e5),\n    days: calc(864e5),\n    weeks: calc(6048e5),\n    months: calc(26298e5),\n    years: calc(315576e5)\n};\n","/*global define:false */\n/**\n * Copyright 2012-2017 Craig Campbell\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * Mousetrap is a simple keyboard shortcut library for Javascript with\n * no external dependencies\n *\n * @version 1.6.3\n * @url craig.is/killing/mice\n */\n(function(window, document, undefined) {\n\n    // Check if mousetrap is used inside browser, if not, return\n    if (!window) {\n        return;\n    }\n\n    /**\n     * mapping of special keycodes to their corresponding keys\n     *\n     * everything in this dictionary cannot use keypress events\n     * so it has to be here to map to the correct keycodes for\n     * keyup/keydown events\n     *\n     * @type {Object}\n     */\n    var _MAP = {\n        8: 'backspace',\n        9: 'tab',\n        13: 'enter',\n        16: 'shift',\n        17: 'ctrl',\n        18: 'alt',\n        20: 'capslock',\n        27: 'esc',\n        32: 'space',\n        33: 'pageup',\n        34: 'pagedown',\n        35: 'end',\n        36: 'home',\n        37: 'left',\n        38: 'up',\n        39: 'right',\n        40: 'down',\n        45: 'ins',\n        46: 'del',\n        91: 'meta',\n        93: 'meta',\n        224: 'meta'\n    };\n\n    /**\n     * mapping for special characters so they can support\n     *\n     * this dictionary is only used incase you want to bind a\n     * keyup or keydown event to one of these keys\n     *\n     * @type {Object}\n     */\n    var _KEYCODE_MAP = {\n        106: '*',\n        107: '+',\n        109: '-',\n        110: '.',\n        111 : '/',\n        186: ';',\n        187: '=',\n        188: ',',\n        189: '-',\n        190: '.',\n        191: '/',\n        192: '`',\n        219: '[',\n        220: '\\\\',\n        221: ']',\n        222: '\\''\n    };\n\n    /**\n     * this is a mapping of keys that require shift on a US keypad\n     * back to the non shift equivelents\n     *\n     * this is so you can use keyup events with these keys\n     *\n     * note that this will only work reliably on US keyboards\n     *\n     * @type {Object}\n     */\n    var _SHIFT_MAP = {\n        '~': '`',\n        '!': '1',\n        '@': '2',\n        '#': '3',\n        '$': '4',\n        '%': '5',\n        '^': '6',\n        '&': '7',\n        '*': '8',\n        '(': '9',\n        ')': '0',\n        '_': '-',\n        '+': '=',\n        ':': ';',\n        '\\\"': '\\'',\n        '<': ',',\n        '>': '.',\n        '?': '/',\n        '|': '\\\\'\n    };\n\n    /**\n     * this is a list of special strings you can use to map\n     * to modifier keys when you specify your keyboard shortcuts\n     *\n     * @type {Object}\n     */\n    var _SPECIAL_ALIASES = {\n        'option': 'alt',\n        'command': 'meta',\n        'return': 'enter',\n        'escape': 'esc',\n        'plus': '+',\n        'mod': /Mac|iPod|iPhone|iPad/.test(navigator.platform) ? 'meta' : 'ctrl'\n    };\n\n    /**\n     * variable to store the flipped version of _MAP from above\n     * needed to check if we should use keypress or not when no action\n     * is specified\n     *\n     * @type {Object|undefined}\n     */\n    var _REVERSE_MAP;\n\n    /**\n     * loop through the f keys, f1 to f19 and add them to the map\n     * programatically\n     */\n    for (var i = 1; i < 20; ++i) {\n        _MAP[111 + i] = 'f' + i;\n    }\n\n    /**\n     * loop through to map numbers on the numeric keypad\n     */\n    for (i = 0; i <= 9; ++i) {\n\n        // This needs to use a string cause otherwise since 0 is falsey\n        // mousetrap will never fire for numpad 0 pressed as part of a keydown\n        // event.\n        //\n        // @see https://github.com/ccampbell/mousetrap/pull/258\n        _MAP[i + 96] = i.toString();\n    }\n\n    /**\n     * cross browser add event method\n     *\n     * @param {Element|HTMLDocument} object\n     * @param {string} type\n     * @param {Function} callback\n     * @returns void\n     */\n    function _addEvent(object, type, callback) {\n        if (object.addEventListener) {\n            object.addEventListener(type, callback, false);\n            return;\n        }\n\n        object.attachEvent('on' + type, callback);\n    }\n\n    /**\n     * takes the event and returns the key character\n     *\n     * @param {Event} e\n     * @return {string}\n     */\n    function _characterFromEvent(e) {\n\n        // for keypress events we should return the character as is\n        if (e.type == 'keypress') {\n            var character = String.fromCharCode(e.which);\n\n            // if the shift key is not pressed then it is safe to assume\n            // that we want the character to be lowercase.  this means if\n            // you accidentally have caps lock on then your key bindings\n            // will continue to work\n            //\n            // the only side effect that might not be desired is if you\n            // bind something like 'A' cause you want to trigger an\n            // event when capital A is pressed caps lock will no longer\n            // trigger the event.  shift+a will though.\n            if (!e.shiftKey) {\n                character = character.toLowerCase();\n            }\n\n            return character;\n        }\n\n        // for non keypress events the special maps are needed\n        if (_MAP[e.which]) {\n            return _MAP[e.which];\n        }\n\n        if (_KEYCODE_MAP[e.which]) {\n            return _KEYCODE_MAP[e.which];\n        }\n\n        // if it is not in the special map\n\n        // with keydown and keyup events the character seems to always\n        // come in as an uppercase character whether you are pressing shift\n        // or not.  we should make sure it is always lowercase for comparisons\n        return String.fromCharCode(e.which).toLowerCase();\n    }\n\n    /**\n     * checks if two arrays are equal\n     *\n     * @param {Array} modifiers1\n     * @param {Array} modifiers2\n     * @returns {boolean}\n     */\n    function _modifiersMatch(modifiers1, modifiers2) {\n        return modifiers1.sort().join(',') === modifiers2.sort().join(',');\n    }\n\n    /**\n     * takes a key event and figures out what the modifiers are\n     *\n     * @param {Event} e\n     * @returns {Array}\n     */\n    function _eventModifiers(e) {\n        var modifiers = [];\n\n        if (e.shiftKey) {\n            modifiers.push('shift');\n        }\n\n        if (e.altKey) {\n            modifiers.push('alt');\n        }\n\n        if (e.ctrlKey) {\n            modifiers.push('ctrl');\n        }\n\n        if (e.metaKey) {\n            modifiers.push('meta');\n        }\n\n        return modifiers;\n    }\n\n    /**\n     * prevents default for this event\n     *\n     * @param {Event} e\n     * @returns void\n     */\n    function _preventDefault(e) {\n        if (e.preventDefault) {\n            e.preventDefault();\n            return;\n        }\n\n        e.returnValue = false;\n    }\n\n    /**\n     * stops propogation for this event\n     *\n     * @param {Event} e\n     * @returns void\n     */\n    function _stopPropagation(e) {\n        if (e.stopPropagation) {\n            e.stopPropagation();\n            return;\n        }\n\n        e.cancelBubble = true;\n    }\n\n    /**\n     * determines if the keycode specified is a modifier key or not\n     *\n     * @param {string} key\n     * @returns {boolean}\n     */\n    function _isModifier(key) {\n        return key == 'shift' || key == 'ctrl' || key == 'alt' || key == 'meta';\n    }\n\n    /**\n     * reverses the map lookup so that we can look for specific keys\n     * to see what can and can't use keypress\n     *\n     * @return {Object}\n     */\n    function _getReverseMap() {\n        if (!_REVERSE_MAP) {\n            _REVERSE_MAP = {};\n            for (var key in _MAP) {\n\n                // pull out the numeric keypad from here cause keypress should\n                // be able to detect the keys from the character\n                if (key > 95 && key < 112) {\n                    continue;\n                }\n\n                if (_MAP.hasOwnProperty(key)) {\n                    _REVERSE_MAP[_MAP[key]] = key;\n                }\n            }\n        }\n        return _REVERSE_MAP;\n    }\n\n    /**\n     * picks the best action based on the key combination\n     *\n     * @param {string} key - character for key\n     * @param {Array} modifiers\n     * @param {string=} action passed in\n     */\n    function _pickBestAction(key, modifiers, action) {\n\n        // if no action was picked in we should try to pick the one\n        // that we think would work best for this key\n        if (!action) {\n            action = _getReverseMap()[key] ? 'keydown' : 'keypress';\n        }\n\n        // modifier keys don't work as expected with keypress,\n        // switch to keydown\n        if (action == 'keypress' && modifiers.length) {\n            action = 'keydown';\n        }\n\n        return action;\n    }\n\n    /**\n     * Converts from a string key combination to an array\n     *\n     * @param  {string} combination like \"command+shift+l\"\n     * @return {Array}\n     */\n    function _keysFromString(combination) {\n        if (combination === '+') {\n            return ['+'];\n        }\n\n        combination = combination.replace(/\\+{2}/g, '+plus');\n        return combination.split('+');\n    }\n\n    /**\n     * Gets info for a specific key combination\n     *\n     * @param  {string} combination key combination (\"command+s\" or \"a\" or \"*\")\n     * @param  {string=} action\n     * @returns {Object}\n     */\n    function _getKeyInfo(combination, action) {\n        var keys;\n        var key;\n        var i;\n        var modifiers = [];\n\n        // take the keys from this pattern and figure out what the actual\n        // pattern is all about\n        keys = _keysFromString(combination);\n\n        for (i = 0; i < keys.length; ++i) {\n            key = keys[i];\n\n            // normalize key names\n            if (_SPECIAL_ALIASES[key]) {\n                key = _SPECIAL_ALIASES[key];\n            }\n\n            // if this is not a keypress event then we should\n            // be smart about using shift keys\n            // this will only work for US keyboards however\n            if (action && action != 'keypress' && _SHIFT_MAP[key]) {\n                key = _SHIFT_MAP[key];\n                modifiers.push('shift');\n            }\n\n            // if this key is a modifier then add it to the list of modifiers\n            if (_isModifier(key)) {\n                modifiers.push(key);\n            }\n        }\n\n        // depending on what the key combination is\n        // we will try to pick the best event for it\n        action = _pickBestAction(key, modifiers, action);\n\n        return {\n            key: key,\n            modifiers: modifiers,\n            action: action\n        };\n    }\n\n    function _belongsTo(element, ancestor) {\n        if (element === null || element === document) {\n            return false;\n        }\n\n        if (element === ancestor) {\n            return true;\n        }\n\n        return _belongsTo(element.parentNode, ancestor);\n    }\n\n    function Mousetrap(targetElement) {\n        var self = this;\n\n        targetElement = targetElement || document;\n\n        if (!(self instanceof Mousetrap)) {\n            return new Mousetrap(targetElement);\n        }\n\n        /**\n         * element to attach key events to\n         *\n         * @type {Element}\n         */\n        self.target = targetElement;\n\n        /**\n         * a list of all the callbacks setup via Mousetrap.bind()\n         *\n         * @type {Object}\n         */\n        self._callbacks = {};\n\n        /**\n         * direct map of string combinations to callbacks used for trigger()\n         *\n         * @type {Object}\n         */\n        self._directMap = {};\n\n        /**\n         * keeps track of what level each sequence is at since multiple\n         * sequences can start out with the same sequence\n         *\n         * @type {Object}\n         */\n        var _sequenceLevels = {};\n\n        /**\n         * variable to store the setTimeout call\n         *\n         * @type {null|number}\n         */\n        var _resetTimer;\n\n        /**\n         * temporary state where we will ignore the next keyup\n         *\n         * @type {boolean|string}\n         */\n        var _ignoreNextKeyup = false;\n\n        /**\n         * temporary state where we will ignore the next keypress\n         *\n         * @type {boolean}\n         */\n        var _ignoreNextKeypress = false;\n\n        /**\n         * are we currently inside of a sequence?\n         * type of action (\"keyup\" or \"keydown\" or \"keypress\") or false\n         *\n         * @type {boolean|string}\n         */\n        var _nextExpectedAction = false;\n\n        /**\n         * resets all sequence counters except for the ones passed in\n         *\n         * @param {Object} doNotReset\n         * @returns void\n         */\n        function _resetSequences(doNotReset) {\n            doNotReset = doNotReset || {};\n\n            var activeSequences = false,\n                key;\n\n            for (key in _sequenceLevels) {\n                if (doNotReset[key]) {\n                    activeSequences = true;\n                    continue;\n                }\n                _sequenceLevels[key] = 0;\n            }\n\n            if (!activeSequences) {\n                _nextExpectedAction = false;\n            }\n        }\n\n        /**\n         * finds all callbacks that match based on the keycode, modifiers,\n         * and action\n         *\n         * @param {string} character\n         * @param {Array} modifiers\n         * @param {Event|Object} e\n         * @param {string=} sequenceName - name of the sequence we are looking for\n         * @param {string=} combination\n         * @param {number=} level\n         * @returns {Array}\n         */\n        function _getMatches(character, modifiers, e, sequenceName, combination, level) {\n            var i;\n            var callback;\n            var matches = [];\n            var action = e.type;\n\n            // if there are no events related to this keycode\n            if (!self._callbacks[character]) {\n                return [];\n            }\n\n            // if a modifier key is coming up on its own we should allow it\n            if (action == 'keyup' && _isModifier(character)) {\n                modifiers = [character];\n            }\n\n            // loop through all callbacks for the key that was pressed\n            // and see if any of them match\n            for (i = 0; i < self._callbacks[character].length; ++i) {\n                callback = self._callbacks[character][i];\n\n                // if a sequence name is not specified, but this is a sequence at\n                // the wrong level then move onto the next match\n                if (!sequenceName && callback.seq && _sequenceLevels[callback.seq] != callback.level) {\n                    continue;\n                }\n\n                // if the action we are looking for doesn't match the action we got\n                // then we should keep going\n                if (action != callback.action) {\n                    continue;\n                }\n\n                // if this is a keypress event and the meta key and control key\n                // are not pressed that means that we need to only look at the\n                // character, otherwise check the modifiers as well\n                //\n                // chrome will not fire a keypress if meta or control is down\n                // safari will fire a keypress if meta or meta+shift is down\n                // firefox will fire a keypress if meta or control is down\n                if ((action == 'keypress' && !e.metaKey && !e.ctrlKey) || _modifiersMatch(modifiers, callback.modifiers)) {\n\n                    // when you bind a combination or sequence a second time it\n                    // should overwrite the first one.  if a sequenceName or\n                    // combination is specified in this call it does just that\n                    //\n                    // @todo make deleting its own method?\n                    var deleteCombo = !sequenceName && callback.combo == combination;\n                    var deleteSequence = sequenceName && callback.seq == sequenceName && callback.level == level;\n                    if (deleteCombo || deleteSequence) {\n                        self._callbacks[character].splice(i, 1);\n                    }\n\n                    matches.push(callback);\n                }\n            }\n\n            return matches;\n        }\n\n        /**\n         * actually calls the callback function\n         *\n         * if your callback function returns false this will use the jquery\n         * convention - prevent default and stop propogation on the event\n         *\n         * @param {Function} callback\n         * @param {Event} e\n         * @returns void\n         */\n        function _fireCallback(callback, e, combo, sequence) {\n\n            // if this event should not happen stop here\n            if (self.stopCallback(e, e.target || e.srcElement, combo, sequence)) {\n                return;\n            }\n\n            if (callback(e, combo) === false) {\n                _preventDefault(e);\n                _stopPropagation(e);\n            }\n        }\n\n        /**\n         * handles a character key event\n         *\n         * @param {string} character\n         * @param {Array} modifiers\n         * @param {Event} e\n         * @returns void\n         */\n        self._handleKey = function(character, modifiers, e) {\n            var callbacks = _getMatches(character, modifiers, e);\n            var i;\n            var doNotReset = {};\n            var maxLevel = 0;\n            var processedSequenceCallback = false;\n\n            // Calculate the maxLevel for sequences so we can only execute the longest callback sequence\n            for (i = 0; i < callbacks.length; ++i) {\n                if (callbacks[i].seq) {\n                    maxLevel = Math.max(maxLevel, callbacks[i].level);\n                }\n            }\n\n            // loop through matching callbacks for this key event\n            for (i = 0; i < callbacks.length; ++i) {\n\n                // fire for all sequence callbacks\n                // this is because if for example you have multiple sequences\n                // bound such as \"g i\" and \"g t\" they both need to fire the\n                // callback for matching g cause otherwise you can only ever\n                // match the first one\n                if (callbacks[i].seq) {\n\n                    // only fire callbacks for the maxLevel to prevent\n                    // subsequences from also firing\n                    //\n                    // for example 'a option b' should not cause 'option b' to fire\n                    // even though 'option b' is part of the other sequence\n                    //\n                    // any sequences that do not match here will be discarded\n                    // below by the _resetSequences call\n                    if (callbacks[i].level != maxLevel) {\n                        continue;\n                    }\n\n                    processedSequenceCallback = true;\n\n                    // keep a list of which sequences were matches for later\n                    doNotReset[callbacks[i].seq] = 1;\n                    _fireCallback(callbacks[i].callback, e, callbacks[i].combo, callbacks[i].seq);\n                    continue;\n                }\n\n                // if there were no sequence matches but we are still here\n                // that means this is a regular match so we should fire that\n                if (!processedSequenceCallback) {\n                    _fireCallback(callbacks[i].callback, e, callbacks[i].combo);\n                }\n            }\n\n            // if the key you pressed matches the type of sequence without\n            // being a modifier (ie \"keyup\" or \"keypress\") then we should\n            // reset all sequences that were not matched by this event\n            //\n            // this is so, for example, if you have the sequence \"h a t\" and you\n            // type \"h e a r t\" it does not match.  in this case the \"e\" will\n            // cause the sequence to reset\n            //\n            // modifier keys are ignored because you can have a sequence\n            // that contains modifiers such as \"enter ctrl+space\" and in most\n            // cases the modifier key will be pressed before the next key\n            //\n            // also if you have a sequence such as \"ctrl+b a\" then pressing the\n            // \"b\" key will trigger a \"keypress\" and a \"keydown\"\n            //\n            // the \"keydown\" is expected when there is a modifier, but the\n            // \"keypress\" ends up matching the _nextExpectedAction since it occurs\n            // after and that causes the sequence to reset\n            //\n            // we ignore keypresses in a sequence that directly follow a keydown\n            // for the same character\n            var ignoreThisKeypress = e.type == 'keypress' && _ignoreNextKeypress;\n            if (e.type == _nextExpectedAction && !_isModifier(character) && !ignoreThisKeypress) {\n                _resetSequences(doNotReset);\n            }\n\n            _ignoreNextKeypress = processedSequenceCallback && e.type == 'keydown';\n        };\n\n        /**\n         * handles a keydown event\n         *\n         * @param {Event} e\n         * @returns void\n         */\n        function _handleKeyEvent(e) {\n\n            // normalize e.which for key events\n            // @see http://stackoverflow.com/questions/4285627/javascript-keycode-vs-charcode-utter-confusion\n            if (typeof e.which !== 'number') {\n                e.which = e.keyCode;\n            }\n\n            var character = _characterFromEvent(e);\n\n            // no character found then stop\n            if (!character) {\n                return;\n            }\n\n            // need to use === for the character check because the character can be 0\n            if (e.type == 'keyup' && _ignoreNextKeyup === character) {\n                _ignoreNextKeyup = false;\n                return;\n            }\n\n            self.handleKey(character, _eventModifiers(e), e);\n        }\n\n        /**\n         * called to set a 1 second timeout on the specified sequence\n         *\n         * this is so after each key press in the sequence you have 1 second\n         * to press the next key before you have to start over\n         *\n         * @returns void\n         */\n        function _resetSequenceTimer() {\n            clearTimeout(_resetTimer);\n            _resetTimer = setTimeout(_resetSequences, 1000);\n        }\n\n        /**\n         * binds a key sequence to an event\n         *\n         * @param {string} combo - combo specified in bind call\n         * @param {Array} keys\n         * @param {Function} callback\n         * @param {string=} action\n         * @returns void\n         */\n        function _bindSequence(combo, keys, callback, action) {\n\n            // start off by adding a sequence level record for this combination\n            // and setting the level to 0\n            _sequenceLevels[combo] = 0;\n\n            /**\n             * callback to increase the sequence level for this sequence and reset\n             * all other sequences that were active\n             *\n             * @param {string} nextAction\n             * @returns {Function}\n             */\n            function _increaseSequence(nextAction) {\n                return function() {\n                    _nextExpectedAction = nextAction;\n                    ++_sequenceLevels[combo];\n                    _resetSequenceTimer();\n                };\n            }\n\n            /**\n             * wraps the specified callback inside of another function in order\n             * to reset all sequence counters as soon as this sequence is done\n             *\n             * @param {Event} e\n             * @returns void\n             */\n            function _callbackAndReset(e) {\n                _fireCallback(callback, e, combo);\n\n                // we should ignore the next key up if the action is key down\n                // or keypress.  this is so if you finish a sequence and\n                // release the key the final key will not trigger a keyup\n                if (action !== 'keyup') {\n                    _ignoreNextKeyup = _characterFromEvent(e);\n                }\n\n                // weird race condition if a sequence ends with the key\n                // another sequence begins with\n                setTimeout(_resetSequences, 10);\n            }\n\n            // loop through keys one at a time and bind the appropriate callback\n            // function.  for any key leading up to the final one it should\n            // increase the sequence. after the final, it should reset all sequences\n            //\n            // if an action is specified in the original bind call then that will\n            // be used throughout.  otherwise we will pass the action that the\n            // next key in the sequence should match.  this allows a sequence\n            // to mix and match keypress and keydown events depending on which\n            // ones are better suited to the key provided\n            for (var i = 0; i < keys.length; ++i) {\n                var isFinal = i + 1 === keys.length;\n                var wrappedCallback = isFinal ? _callbackAndReset : _increaseSequence(action || _getKeyInfo(keys[i + 1]).action);\n                _bindSingle(keys[i], wrappedCallback, action, combo, i);\n            }\n        }\n\n        /**\n         * binds a single keyboard combination\n         *\n         * @param {string} combination\n         * @param {Function} callback\n         * @param {string=} action\n         * @param {string=} sequenceName - name of sequence if part of sequence\n         * @param {number=} level - what part of the sequence the command is\n         * @returns void\n         */\n        function _bindSingle(combination, callback, action, sequenceName, level) {\n\n            // store a direct mapped reference for use with Mousetrap.trigger\n            self._directMap[combination + ':' + action] = callback;\n\n            // make sure multiple spaces in a row become a single space\n            combination = combination.replace(/\\s+/g, ' ');\n\n            var sequence = combination.split(' ');\n            var info;\n\n            // if this pattern is a sequence of keys then run through this method\n            // to reprocess each pattern one key at a time\n            if (sequence.length > 1) {\n                _bindSequence(combination, sequence, callback, action);\n                return;\n            }\n\n            info = _getKeyInfo(combination, action);\n\n            // make sure to initialize array if this is the first time\n            // a callback is added for this key\n            self._callbacks[info.key] = self._callbacks[info.key] || [];\n\n            // remove an existing match if there is one\n            _getMatches(info.key, info.modifiers, {type: info.action}, sequenceName, combination, level);\n\n            // add this call back to the array\n            // if it is a sequence put it at the beginning\n            // if not put it at the end\n            //\n            // this is important because the way these are processed expects\n            // the sequence ones to come first\n            self._callbacks[info.key][sequenceName ? 'unshift' : 'push']({\n                callback: callback,\n                modifiers: info.modifiers,\n                action: info.action,\n                seq: sequenceName,\n                level: level,\n                combo: combination\n            });\n        }\n\n        /**\n         * binds multiple combinations to the same callback\n         *\n         * @param {Array} combinations\n         * @param {Function} callback\n         * @param {string|undefined} action\n         * @returns void\n         */\n        self._bindMultiple = function(combinations, callback, action) {\n            for (var i = 0; i < combinations.length; ++i) {\n                _bindSingle(combinations[i], callback, action);\n            }\n        };\n\n        // start!\n        _addEvent(targetElement, 'keypress', _handleKeyEvent);\n        _addEvent(targetElement, 'keydown', _handleKeyEvent);\n        _addEvent(targetElement, 'keyup', _handleKeyEvent);\n    }\n\n    /**\n     * binds an event to mousetrap\n     *\n     * can be a single key, a combination of keys separated with +,\n     * an array of keys, or a sequence of keys separated by spaces\n     *\n     * be sure to list the modifier keys first to make sure that the\n     * correct key ends up getting bound (the last key in the pattern)\n     *\n     * @param {string|Array} keys\n     * @param {Function} callback\n     * @param {string=} action - 'keypress', 'keydown', or 'keyup'\n     * @returns void\n     */\n    Mousetrap.prototype.bind = function(keys, callback, action) {\n        var self = this;\n        keys = keys instanceof Array ? keys : [keys];\n        self._bindMultiple.call(self, keys, callback, action);\n        return self;\n    };\n\n    /**\n     * unbinds an event to mousetrap\n     *\n     * the unbinding sets the callback function of the specified key combo\n     * to an empty function and deletes the corresponding key in the\n     * _directMap dict.\n     *\n     * TODO: actually remove this from the _callbacks dictionary instead\n     * of binding an empty function\n     *\n     * the keycombo+action has to be exactly the same as\n     * it was defined in the bind method\n     *\n     * @param {string|Array} keys\n     * @param {string} action\n     * @returns void\n     */\n    Mousetrap.prototype.unbind = function(keys, action) {\n        var self = this;\n        return self.bind.call(self, keys, function() {}, action);\n    };\n\n    /**\n     * triggers an event that has already been bound\n     *\n     * @param {string} keys\n     * @param {string=} action\n     * @returns void\n     */\n    Mousetrap.prototype.trigger = function(keys, action) {\n        var self = this;\n        if (self._directMap[keys + ':' + action]) {\n            self._directMap[keys + ':' + action]({}, keys);\n        }\n        return self;\n    };\n\n    /**\n     * resets the library back to its initial state.  this is useful\n     * if you want to clear out the current keyboard shortcuts and bind\n     * new ones - for example if you switch to another page\n     *\n     * @returns void\n     */\n    Mousetrap.prototype.reset = function() {\n        var self = this;\n        self._callbacks = {};\n        self._directMap = {};\n        return self;\n    };\n\n    /**\n     * should we stop this event before firing off callbacks\n     *\n     * @param {Event} e\n     * @param {Element} element\n     * @return {boolean}\n     */\n    Mousetrap.prototype.stopCallback = function(e, element) {\n        var self = this;\n\n        // if the element has the class \"mousetrap\" then no need to stop\n        if ((' ' + element.className + ' ').indexOf(' mousetrap ') > -1) {\n            return false;\n        }\n\n        if (_belongsTo(element, self.target)) {\n            return false;\n        }\n\n        // Events originating from a shadow DOM are re-targetted and `e.target` is the shadow host,\n        // not the initial event target in the shadow tree. Note that not all events cross the\n        // shadow boundary.\n        // For shadow trees with `mode: 'open'`, the initial event target is the first element in\n        // the events composed path. For shadow trees with `mode: 'closed'`, the initial event\n        // target cannot be obtained.\n        if ('composedPath' in e && typeof e.composedPath === 'function') {\n            // For open shadow trees, update `element` so that the following check works.\n            var initialEventTarget = e.composedPath()[0];\n            if (initialEventTarget !== e.target) {\n                element = initialEventTarget;\n            }\n        }\n\n        // stop for input, select, and textarea\n        return element.tagName == 'INPUT' || element.tagName == 'SELECT' || element.tagName == 'TEXTAREA' || element.isContentEditable;\n    };\n\n    /**\n     * exposes _handleKey publicly so it can be overwritten by extensions\n     */\n    Mousetrap.prototype.handleKey = function() {\n        var self = this;\n        return self._handleKey.apply(self, arguments);\n    };\n\n    /**\n     * allow custom key mappings\n     */\n    Mousetrap.addKeycodes = function(object) {\n        for (var key in object) {\n            if (object.hasOwnProperty(key)) {\n                _MAP[key] = object[key];\n            }\n        }\n        _REVERSE_MAP = null;\n    };\n\n    /**\n     * Init the global mousetrap functions\n     *\n     * This method is needed to allow the global mousetrap functions to work\n     * now that mousetrap is a constructor function.\n     */\n    Mousetrap.init = function() {\n        var documentMousetrap = Mousetrap(document);\n        for (var method in documentMousetrap) {\n            if (method.charAt(0) !== '_') {\n                Mousetrap[method] = (function(method) {\n                    return function() {\n                        return documentMousetrap[method].apply(documentMousetrap, arguments);\n                    };\n                } (method));\n            }\n        }\n    };\n\n    Mousetrap.init();\n\n    // expose mousetrap to the global object\n    window.Mousetrap = Mousetrap;\n\n    // expose as a common js module\n    if (typeof module !== 'undefined' && module.exports) {\n        module.exports = Mousetrap;\n    }\n\n    // expose mousetrap as an AMD module\n    if (typeof define === 'function' && define.amd) {\n        define(function() {\n            return Mousetrap;\n        });\n    }\n}) (typeof window !== 'undefined' ? window : null, typeof  window !== 'undefined' ? document : null);\n","'use strict';\n\nconst arrayUniq = array => [...new Set(array)];\n\nmodule.exports = arrayUniq;\n","'use strict';\n\nvar matchOperatorsRe = /[|\\\\{}()[\\]^$+*?.]/g;\n\nmodule.exports = function (str) {\n\tif (typeof str !== 'string') {\n\t\tthrow new TypeError('Expected a string');\n\t}\n\n\treturn str.replace(matchOperatorsRe, '\\\\$&');\n};\n","\n        var result = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../../node_modules/sass-loader/dist/cjs.js??ref--5-2!./style.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","\n        var result = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../node_modules/sass-loader/dist/cjs.js??ref--5-2!./developer-mode.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","\n        var result = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../node_modules/sass-loader/dist/cjs.js??ref--5-2!./doge.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","\n        var result = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../node_modules/sass-loader/dist/cjs.js??ref--5-2!./down-for-maintenance.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","\n        var result = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../node_modules/sass-loader/dist/cjs.js??ref--5-2!./editing-tools.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","\n        var result = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../node_modules/sass-loader/dist/cjs.js??ref--5-2!./hide-footer.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","\n        var result = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../node_modules/sass-loader/dist/cjs.js??ref--5-2!./highlight-own-posts.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","\n        var result = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../node_modules/sass-loader/dist/cjs.js??ref--5-2!./improved-corrections.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","\n        var result = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../node_modules/sass-loader/dist/cjs.js??ref--5-2!./improved-image-controls.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","\n        var result = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../node_modules/sass-loader/dist/cjs.js??ref--5-2!./improved-pagination-buttons.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","\n        var result = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../node_modules/sass-loader/dist/cjs.js??ref--5-2!./lock-heights.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","\n        var result = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../node_modules/sass-loader/dist/cjs.js??ref--5-2!./main.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","\n        var result = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../node_modules/sass-loader/dist/cjs.js??ref--5-2!./mention-everyone.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","\n        var result = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../node_modules/sass-loader/dist/cjs.js??ref--5-2!./preferences-link.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","\n        var result = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../node_modules/sass-loader/dist/cjs.js??ref--5-2!./preferences-shortcut.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","\n        var result = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../node_modules/sass-loader/dist/cjs.js??ref--5-2!./preferences.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","\n        var result = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../node_modules/sass-loader/dist/cjs.js??ref--5-2!./replace-followed-threads-link.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","\n        var result = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../node_modules/sass-loader/dist/cjs.js??ref--5-2!./textarea-size-toggle.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","\n        var result = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../node_modules/sass-loader/dist/cjs.js??ref--5-2!./uninteresting-subforums.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".proofread{white-space:pre}.mistake,.mistake .any{background-color:#f04600;background-clip:padding-box;border:4px solid rgba(240,70,0,.1);border-radius:2px;cursor:help;margin:-4px;position:relative;transition:border-color 250ms 100ms}.mistake:hover,.mistake .any:hover{border-color:rgba(240,70,0,.6);transition-delay:0ms}.verified,.verified .any{background-color:#55dc00}.any{background-color:#5582fa}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"proofread\": \"proofread\",\n\t\"mistake\": \"mistake\",\n\t\"any\": \"any\",\n\t\"verified\": \"verified\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"#better-sweclockers-developer-tools{background:#000;bottom:0;box-sizing:border-box;display:flex;flex-direction:column;max-height:50vh;outline:1px solid #444;position:fixed;z-index:9999}#better-sweclockers-developer-tools[data-how-many=\\\"0\\\"]:not(:hover):not(.open){opacity:.25}#better-sweclockers-developer-tools .better-sweclockers-error{color:#d00}#better-sweclockers-developer-tools .better-sweclockers-warning{color:#ec0}#better-sweclockers-developer-tools>a{display:block;padding:1em}#better-sweclockers-developer-tools>a:hover{background-color:rgba(255,255,255,.1);text-decoration:none}#better-sweclockers-developer-tools>a strong{display:inline-block;width:4em}#better-sweclockers-developer-tools>a strong[data-how-many=\\\"0\\\"]{opacity:.25}#better-sweclockers-developer-tools>a strong:not(:last-of-type){margin-right:1em}#better-sweclockers-developer-tools ol{background-color:rgba(255,255,255,.1);border:1px solid #444;color:#bbb;display:none;font-family:monospace;margin:0 1em 1em 1em;overflow-y:scroll;white-space:pre-wrap}#better-sweclockers-developer-tools ol li{border-color:#444;border-top-style:solid;border-width:1px;padding:.5em}#better-sweclockers-developer-tools ol li:first-of-type{border-top-style:none}#better-sweclockers-developer-tools ol li.error{background-color:rgba(221,0,0,.08);border-color:rgba(221,0,0,.3)}#better-sweclockers-developer-tools ol li.warning{background-color:rgba(238,204,0,.08);border-color:rgba(238,204,0,.3)}#better-sweclockers-developer-tools.open{opacity:1;width:100vw}#better-sweclockers-developer-tools.open ol{display:block}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"better-sweclockers-developer-tools\": \"better-sweclockers-developer-tools\",\n\t\"open\": \"open\",\n\t\"better-sweclockers-error\": \"better-sweclockers-error\",\n\t\"better-sweclockers-warning\": \"better-sweclockers-warning\",\n\t\"error\": \"error\",\n\t\"warning\": \"warning\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"#better-sweclockers-document .better-sweclockers-shibe,#better-sweclockers-document .better-sweclockers-shibe *{color:red;font-family:Comic Sans MS, Chalkboard SE, sans-serif;font-style:italic;white-space:pre}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"better-sweclockers-document\": \"better-sweclockers-document\",\n\t\"better-sweclockers-shibe\": \"better-sweclockers-shibe\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"body{padding:8px}body *{display:none !important}body::after{content:\\\"Nere fr underhll\\\";font:16px \\\"Courier New\\\",monospace}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"#better-sweclockers-document #better-sweclockers-editing-tools{margin:1px;line-height:0}#better-sweclockers-document #better-sweclockers-editing-tools>*{vertical-align:top;margin-top:0;margin-bottom:6px;margin-left:0}#better-sweclockers-document .better-sweclockers-editing-tools big{font-size:1.25em}#better-sweclockers-document .better-sweclockers-editing-tools small{font-size:.75em}#better-sweclockers-document .better-sweclockers-editing-tools .button{height:23px;box-sizing:border-box;margin:0 1px 0 0}#better-sweclockers-document .better-sweclockers-editing-tools .button *{line-height:0}#better-sweclockers-document .better-sweclockers-editing-tools .button:last-of-type{margin-right:0}#better-sweclockers-document .better-sweclockers-editing-tools fieldset{display:block;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}#better-sweclockers-document .better-sweclockers-editing-tools .better-sweclockers-color-palette{opacity:.5;transition:opacity 100ms linear}#better-sweclockers-document .better-sweclockers-editing-tools .better-sweclockers-color-palette>*{border:none;margin:0 !important;width:20px;height:20px}#better-sweclockers-document .better-sweclockers-editing-tools .better-sweclockers-color-palette>*:hover{width:24px;height:24px;margin:-2px !important;border-radius:3px;z-index:9}#better-sweclockers-document .better-sweclockers-editing-tools .better-sweclockers-color-palette:hover,#better-sweclockers-document .better-sweclockers-editing-tools .better-sweclockers-color-palette:active{opacity:1}#better-sweclockers-document .better-sweclockers-editing-tools .better-sweclockers-smileys>*{opacity:.5;padding:0 1px;transition:opacity 50ms linear}#better-sweclockers-document .better-sweclockers-editing-tools .better-sweclockers-smileys>*:hover,#better-sweclockers-document .better-sweclockers-editing-tools .better-sweclockers-smileys>*:active{opacity:1}#better-sweclockers-document .better-sweclockers-editing-tools .better-sweclockers-button-color{background:linear-gradient(to bottom, rgba(255, 255, 255, 0.1) 0%, rgba(0, 0, 0, 0.1) 100%),linear-gradient(to right, rgba(255, 0, 0, 0.7) 0%, rgba(255, 153, 50, 0.7) 16%, rgba(247, 227, 49, 0.7) 33%, rgba(62, 211, 42, 0.7) 49%, rgba(46, 117, 232, 0.7) 66%, rgba(90, 45, 226, 0.7) 83%, rgba(152, 25, 198, 0.7) 100%)}#better-sweclockers-document .better-sweclockers-editing-tools .better-sweclockers-button-color:hover,#better-sweclockers-document .better-sweclockers-editing-tools .better-sweclockers-button-color:focus{background:linear-gradient(to bottom, rgba(255, 255, 255, 0.2) 0%, rgba(100, 100, 100, 0.2) 100%),linear-gradient(to right, rgba(255, 0, 0, 0.7) 0%, rgba(255, 153, 50, 0.7) 16%, rgba(247, 227, 49, 0.7) 33%, rgba(62, 211, 42, 0.7) 49%, rgba(46, 117, 232, 0.7) 66%, rgba(90, 45, 226, 0.7) 83%, rgba(152, 25, 198, 0.7) 100%) !important}#better-sweclockers-document .better-sweclockers-editing-tools .better-sweclockers-button-color:active{background:linear-gradient(to top, rgba(255, 255, 255, 0.1) 0%, rgba(0, 0, 0, 0.1) 100%),linear-gradient(to right, rgba(255, 0, 0, 0.7) 0%, rgba(255, 153, 50, 0.7) 16%, rgba(247, 227, 49, 0.7) 33%, rgba(62, 211, 42, 0.7) 49%, rgba(46, 117, 232, 0.7) 66%, rgba(90, 45, 226, 0.7) 83%, rgba(152, 25, 198, 0.7) 100%) !important}#better-sweclockers-document .better-sweclockers-editing-tools .better-sweclockers-button-blockquote div{font-family:\\\"Georgia\\\",serif;font-size:30px;line-height:24px}#better-sweclockers-document .better-sweclockers-editing-tools .better-sweclockers-button-spoiler{background:linear-gradient(to bottom, rgba(255, 255, 255, 0.1) 0%, rgba(0, 0, 0, 0.1) 100%),#222;color:#eee;border-color:#000}#better-sweclockers-document .better-sweclockers-editing-tools .better-sweclockers-button-spoiler:hover,#better-sweclockers-document .better-sweclockers-editing-tools .better-sweclockers-button-spoiler:focus{background:linear-gradient(to bottom, rgba(255, 255, 255, 0.2) 0%, rgba(100, 100, 100, 0.2) 100%),#222 !important}#better-sweclockers-document .better-sweclockers-editing-tools .better-sweclockers-button-spoiler:active{box-shadow:inset 1px 1px 1px rgba(0,0,0,.25);background:linear-gradient(to top, rgba(255, 255, 255, 0.1) 0%, rgba(0, 0, 0, 0.1) 100%),#222 !important}#better-sweclockers-document .better-sweclockers-editing-tools .better-sweclockers-button-code{font-family:\\\"Courier New\\\",monospace;font-weight:normal;font-size:11px}#better-sweclockers-document .better-sweclockers-editing-tools .better-sweclockers-button-math{font-family:\\\"Times New Roman\\\",serif}#better-sweclockers-document .better-sweclockers-editing-tools .better-sweclockers-button-math span{opacity:.5}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"better-sweclockers-document\": \"better-sweclockers-document\",\n\t\"better-sweclockers-editing-tools\": \"better-sweclockers-editing-tools\",\n\t\"button\": \"button\",\n\t\"better-sweclockers-color-palette\": \"better-sweclockers-color-palette\",\n\t\"better-sweclockers-smileys\": \"better-sweclockers-smileys\",\n\t\"better-sweclockers-button-color\": \"better-sweclockers-button-color\",\n\t\"better-sweclockers-button-blockquote\": \"better-sweclockers-button-blockquote\",\n\t\"better-sweclockers-button-spoiler\": \"better-sweclockers-button-spoiler\",\n\t\"better-sweclockers-button-code\": \"better-sweclockers-button-code\",\n\t\"better-sweclockers-button-math\": \"better-sweclockers-button-math\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"#better-sweclockers-document .stickyFooter>.top>.inner{padding-bottom:0}#better-sweclockers-document .stickyFooter>.bottom{display:none}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"better-sweclockers-document\": \"better-sweclockers-document\",\n\t\"stickyFooter\": \"stickyFooter\",\n\t\"top\": \"top\",\n\t\"inner\": \"inner\",\n\t\"bottom\": \"bottom\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".forum-post.isReader .forum-post-header,.forum-post.isReader .forum-post-body{border-left-width:4px}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"forum-post\": \"forum-post\",\n\t\"isReader\": \"isReader\",\n\t\"forum-post-header\": \"forum-post-header\",\n\t\"forum-post-body\": \"forum-post-body\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"#better-sweclockers-document .proofDialog{position:fixed;height:100vh;width:100%;display:flex;align-items:center;top:0;left:0;pointer-events:none}#better-sweclockers-document .proofDialog .wndModalOverlay{display:none}#better-sweclockers-document .proofDialog .wndWindowArea{border:none;top:initial !important;opacity:.5;transition:opacity 200ms ease-in-out;pointer-events:initial;left:706px !important}@media screen and (min-width: 1012px)and (max-width: 1100px){#better-sweclockers-document .proofDialog .wndWindowArea{left:calc(50% + 206px) !important}}@media screen and (min-width: 1262px){#better-sweclockers-document .proofDialog .wndWindowArea{left:calc(50% + 81px) !important}}#better-sweclockers-document .proofDialog .wndWindowArea:hover,#better-sweclockers-document .proofDialog .wndWindowArea:focus-within{opacity:1}#better-sweclockers-document .proofDialog .wndWindowArea>.inner{box-shadow:0 0 20px #000;padding:0}#better-sweclockers-document .proofDialog .wndFrameDecorator{border-width:1px}#better-sweclockers-document .proofDialog .infoText{display:none}#better-sweclockers-document .proofDialog .tanukiTextarea textarea{height:240px}#better-sweclockers-document #proofArticle{background-color:#da6b0f;border-bottom-left-radius:6px;border-bottom-right-radius:6px;bottom:0;left:-1px;opacity:.3;padding:4px 8px;position:fixed;transform:rotate(-90deg);transform-origin:top left;z-index:100}#better-sweclockers-document #proofArticle:hover,#better-sweclockers-document #proofArticle:focus{opacity:1}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"better-sweclockers-document\": \"better-sweclockers-document\",\n\t\"proofDialog\": \"proofDialog\",\n\t\"wndModalOverlay\": \"wndModalOverlay\",\n\t\"wndWindowArea\": \"wndWindowArea\",\n\t\"inner\": \"inner\",\n\t\"wndFrameDecorator\": \"wndFrameDecorator\",\n\t\"infoText\": \"infoText\",\n\t\"tanukiTextarea\": \"tanukiTextarea\",\n\t\"proofArticle\": \"proofArticle\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".bbImage .imgControls{opacity:0;transition:opacity 250ms}.bbImage:hover .imgControls,.bbImage:focus .imgControls{opacity:1}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"bbImage\": \"bbImage\",\n\t\"imgControls\": \"imgControls\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".list-actions{margin-bottom:6px}.pages>a,.pages>span{align-items:center;box-sizing:border-box;display:flex;height:32px;justify-content:center;margin-right:0;width:32px}.pages>a>span,.pages>span>span{padding:0;height:1.2em}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"list-actions\": \"list-actions\",\n\t\"pages\": \"pages\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".ad.adInsider{height:370px;overflow:hidden}.adModule{height:341px;overflow:hidden}.ad.adForum{height:320px;overflow:hidden}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"ad\": \"ad\",\n\t\"adInsider\": \"adInsider\",\n\t\"adModule\": \"adModule\",\n\t\"adForum\": \"adForum\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".better-sweclockers-icon-button{box-sizing:border-box;height:23px;padding:4px 6px}.better-sweclockers-icon-button img,.better-sweclockers-icon-button svg,.better-sweclockers-icon-button div{display:inline-block;height:16px;position:relative;top:-1px;vertical-align:top;width:16px}.better-sweclockers-pm-button{margin-left:8px;margin-bottom:0}.better-sweclockers-checkbox input{margin-right:4px;position:relative;top:-1px;vertical-align:middle}textarea.better-sweclockers-code-input,.better-sweclockers-code-input textarea{font-family:monospace}.forum-post .controls .better-sweclockers-quote-signature-button{float:right;margin-right:10px}.forum-post .controls .better-sweclockers-quote-signature-button>button{margin-right:0}.forum-post .controls .better-sweclockers-quote-signature-button>button[disabled]{pointer-events:unset}.mistake{border-color:rgba(240,70,0,.6)}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"better-sweclockers-icon-button\": \"better-sweclockers-icon-button\",\n\t\"better-sweclockers-pm-button\": \"better-sweclockers-pm-button\",\n\t\"better-sweclockers-checkbox\": \"better-sweclockers-checkbox\",\n\t\"better-sweclockers-code-input\": \"better-sweclockers-code-input\",\n\t\"forum-post\": \"forum-post\",\n\t\"controls\": \"controls\",\n\t\"better-sweclockers-quote-signature-button\": \"better-sweclockers-quote-signature-button\",\n\t\"mistake\": \"mistake\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".better-sweclockers-mention-everyone-button{display:inline;margin-right:8px}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"better-sweclockers-mention-everyone-button\": \"better-sweclockers-mention-everyone-button\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".menu-items{padding-bottom:21px}.menu-items .menu-item[title=\\\"Better SweClockers\\\"]{margin-bottom:-21px}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"menu-items\": \"menu-items\",\n\t\"menu-item\": \"menu-item\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"@media(max-width: 576.9px){.profile-nav__notifications{margin-left:-34px;z-index:10}}@media(min-width: 577px){.profile-nav__notifications{width:120px;justify-content:flex-end}}@media(min-width: 993px){.profile-nav__notifications{width:346px}}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"profile-nav__notifications\": \"profile-nav__notifications\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"body>*{display:none}form#better-sweclockers{width:640px;margin:32px auto;display:block}form#better-sweclockers img{max-width:100%}form#better-sweclockers aside,form#better-sweclockers #better-sweclockers-editing-tools{transition-property:opacity;transition-duration:250ms}form#better-sweclockers .better-sweclockers-preference{clear:left}form#better-sweclockers .better-sweclockers-preference>label::after{content:\\\":\\\"}form#better-sweclockers .better-sweclockers-preference>label.better-sweclockers-labeledInput::after{content:unset}form#better-sweclockers .better-sweclockers-preference input+label::after,form#better-sweclockers .better-sweclockers-preference select+label::after,form#better-sweclockers .better-sweclockers-preference textarea+label::after{content:unset}form#better-sweclockers .s5fieldset{padding:8px 16px;margin:16px 0 24px 0;border:1px solid gray;border-radius:4px}form#better-sweclockers .s5fieldset>legend{font-size:unset;margin-bottom:unset;padding:0 4px;width:unset}form#better-sweclockers .better-sweclockers-radioButtonPreference{display:inline-block;margin-bottom:unset;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}form#better-sweclockers .better-sweclockers-radioButtonPreference>label:first-child::after{content:\\\":\\\"}form#better-sweclockers .better-sweclockers-radioButtonPreference input[type=radio]{margin-left:16px}form#better-sweclockers textarea{box-sizing:border-box;display:block;height:6em;resize:vertical;width:100%}form#better-sweclockers .better-sweclockers-inline-preference{float:left}form#better-sweclockers .better-sweclockers-inline-preference:not(.better-sweclockers-primary-inline-preference){clear:unset}form#better-sweclockers .better-sweclockers-inline-preference>label::after{content:unset}form#better-sweclockers .better-sweclockers-inline-preference input[type=text],form#better-sweclockers .better-sweclockers-inline-preference input[type=number],form#better-sweclockers .better-sweclockers-inline-preference input[type=time]{margin:0}form#better-sweclockers .better-sweclockers-inline-preference:not(.better-sweclockers-primary-inline-preference) label::after,form#better-sweclockers .better-sweclockers-inline-preference:not(.better-sweclockers-primary-inline-preference) label:first-child::before{content:\\\"\\\"}form#better-sweclockers .better-sweclockers-inline-preference:not(.better-sweclockers-primary-inline-preference) input[type=checkbox]{margin-left:.75em}form#better-sweclockers input{vertical-align:middle}form#better-sweclockers label{display:inline-block;padding:6px 0;margin:0}form#better-sweclockers label kbd{font-family:monospace;background-color:rgba(160,160,160,.05);border:1px solid rgba(160,160,160,.15);border-radius:3px;padding:1px 2px}form#better-sweclockers input[type=checkbox],form#better-sweclockers input[type=radio]{margin:0;margin-right:.5em}form#better-sweclockers input[type=text],form#better-sweclockers input[type=number],form#better-sweclockers input[type=time]{margin:.33em 0;width:5em}form#better-sweclockers input[type=text]+label::before,form#better-sweclockers input[type=number]+label::before,form#better-sweclockers input[type=time]+label::before{content:\\\"\\\"}form#better-sweclockers aside{display:inline-block;margin-left:12px;opacity:0;pointer-events:none}form#better-sweclockers .better-sweclockers-preference:hover>aside{opacity:1;transition-duration:500ms}form#better-sweclockers #better-sweclockers-editing-tools{height:200px}form#better-sweclockers .better-sweclockers-code-input::after{color:#d00;content:\\\"Klistra aldrig in kod som du inte litar p!\\\";display:block;font-weight:bold;margin-top:.4em;opacity:0;transition:opacity 200ms 100ms}form#better-sweclockers .better-sweclockers-code-input:hover::after,form#better-sweclockers .better-sweclockers-code-input:focus-within::after{opacity:1}form#better-sweclockers #better-sweclockers-interests-preferences{columns:2}form#better-sweclockers #better-sweclockers-interests-preferences .better-sweclockers-subforum{padding-left:2em}form#better-sweclockers .better-sweclockers-disabled{opacity:.25;pointer-events:none}form#better-sweclockers footer{text-align:center;opacity:.8}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"better-sweclockers\": \"better-sweclockers\",\n\t\"better-sweclockers-editing-tools\": \"better-sweclockers-editing-tools\",\n\t\"better-sweclockers-preference\": \"better-sweclockers-preference\",\n\t\"better-sweclockers-labeledInput\": \"better-sweclockers-labeledInput\",\n\t\"s5fieldset\": \"s5fieldset\",\n\t\"better-sweclockers-radioButtonPreference\": \"better-sweclockers-radioButtonPreference\",\n\t\"better-sweclockers-inline-preference\": \"better-sweclockers-inline-preference\",\n\t\"better-sweclockers-primary-inline-preference\": \"better-sweclockers-primary-inline-preference\",\n\t\"better-sweclockers-code-input\": \"better-sweclockers-code-input\",\n\t\"better-sweclockers-interests-preferences\": \"better-sweclockers-interests-preferences\",\n\t\"better-sweclockers-subforum\": \"better-sweclockers-subforum\",\n\t\"better-sweclockers-disabled\": \"better-sweclockers-disabled\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"#header a[href=\\\"/forum/foljda\\\"].color-orange span{color:gray !important}#header a[href=\\\"/forum/foljda\\\"].color-orange svg,#header a[href=\\\"/forum/foljda\\\"].color-orange path{fill:gray !important}#header a[href=\\\"/profil/inlagg\\\"] svg+span{margin-right:6.5px !important}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"header\": \"header\",\n\t\"color-orange\": \"color-orange\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"#better-sweclockers-document .tbGroup.better-sweclockers-textarea-size{float:right}#better-sweclockers-document .tbGroup.better-sweclockers-textarea-size .btnIcon{background:none}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"better-sweclockers-document\": \"better-sweclockers-document\",\n\t\"tbGroup\": \"tbGroup\",\n\t\"better-sweclockers-textarea-size\": \"better-sweclockers-textarea-size\",\n\t\"btnIcon\": \"btnIcon\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".forumThread.better-sweclockers-uninteresting{opacity:.3;transition:opacity 200ms ease-out}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"forumThread\": \"forumThread\",\n\t\"better-sweclockers-uninteresting\": \"better-sweclockers-uninteresting\"\n};\nmodule.exports = exports;\n","export function compose() {\n    switch (arguments.length) {\n        case 1: return _compose1(arguments[0]);\n        case 2: return _compose2(arguments[0], arguments[1]);\n        case 3: return _compose3(arguments[0], arguments[1], arguments[2]);\n        case 4: return _compose4(arguments[0], arguments[1], arguments[2], arguments[3]);\n        case 5: return _compose5(arguments[0], arguments[1], arguments[2], arguments[3], arguments[4]);\n    }\n    ;\n}\nfunction _compose1(f) {\n    return function compose1Fn(a) {\n        return f(a);\n    };\n}\nfunction _compose2(g, f) {\n    return function compose2Fn(a) {\n        return g(f(a));\n    };\n}\nfunction _compose3(h, g, f) {\n    return function compose3Fn(a) {\n        return h(g(f(a)));\n    };\n}\nfunction _compose4(i, h, g, f) {\n    return function compose3Fn(a) {\n        return i(h(g(f(a))));\n    };\n}\nfunction _compose5(j, i, h, g, f) {\n    return function compose5Fn(a) {\n        return j(i(h(g(f(a)))));\n    };\n}\n//# sourceMappingURL=compose.js.map","export const ALWAYS = () => true;\nexport const NEVER = () => false;\nexport const DOMCONTENTLOADED = (state) => state !== \"loading\";\nexport const LOAD = (state) => state === \"complete\";\n","export function lines(s) {\n    return s === \"\" ? [] : s.replace(/\\n$/, \"\").split(\"\\n\");\n}\nexport function unlines(ls) {\n    return ls.map(line => line + \"\\n\").join(\"\");\n}\n//# sourceMappingURL=index.js.map","import { unlines } from \"lines-unlines\";\nconst INDENTATION = \"  \";\nfunction formatDependency(d) {\n    return INDENTATION + d.key + \": \" + d.selector;\n}\nexport function explanation(failure) {\n    switch (failure.result.reason) {\n        case 0:\n            return unlines([\n                `These dependencies were not found:`,\n                ``,\n                unlines(failure.result.dependencies.map(formatDependency)),\n            ]);\n        case 1:\n            return unlines([\n                `The operation failed with this error:`,\n                ``,\n                failure.result.message,\n            ]);\n    }\n}\nexport function failureDescriber(context) {\n    return failure => unlines([\n        `Could not ${failure.operation.description} on this page:`,\n        ``,\n        INDENTATION + location.href,\n        ``,\n        explanation(failure).trim(),\n        ``,\n        `This problem might be caused by ${context.siteName} changing its content/structure, in which case ${context.extensionName} needs to be updated accordingly. Otherwise, it's probably a bug in ${context.extensionName}.`,\n        ``,\n        `If you file a bug report, please include this message.`,\n    ]);\n}\n","let prefix = \"\";\nlet logger = console;\nexport function setPrefix(p) {\n    prefix = p;\n}\nexport function setLogger(l) {\n    logger = l;\n}\nexport function log(str) {\n    logger.log(prefix, str);\n}\nexport function info(str) {\n    logger.info(prefix, str);\n}\nexport function warning(str) {\n    logger.warn(prefix, str);\n}\nexport function error(str) {\n    logger.error(prefix, str);\n}\n","const MATCH_ALL = \"all\";\nconst MATCH_NONE = \"not all\";\nexport function stylesheet(spec) {\n    return spec;\n}\nexport function insert(stylesheets) {\n    const fragment = document.createDocumentFragment();\n    Object.entries(stylesheets).forEach(([_, sheet]) => {\n        const style = document.createElement(\"style\");\n        if (sheet.id !== undefined)\n            style.id = sheet.id;\n        style.textContent = sheet.css;\n        style.media = sheet.condition(window) ? MATCH_ALL : MATCH_NONE;\n        fragment.appendChild(style);\n    });\n    document.documentElement.appendChild(fragment);\n}\nconst setMediaQuery = (m) => (s) => {\n    const element = document.getElementById(s.id);\n    if (element !== null) {\n        element.setAttribute(\"media\", m);\n    }\n};\nexport const enable = setMediaQuery(MATCH_ALL);\nexport const disable = setMediaQuery(MATCH_NONE);\n","const TYPE_GUARDS_PRIMITIVE = [isBoolean, isNumber, isString, isSymbol, isNull, isUndefined];\nexport function isBoolean(x) {\n    return typeof x === \"boolean\";\n}\nexport function isNumber(x) {\n    return typeof x === \"number\";\n}\nexport function isString(x) {\n    return typeof x === \"string\";\n}\nexport function isSymbol(x) {\n    return typeof x === \"symbol\";\n}\nexport function isNull(x) {\n    return x === null;\n}\nexport function isUndefined(x) {\n    return x === undefined;\n}\nexport function isPrimitive(x) {\n    return TYPE_GUARDS_PRIMITIVE.some(f => f(x));\n}\nexport function isNonPrimitive(x) {\n    return !isPrimitive(x);\n}\nfunction namedFunction(name, fun) {\n    return Object.defineProperty(fun, \"name\", { value: name, writable: false });\n}\nfunction namedTypeGuard(creator, type, typeGuard) {\n    return namedFunction(`${creator.name}(${type.name})`, typeGuard);\n}\nexport function is(type) {\n    if (isPrimitive(type)) {\n        return (_) => false;\n    }\n    return namedTypeGuard(is, type, (x) => x instanceof type);\n}\nexport function isLike(reference) {\n    for (const f of TYPE_GUARDS_PRIMITIVE) {\n        if (f(reference)) {\n            return (x) => f(x);\n        }\n    }\n    if (is(Array)(reference)) {\n        const referenceAsArray = reference;\n        return (x) => is(Array)(x) && (referenceAsArray.length > 0 ? x.every(isLike(referenceAsArray[0])) : true);\n    }\n    if (reference.constructor === Object) {\n        return (x) => (![undefined, null].includes(x)\n            &&\n                Object.keys(reference).every(k => isLike(reference[k])(x[k])));\n    }\n    if (reference.constructor instanceof Function) {\n        return is(reference.constructor);\n    }\n    throw new TypeError(isLike.name + ` cannot use this object as reference because it has no constructor: ` + JSON.stringify(reference));\n}\n//# sourceMappingURL=is.js.map","import { isNull, isNumber, isString } from \"ts-type-guards\";\nconst SUCCESS = undefined;\nexport function operation(spec) {\n    return spec;\n}\nexport function run(plan) {\n    function recurse(operations, failures, triesLeft) {\n        const lastTry = isNumber(triesLeft) && triesLeft <= 0;\n        const operationsToRunNow = [];\n        const remaining = [];\n        const readyState = document.readyState;\n        for (const o of operations) {\n            const shouldRunNow = o.deferUntil === undefined || o.deferUntil(readyState);\n            (shouldRunNow ? operationsToRunNow : remaining).push(o);\n        }\n        for (const o of operationsToRunNow) {\n            const result = tryToPerform(o);\n            if (result !== SUCCESS) {\n                switch (result.reason) {\n                    case 0:\n                        if (lastTry) {\n                            failures.push({ result, operation: o });\n                        }\n                        else {\n                            remaining.push(o);\n                        }\n                        break;\n                    case 1:\n                        failures.push({ result, operation: o });\n                        break;\n                }\n            }\n        }\n        if (remaining.length > 0) {\n            setTimeout(() => recurse(remaining, failures, (isNumber(triesLeft)\n                ? triesLeft - 1\n                : plan.tryUntil(readyState) ? plan.extraTries : undefined)), plan.interval);\n        }\n        else if (failures.length > 0) {\n            plan.handleFailures(failures);\n        }\n    }\n    recurse(plan.operations.filter(o => o.condition(window)), []);\n}\nfunction tryToPerform(o) {\n    const dependencies = o.dependencies === undefined ? {} : o.dependencies;\n    const queryResults = Object.entries(dependencies).map(([key, selector]) => ({\n        key, selector, element: document.querySelector(selector),\n    }));\n    const missingDependencies = queryResults.filter(x => isNull(x.element));\n    if (missingDependencies.length > 0) {\n        return { reason: 0, dependencies: missingDependencies };\n    }\n    const e = queryResults.reduce((acc, x) => Object.defineProperty(acc, x.key, { value: x.element, enumerable: true }), {});\n    return fromActionResult(o.action(e));\n}\nfunction fromActionResult(r) {\n    return isString(r) ? { reason: 1, message: r } : SUCCESS;\n}\n","import * as log from \"./log\";\nimport * as operations from \"./operations\";\nimport * as stylesheets from \"./stylesheets\";\nexport function run(userscript) {\n    log.setPrefix(`[${userscript.name}]`);\n    const attr = attribute(userscript.id);\n    if (document.documentElement.hasAttribute(attr)) {\n        log.warning(`It looks as though ${userscript.name} has already run (because the attribute \"${attr}\" was found on <head>). Stopping.`);\n    }\n    else {\n        document.documentElement.setAttribute(attr, \"\");\n        userscript.initialAction();\n        stylesheets.insert(userscript.stylesheets);\n        operations.run(userscript.operationsPlan);\n    }\n}\nfunction attribute(id) {\n    return \"data-\" + id + \"-has-run\";\n}\n","export default {\n    id: \"better-sweclockers\",\n    name: \"Better SweClockers\",\n    version: \"TO_BE_REPLACED_DURING_BUILD\",\n    description: \"Extra functionality and improved usability for the SweClockers website.\",\n    author: \"Simon Alling\",\n    hostname: \"sweclockers.com\",\n    sitename: \"SweClockers\",\n    namespace: \"simonalling.se\",\n    runAt: \"document-start\",\n    noframes: true,\n    hostedAt: \"https://simonalling.github.io/better-sweclockers/\",\n};\n","export const r = String.raw;\nexport function fromMaybeUndefined(fallback, x) {\n    return x === undefined ? fallback : x;\n}\nexport function truncate(maxTotalLength, s) {\n    const REPLACEMENT = \"[]\";\n    return (s.length > maxTotalLength\n        ? s.slice(0, maxTotalLength - REPLACEMENT.length) + REPLACEMENT\n        : s);\n}\nexport function withMaybe(ma, f) {\n    if (ma !== null) {\n        f(ma);\n    }\n}\nexport function yyyymmdd(date) {\n    const yyyy = date.getFullYear();\n    const mm = (date.getMonth() + 1 /* 0-indexed */).toString().padStart(2, \"0\");\n    const dd = date.getDate().toString().padStart(2, \"0\");\n    return yyyy + mm + dd;\n}\nexport function assertExhausted(x) {\n    throw new Error(`assertExhausted: ${x}`);\n}\nexport function errorMessageFromCaught(caught) {\n    return caught instanceof Error ? caught.message : typeof caught === \"string\" ? caught : JSON.stringify(caught);\n}\n","export var SearchEngine;\n(function (SearchEngine) {\n    // Be careful! These strings are used in the UI.\n    SearchEngine[\"GOOGLE\"] = \"Google\";\n    SearchEngine[\"DUCKDUCKGO\"] = \"DuckDuckGo\";\n})(SearchEngine || (SearchEngine = {}));\nfunction searchEngineURL(engine) {\n    switch (engine) {\n        case \"Google\" /* SearchEngine.GOOGLE */: return \"https://google.com/search?q=\";\n        case \"DuckDuckGo\" /* SearchEngine.DUCKDUCKGO */: return \"https://duckduckgo.com/?q=\";\n    }\n}\nexport function searchURL(engine, completePhrase) {\n    return searchEngineURL(engine) + completePhrase.trim().replace(/\\s+/g, \"+\");\n}\n","// This file cannot contain Webpack-resolved imports (e.g. \"~src/foo\").\nimport U from \"./userscript\";\nimport { r } from \"./utilities\";\nexport const USERSCRIPT_ID = U.id;\nexport const USERSCRIPT_NAME = U.name;\nexport const PREFIX_ID = USERSCRIPT_ID + \"-\";\nexport const PREFIX_CLASS = USERSCRIPT_ID + \"-\";\n// How long to wait between performing operations (DOM manipulation etc) during page load:\nexport const OPERATIONS_INTERVAL = 25; // ms\n// How many extra tries to perform after DOMContentLoaded before considering remaining operations failed:\nexport const OPERATIONS_EXTRA_TRIES = 3;\nconst i = (x) => PREFIX_ID + x;\nconst c = (x) => PREFIX_CLASS + x;\nexport const ID_STYLE_ELEMENT = i(\"main-style-element\");\nexport const EDITING_TOOLS_HEIGHT = \"200px\"; // to prevent jumping in preferences interface\n// distance between article and left side of improved corrections dialog\nexport const CORRECTIONS_DIALOG_OFFSET_PX = 20;\nexport const NBSP = \"\\u00A0\";\nexport const ID = {\n    developerTools: i(\"developer-tools\"),\n    document: i(\"document\"),\n    preferenceIdPrefix: i(\"preference-\"),\n    editingTools: i(\"editing-tools\"),\n    editingToolsPreferences: i(\"editing-tools-preferences\"),\n    interestsPreferences: i(\"interests-preferences\"),\n    style: {\n        proofreading: i(\"proofreading\"),\n    },\n};\nexport const CLASS = {\n    mousetrap: \"mousetrap\",\n    developerTools: {\n        error: i(\"error\"),\n        warning: i(\"warning\"),\n    },\n    disabled: c(\"disabled\"),\n    editingTools: c(\"editing-tools\"),\n    iconButton: c(\"icon-button\"),\n    pmButton: c(\"pm-button\"),\n    quoteSignatureButton: c(\"quote-signature-button\"),\n    mentionEveryoneButton: c(\"mention-everyone-button\"),\n    shibe: c(\"shibe\"),\n    button_color: c(\"button-color\"),\n    button_blockquote: c(\"button-blockquote\"),\n    button_spoiler: c(\"button-spoiler\"),\n    button_code: c(\"button-code\"),\n    button_math: c(\"button-math\"),\n    splitQuote: c(\"split-quote\"),\n    colorPalette: c(\"color-palette\"),\n    smileys: c(\"smileys\"),\n    preference: c(\"preference\"),\n    preferenceDescription: c(\"preference-description\"),\n    inlinePreference: c(\"inline-preference\"),\n    primaryInlinePreference: c(\"primary-inline-preference\"),\n    radioButtonPreference: c(\"radioButtonPreference\"),\n    labeledInput: c(\"labeledInput\"),\n    subforum: c(\"subforum\"),\n    textareaSize: c(\"textarea-size\"),\n    codeInput: c(\"code-input\"),\n    checkbox: c(\"checkbox\"),\n    uninteresting: c(\"uninteresting\"),\n};\nexport const PATH = {\n    PREFERENCES: {\n        // Used for creating a link to the preferences menu:\n        link: (sweclockersSettingsPath) => (sweclockersSettingsPath + \"/\" + USERSCRIPT_ID),\n        // Used for checking whether we should show the preferences menu:\n        check: (sweclockersSettingsPath) => (new RegExp(sweclockersSettingsPath.source + r `\\/` + USERSCRIPT_ID)),\n    },\n};\nexport const KEY = {\n    caret_position: i(\"caret_position_in_textarea\"),\n    developer_tools_open: i(\"developer_tools_open\"),\n    draft_mode: i(\"draft_mode\"),\n};\nexport const URL_LOGO = \"https://github.com/SimonAlling/better-sweclockers/raw/master/docs/logo.png\";\nexport const CONTENT = {\n    indentation: \"    \",\n    shibeColor: `red`,\n    shibeFont: `Comic Sans MS, Chalkboard SE, sans-serif`,\n    splitQuoteEmptyLines: 3,\n    edit: `[b]EDIT:[/b] `,\n    doge: `[img]https://i.imgur.com/2IGEruO.png[/img]`,\n};\nexport const ICONS = {\n    // Requiring an SVG file here throws when building.\n    BLOCKQUOTE: `<div></div>`,\n    DOGE: `https://i.imgur.com/2IGEruO.png`,\n};\nexport const FOCUSABLE_ELEMENTS = [\"textarea\", \"input\", \"select\"];\nexport { SearchEngine } from \"./search-engines\";\n","// This file cannot contain Webpack-resolved imports (e.g. \"~src/foo\").\nimport U from \"./userscript\";\nexport const NAME = U.sitename;\nexport const HOSTNAME = U.hostname;\nexport const HOSTNAME_MOBILE = `m.` + HOSTNAME;\nexport const STYLESHEET_URL = (yyyymmdd) => `/css/main.css?v=${yyyymmdd}`;\nexport const BANNER_HEIGHT_SIDE = `${370}px`; // default height of sidebar ad modules\nexport const BANNER_HEIGHT_MID = `${341}px`; // default height of front page inter-article ad modules\nexport const BANNER_HEIGHT_BETWEEN_FORUM_POSTS = `${320}px`; // default height of forum-thread inter-post ad modules on mobile (or just narrow viewport in general)\nexport const WRAPPER_WIDTH_WIDE_PX = 1250;\nexport const WRAPPER_WIDTH_NARROW_PX = 1000;\nexport const MAX_WIDTH_FOR_NARROW_LAYOUT_PX = 1100;\nexport const EXTRA_TAB_MARGIN = `${8}px`;\nexport const GUTTER_SIZE_PX = 6; // the small padding to the very left and right\nexport const ARTICLE_WIDTH_PX = 680;\nexport const WIDTH_WHERE_NARROW_LAYOUT_GOES_CENTERED = WRAPPER_WIDTH_NARROW_PX + 2 * GUTTER_SIZE_PX;\nexport const WIDTH_WHERE_WIDE_LAYOUT_GOES_CENTERED = WRAPPER_WIDTH_WIDE_PX + 2 * GUTTER_SIZE_PX;\nexport const ID = {\n    header: \"header\",\n    footer: \"footer\",\n    carousel: \"carousel\",\n    correctionsLink: \"proofArticle\",\n    postPreview: \"preview\",\n    latestNewsWidget: \"wdgtMainRecentNews\",\n    newInForumWidget_main: \"wdgtMainRecentThreads\",\n    newInForumWidget_side: \"wdgtSideRecentThreads\",\n    newInMarketWidget: \"wdgtSideRecentClassifieds\",\n    newInTestLabWidget: \"wdgtSideRecentReviews\",\n    inTheStoreWidget: \"wdgtSideGeeksShop\",\n    popularAtPrisjaktWidget: \"wdgtSidePopularProducts\",\n    newTechJobsWidget: \"wdgtSideMonsterJobs\",\n    externalNewsWidget: \"wdgtSideExternalFeeds\",\n};\nexport const CLASS = {\n    fieldset: \"s5fieldset\",\n    button: \"button\",\n    link: \"link\",\n    icon: \"icon\",\n    label: \"label\",\n    disabled: \"is-disabled\",\n    inner: \"inner\",\n    colorOrange: \"color-orange\",\n    menuItem: \"menu-item\",\n    settingsNavigation: \"menu-items\",\n    forumPosts: \"forum-posts\",\n    forumPost: \"forum-post\",\n    forumPostProfileDetails: \"details\",\n    forumPostSignature: \"signature\",\n    forumPostControls: \"controls\",\n    forumPostByCurrentUser: \"isReader\",\n    bbcode: \"bbcode\",\n    bbDel: \"bbDel\",\n    bbImage: \"bbImage\",\n    bbIns: \"bbIns\",\n    imgControls: \"imgControls\",\n    notifications: \"profile-nav__notifications\",\n    proofDialog: \"proofDialog\",\n    socialMediaButtons: [`threadShare`, `greyContentShare`, `sideShare`],\n    sideBox: \"sideBox\",\n    smiley: \"smiley\",\n    subforums: \"subforums\",\n    toolbarGroup: \"tbGroup\",\n    toolbarButton: \"tbButton iconButton noselect\",\n    toolbarButtonIcon: \"btnIcon\",\n    toolbarHeadingButton: \"header\",\n    toolbarTableButton: \"tbl\",\n};\nexport const FORM = {\n    name: {\n        action: \"action\",\n        csrfToken: \"csrf\",\n        message: \"message\",\n        recipients: \"rcpt[]\",\n        title: \"title\",\n    },\n    value: {\n        preview: \"doPreview\",\n        submit: \"doSubmit\",\n    },\n};\nexport const PATH = {\n    EDIT_MODE_FORUM: /^\\/forum\\/(.*\\/(svara(\\?citera)?|redigera)|ny-trad)/,\n    EDIT_MODE_MARKET: /^\\/marknad\\/(.+\\/(redigera|kontakt)|ny-annons)$/,\n    EDIT_MODE_MARKET_CONTACT: /^\\/marknad\\/.+\\/kontakt$/,\n    EDIT_MODE_PM: /^\\/medlem\\/\\d+\\/meddelanden\\/(?:nytt-meddelande|post\\/\\d+\\/(?:redigera|svara))/,\n    EDIT_MODE_REPORT: /^\\/(forum|marknad|medlem\\/\\d+\\/meddelanden)\\/.+\\/anmal$/,\n    EDIT_MODE_SIGNATURE: /^\\/medlem\\/\\d+\\/installningar\\/signatur$/,\n    SETTINGS: {\n        link: \"/profil/installningar\",\n        check: /^\\/medlem\\/\\d+\\/installningar/, // Should not have a \"$\" because it should match subpaths too.\n    },\n    ARCHIVE: \"/arkiv\",\n    FOLLOWED: \"/forum/foljda\",\n    MY_POSTS: \"/profil/inlagg\",\n    SIGNIN: `/konto/logga-in`,\n    SIGNOUT: `/konto/logga-ut`,\n    ARTICLE: /^\\/artikel\\//,\n    GUIDE: /^\\/guide\\//,\n    NEWS: /^\\/nyhet\\//,\n    COMPETITION: /^\\/tavling\\//,\n    TEST: /^\\/test\\//,\n    TESTPILOT: /^\\/testpilot\\//,\n    FORUM_CATEGORY: /\\/forum\\/(\\d+)/,\n    FORUM: \"/forum\",\n    FORUM_THREADS_VIEW: /^\\/forum\\/(aktiva|obesvarade|foljda|skapade|lasta)$/,\n    PROFILE: (userId) => new RegExp(`^/medlem/${userId}$`),\n    THREAD: /^\\/(?:forum|medlem\\/\\d+\\/meddelanden)\\/trad\\//,\n    POST: /^\\/(?:forum|medlem\\/\\d+\\/meddelanden)\\/post\\//,\n    newPrivateMessage: (sender) => `/medlem/${sender}/meddelanden/nytt-meddelande`,\n    forumPost: (postID) => `/forum/post/${postID}`,\n};\nexport const TAG = {\n    abbr: \"abbr\",\n    b: \"b\",\n    bq: \"bq\",\n    cmd: \"cmd\",\n    code: \"code\",\n    color: \"color\",\n    del: \"del\",\n    dd: \"dd\",\n    dl: \"dl\",\n    dt: \"dt\",\n    expander: \"expander\",\n    font: \"font\",\n    h: \"h\",\n    i: \"i\",\n    img: \"img\",\n    ins: \"ins\",\n    mark: \"mark\",\n    math: \"math\",\n    noparse: \"noparse\",\n    pre: \"pre\",\n    quote: \"quote\",\n    size: \"size\",\n    spoiler: \"spoiler\",\n    sub: \"sub\",\n    sup: \"sup\",\n    u: \"u\",\n    url: \"url\",\n};\nconst URL_ICONS_TOOLBAR = \"/gfx/toolbar2x.png\";\nexport const ICONS = {\n    toolbarIcon: (position) => `<div style=\"background-image: url('${URL_ICONS_TOOLBAR}'); background-size: 500px auto; background-position: ${position};\"></div>`,\n    position_toolbar_url: \"0 -125px\",\n    position_toolbar_img: \"-50px -125px\",\n    settings: `<use xlink:href=\"/gfx/iconmap.svg#icon_settings\"></use>`,\n};\nexport const MOBILE_SITE_DISCLAIMER = {\n    sentFrom: `Skickades frn`,\n    mobileSiteDomain: HOSTNAME_MOBILE,\n};\nconst USER_ID_NOT_LOGGED_IN = 1;\nexport function getUserInfo() {\n    var _a;\n    const userID = (_a = window === null || window === void 0 ? void 0 : window.session) === null || _a === void 0 ? void 0 : _a._userid;\n    if (typeof userID !== \"number\") {\n        return { tag: \"CouldNotExtract\" };\n    }\n    return (userID === USER_ID_NOT_LOGGED_IN\n        ? { tag: \"NotLoggedIn\" }\n        : { tag: \"LoggedIn\", userID });\n}\n","import * as CONFIG from \"./config\";\nimport * as SITE from \"./site\";\n// NOTE: Be careful with document.head here, as it may be null at the time of\n// userscript execution (e.g. in a background tab in Firefox)!\nexport const isOnBSCPreferencesPage = pathMatches(CONFIG.PATH.PREFERENCES.check(SITE.PATH.SETTINGS.check));\nexport const isOnSweclockersSettingsPage = pathMatches(SITE.PATH.SETTINGS.check) && !isOnBSCPreferencesPage;\nexport const isOnSomeProfilePage = pathMatches(SITE.PATH.PROFILE(\"\\\\d+\"));\nfunction pathMatches(r) {\n    return r.test(document.location.pathname);\n}\nexport const isInForumThreadsView = pathMatches(SITE.PATH.FORUM_THREADS_VIEW);\nexport const isInEditMode_forum = pathMatches(SITE.PATH.EDIT_MODE_FORUM);\nexport const isInEditMode_market = pathMatches(SITE.PATH.EDIT_MODE_MARKET);\nexport const isInEditMode_marketContact = pathMatches(SITE.PATH.EDIT_MODE_MARKET_CONTACT);\nexport const isInEditMode_PM = pathMatches(SITE.PATH.EDIT_MODE_PM);\nexport const isInEditMode_report = pathMatches(SITE.PATH.EDIT_MODE_REPORT);\nexport const isInEditMode_signature = pathMatches(SITE.PATH.EDIT_MODE_SIGNATURE);\nexport const isInEditMode = [\n    isInEditMode_forum,\n    isInEditMode_market,\n    isInEditMode_PM,\n    isInEditMode_report,\n    isInEditMode_signature,\n].some(x => x);\nexport const isReadingEditorialContent = [\n    SITE.PATH.ARTICLE,\n    SITE.PATH.GUIDE,\n    SITE.PATH.NEWS,\n    SITE.PATH.COMPETITION,\n    SITE.PATH.TEST,\n    SITE.PATH.TESTPILOT,\n].some(pathMatches);\nexport const isReadingThread = !isInEditMode && [\n    SITE.PATH.THREAD,\n    SITE.PATH.POST,\n].some(pathMatches);\nexport const isReadingForumThread = isReadingThread && document.location.pathname.startsWith(SITE.PATH.FORUM);\n","import { is, isLike, isNull } from \"ts-type-guards\";\r\nexport var Status;\r\n(function (Status) {\r\n    Status[\"OK\"] = \"OK\";\r\n    Status[\"ABSENT\"] = \"ABSENT\";\r\n    Status[\"TYPE_ERROR\"] = \"TYPE_ERROR\";\r\n    Status[\"JSON_ERROR\"] = \"JSON_ERROR\";\r\n    Status[\"STORAGE_ERROR\"] = \"STORAGE_ERROR\";\r\n    Status[\"NUMBER_ERROR\"] = \"NUMBER_ERROR\";\r\n})(Status || (Status = {}));\r\nconst LOCAL_STORAGE = () => localStorage;\r\nconst SESSION_STORAGE = () => sessionStorage;\r\nexport function get(key, fallback) {\r\n    return getFrom(LOCAL_STORAGE, key, fallback);\r\n}\r\nexport function get_session(key, fallback) {\r\n    return getFrom(SESSION_STORAGE, key, fallback);\r\n}\r\nexport function set(key, value) {\r\n    return setIn(LOCAL_STORAGE, key, value);\r\n}\r\nexport function set_session(key, value) {\r\n    return setIn(SESSION_STORAGE, key, value);\r\n}\r\nexport function remove(key) {\r\n    return removeIn(LOCAL_STORAGE, key);\r\n}\r\nexport function remove_session(key) {\r\n    return removeIn(SESSION_STORAGE, key);\r\n}\r\nfunction getFrom(storage, key, fallback) {\r\n    try {\r\n        const savedValue = readFrom(storage(), key, fallback);\r\n        if (isNull(savedValue)) {\r\n            return {\r\n                status: \"ABSENT\",\r\n                value: fallback,\r\n            };\r\n        }\r\n        else {\r\n            return {\r\n                status: \"OK\",\r\n                value: savedValue,\r\n            };\r\n        }\r\n    }\r\n    catch (err) {\r\n        const status = (is(SyntaxError)(err) ? \"JSON_ERROR\"\r\n            :\r\n                is(TypeError)(err) ? \"TYPE_ERROR\"\r\n                    :\r\n                        \"STORAGE_ERROR\");\r\n        return {\r\n            status,\r\n            value: fallback,\r\n        };\r\n    }\r\n}\r\nfunction setIn(storage, key, value) {\r\n    try {\r\n        saveIn(storage(), key, value);\r\n        return {\r\n            status: \"OK\",\r\n            value,\r\n        };\r\n    }\r\n    catch (err) {\r\n        const status = (is(RangeError)(err) ? \"NUMBER_ERROR\"\r\n            :\r\n                is(SyntaxError)(err) || is(TypeError)(err) ? \"JSON_ERROR\"\r\n                    :\r\n                        \"STORAGE_ERROR\");\r\n        return {\r\n            status,\r\n            value,\r\n        };\r\n    }\r\n}\r\nfunction removeIn(storage, key) {\r\n    try {\r\n        storage().removeItem(key);\r\n        return {\r\n            status: \"OK\",\r\n            value: true,\r\n        };\r\n    }\r\n    catch (err) {\r\n        return {\r\n            status: \"STORAGE_ERROR\",\r\n            value: false,\r\n        };\r\n    }\r\n}\r\nfunction readFrom(storage, key, reference) {\r\n    if (storage === null) {\r\n        throw new DOMException();\r\n    }\r\n    const readValue = storage.getItem(key);\r\n    if (isNull(readValue)) {\r\n        return null;\r\n    }\r\n    const parsedValue = JSON.parse(readValue);\r\n    if (isLike(reference)(parsedValue)) {\r\n        return parsedValue;\r\n    }\r\n    throw new TypeError(`Saved value had wrong type.`);\r\n}\r\nfunction saveIn(storage, key, value) {\r\n    const replacer = (_key, v) => {\r\n        if (typeof v === \"number\" && !Number.isFinite(v)) {\r\n            throw new RangeError(v.toString());\r\n        }\r\n        return v;\r\n    };\r\n    const stringifiedValue = JSON.stringify(value, replacer);\r\n    if (storage === null) {\r\n        throw new DOMException();\r\n    }\r\n    storage.setItem(key, stringifiedValue);\r\n}\r\n//# sourceMappingURL=index.js.map","export function fromMaybe(fallback, x) {\r\n    return x === undefined ? fallback : x;\r\n}\r\nfunction replacer(key, value) {\r\n    switch (true) {\r\n        case Number.isNaN(value): return \"NaN\";\r\n        case value === Infinity: return \"Infinity\";\r\n        case value === -Infinity: return \"-Infinity\";\r\n        default: return value;\r\n    }\r\n}\r\nexport function stringify(x) {\r\n    return JSON.stringify(x, replacer);\r\n}\r\n//# sourceMappingURL=Utilities.js.map","import { isString } from \"ts-type-guards\";\r\nimport { fromMaybe, stringify, } from \"../Utilities\";\r\nexport function prependConstraints(cs, data) {\r\n    data.constraints = cs.concat(fromMaybe([], data.constraints));\r\n}\r\nexport class Preference {\r\n    constructor(data) {\r\n        if (data.key === \"\") {\r\n            throw new TypeError(`Empty preference key in this ${this.getClassName()}:\\n${stringify(data)}`);\r\n        }\r\n        this.key = data.key;\r\n        this.default = data.default;\r\n        this.label = data.label;\r\n        this.description = fromMaybe(\"\", data.description);\r\n        this.constraints = fromMaybe([], data.constraints);\r\n        this.dependencies = fromMaybe([], data.dependencies);\r\n        this.extras = fromMaybe({}, data.extras);\r\n        const validationResult = this.validate(data.default);\r\n        if (isString(validationResult)) {\r\n            this.invalidValue(data.default, validationResult);\r\n        }\r\n    }\r\n    validate(value) {\r\n        const constraints = this.constraints;\r\n        for (let i = 0, len = constraints.length; i < len; i++) {\r\n            const constraint = constraints[i];\r\n            if (!constraint.requirement(value)) {\r\n                return constraint.message(value);\r\n            }\r\n        }\r\n        return { value };\r\n    }\r\n    toValid(value) {\r\n        return isString(this.validate(value)) ? this.default : value;\r\n    }\r\n    toString() {\r\n        return `${this.getClassName()} '${this.key}'`;\r\n    }\r\n    invalidValue(value, message) {\r\n        throw new Error(`${stringify(value)} is not a valid value for ${this}. Reason: ${message}`);\r\n    }\r\n}\r\n//# sourceMappingURL=Preference.js.map","import * as Storage from \"ts-storage\";\r\nimport { is, isString } from \"ts-type-guards\";\r\nimport { Preference, } from \"./preferences/Preference\";\r\nimport { stringify } from \"./Utilities\";\r\nexport var Status;\r\n(function (Status) {\r\n    Status[Status[\"OK\"] = 0] = \"OK\";\r\n    Status[Status[\"INVALID_VALUE\"] = 1] = \"INVALID_VALUE\";\r\n    Status[Status[\"TYPE_ERROR\"] = 2] = \"TYPE_ERROR\";\r\n    Status[Status[\"JSON_ERROR\"] = 3] = \"JSON_ERROR\";\r\n    Status[Status[\"STORAGE_ERROR\"] = 4] = \"STORAGE_ERROR\";\r\n})(Status || (Status = {}));\r\nconst SIMPLE_RESPONSE_HANDLER = (summary, _) => summary.response;\r\nexport class PreferenceManager {\r\n    constructor(preferences, localStoragePrefix, responseHandler = SIMPLE_RESPONSE_HANDLER) {\r\n        this.localStoragePrefix = localStoragePrefix;\r\n        this.responseHandler = responseHandler;\r\n        this.cache = new Map();\r\n        const seenKeys = [];\r\n        const allPreferences = flatten(preferences);\r\n        allPreferences.forEach(p => {\r\n            const key = p.key;\r\n            if (seenKeys.includes(key)) {\r\n                throw new Error(`Duplicate preference key ${stringify(key)}.`);\r\n            }\r\n            this.cache.set(p, p.default);\r\n            seenKeys.push(key);\r\n        });\r\n        allPreferences.forEach(p => {\r\n            p.dependencies.forEach(dependency => {\r\n                if (this.cache.get(dependency.preference) === undefined) {\r\n                    throw new Error(`Dependency error in ${p}: ${unknown(dependency.preference)}`);\r\n                }\r\n            });\r\n        });\r\n    }\r\n    get(preference) {\r\n        return this.getWith(this.responseHandler, preference);\r\n    }\r\n    set(preference, value) {\r\n        this.setWith(this.responseHandler, preference, value);\r\n    }\r\n    getWith(responseHandler, preference) {\r\n        return responseHandler({\r\n            action: \"get\",\r\n            preference,\r\n            response: this.getRaw(preference),\r\n        }, this).value;\r\n    }\r\n    setWith(responseHandler, preference, value) {\r\n        responseHandler({\r\n            action: \"set\",\r\n            preference,\r\n            response: this.setRaw(preference, value),\r\n        }, this);\r\n    }\r\n    reset(preference) {\r\n        this.getFromCacheOrThrowIfUnknown(preference);\r\n        Storage.remove(this.localStoragePrefix + preference.key);\r\n    }\r\n    resetAll() {\r\n        for (const p of this.cache.keys()) {\r\n            this.reset(p);\r\n        }\r\n    }\r\n    shouldBeAvailable(p) {\r\n        const isMet = (d) => d.condition(this.getRaw(d.preference).value);\r\n        return p.dependencies.every(isMet);\r\n    }\r\n    getRaw(preference) {\r\n        const cachedValue = this.getFromCacheOrThrowIfUnknown(preference);\r\n        const response = Storage.get(this.localStoragePrefix + preference.key, preference.default);\r\n        if (response.status === \"OK\") {\r\n            const savedValue = response.value;\r\n            const validationResult = preference.validate(savedValue);\r\n            return (isString(validationResult)\r\n                ? {\r\n                    status: 1,\r\n                    value: preference.toValid(savedValue),\r\n                    saved: savedValue,\r\n                }\r\n                : {\r\n                    status: 0,\r\n                    value: savedValue,\r\n                });\r\n        }\r\n        return {\r\n            status: fromStorageStatus(response.status),\r\n            value: cachedValue,\r\n        };\r\n    }\r\n    setRaw(preference, value) {\r\n        this.getFromCacheOrThrowIfUnknown(preference);\r\n        if (isString(preference.validate(value))) {\r\n            return {\r\n                status: 1,\r\n                value,\r\n            };\r\n        }\r\n        this.cache.set(preference, value);\r\n        const response = Storage.set(this.localStoragePrefix + preference.key, value);\r\n        return {\r\n            status: fromStorageStatus(response.status),\r\n            value: response.value,\r\n        };\r\n    }\r\n    getFromCacheOrThrowIfUnknown(preference) {\r\n        const cachedValue = this.cache.get(preference);\r\n        if (cachedValue === undefined) {\r\n            throw new Error(unknown(preference));\r\n        }\r\n        return cachedValue;\r\n    }\r\n}\r\nfunction unknown(p) {\r\n    return `Unknown preference:\\n\\n${stringify(p)}.`;\r\n}\r\nfunction flatten(tree) {\r\n    return Object.values(tree).reduce((acc, node) => acc.concat(is(Preference)(node) ? node : flatten(node._)), []);\r\n}\r\nfunction fromStorageStatus(s) {\r\n    switch (s) {\r\n        case \"OK\": return 0;\r\n        case \"ABSENT\": return 0;\r\n        case \"NUMBER_ERROR\": return 1;\r\n        case \"TYPE_ERROR\": return 2;\r\n        case \"JSON_ERROR\": return 3;\r\n        case \"STORAGE_ERROR\": return 4;\r\n    }\r\n}\r\n//# sourceMappingURL=PreferenceManager.js.map","import * as log from \"./log\";\nexport function subscriptable(handler) {\n    const changeListeners = new Set();\n    return {\n        subscribe: (listener) => { changeListeners.add(listener); },\n        unsubscribe: (listener) => { changeListeners.delete(listener); },\n        handler: (summary, preferences) => {\n            if (summary.action === \"set\") {\n                changeListeners.forEach(f => f(summary.preference));\n            }\n            return handler(summary, preferences);\n        },\n    };\n}\nexport function loggingResponseHandler(summary, preferences) {\n    const response = summary.response;\n    switch (response.status) {\n        case 0:\n            return response;\n        case 1:\n            if (summary.action === \"get\") {\n                log.warning(`The saved value for preference '${summary.preference.key}' (${JSON.stringify(response.saved)}) was invalid. Replacing it with ${JSON.stringify(response.value)}.`);\n                preferences.set(summary.preference, response.value);\n            }\n            if (summary.action === \"set\") {\n                log.warning(`Could not set value ${JSON.stringify(response.value)} for preference '${summary.preference.key}' because it was invalid.`);\n            }\n            return response;\n        case 2:\n            if (summary.action === \"get\") {\n                log.warning(`The saved value for preference '${summary.preference.key}' had the wrong type. Replacing it with ${JSON.stringify(response.value)}.`);\n                preferences.set(summary.preference, response.value);\n            }\n            return response;\n        case 3:\n            if (summary.action === \"get\") {\n                log.warning(`The saved value for preference '${summary.preference.key}' could not be parsed. Replacing it with ${JSON.stringify(response.value)}.`);\n                preferences.set(summary.preference, response.value);\n            }\n            return response;\n        case 4:\n            switch (summary.action) {\n                case \"get\":\n                    log.error(`Could not read preference '${summary.preference.key}' because localStorage could not be accessed. Using value ${JSON.stringify(summary.preference.default)}.`);\n                    break;\n                case \"set\":\n                    log.error(`Could not save value ${JSON.stringify(summary.response.value)} for preference '${summary.preference.key}' because localStorage could not be accessed.`);\n                    break;\n                default:\n                    assertUnreachable(summary.action);\n            }\n            return response;\n        default:\n            return assertUnreachable(response.status);\n    }\n}\nexport function noopResponseHandler(summary, _) {\n    return summary.response;\n}\nfunction assertUnreachable(x) {\n    throw new Error(\"assertUnreachable: \" + x);\n}\n","export function start(tagName, parameter) {\r\n    return `[${tagName}${parameter === undefined ? \"\" : `=\"${parameter}\"`}]`;\r\n}\r\nexport function end(tagName) {\r\n    return `[/${tagName}]`;\r\n}\r\nexport function empty(tagName, parameter) {\r\n    return start(tagName, parameter) + end(tagName);\r\n}\r\n//# sourceMappingURL=index.js.map","export function supportsUndo(userAgent) {\n    /*\n    Hard to know for sure, but Gecko browsers don't support document.execCommand as of 2020-07-18 (Firefox 78).\n    https://bugzilla.mozilla.org/show_bug.cgi?id=1220696\n    \"Why not use feature detection?\" Because document.execCommand can't be feature-detected:\n\n        \"Note: Only returns true if part of a user interaction. Don't try using the return value to verify browser support before calling a command.\"\n\n    https://developer.mozilla.org/en-US/docs/Web/API/Document/execCommand#Return_value\n\n    Android doesn't support undo in general.\n    */\n    // Make sure the preference labels referencing this function match the implementation.\n    return ![\n        // Having functions, rather than their return values, in this list means we can reap the full benefits of short-circuiting (however important that may or may not be).\n        isGecko,\n        isAndroid,\n    ].some(f => f(userAgent));\n}\nexport function isGecko(userAgent) {\n    // Many browsers have \"Gecko\" in their user agent strings, but I believe only Gecko ones have the eight-digit suffix.\n    return /Gecko\\/\\d{8}/.test(userAgent);\n}\nexport function isAndroid(userAgent) {\n    return userAgent.includes(\"Android \");\n}\n","// This file cannot contain Webpack-resolved imports (e.g. \"~src/foo\").\nimport * as BB from \"bbcode-tags\";\nimport * as browser from \"./browser\";\nimport * as CONFIG from \"./config\";\nimport * as SITE from \"./site\";\nconst mention_everyone_label = `Nmn alla`;\nconst my_posts = `Mina inlgg`;\nconst down_for_maintenance = `Nere fr underhll`;\nconst draft_mode_toggle_label = `Utkast`;\nconst draft_mode_description = `Slipp posta ofrdiga inlgg av misstag`;\nconst OBVIOUS = `Som det lter`;\nexport const general = {\n    loading: `Laddar `,\n    preferences_link: CONFIG.USERSCRIPT_NAME,\n    signout_confirmation: `r du sker p att du vill logga ut?`,\n    draft_mode_toggle_label,\n    draft_mode_toggle_tooltip: draft_mode_description,\n    draft_mode_enabled_tooltip: `Kryssa ur \"${draft_mode_toggle_label}\" fr att posta`,\n    improved_url_button_url: `Adress (URL):`,\n    improved_url_button_text: `Lnktext:`,\n    nbsps_confirm: (n) => `${n} mellanslag kommer ersttas med hrda mellanslag. r du sker?`,\n    generic_lines_confirm: (n) => `${n} markerad${n > 1 ? \"e rader\" : \" rad\"} kommer formateras. r du sker?`,\n    quote_signature_label: `Citera med sign.`,\n    quote_signature_tooltip: `Citera inlgget och dess signatur`,\n    quote_signature_tooltip_no_signature: (author) => `${author} har ingen signatur`,\n    mention_everyone_label,\n    mention_everyone_tooltip: `Nmn alla trddeltagare p den hr sidan i ett nytt inlgg`,\n    uninteresting_subforum: (subforumName) => `Du har markerat kategorin ${subforumName} som ointressant.`,\n    pm_link_label: \"&nbsp;PM\",\n    go_to_post: `G till inlgget`,\n    link_to_top_tooltip: `G till toppen`,\n    textarea_size_small: `Liten textruta`,\n    textarea_size_large: `Stor textruta`,\n    tooltip_h: `Rubrik`,\n    tooltip_table: `Tabell`,\n    down_for_maintenance,\n    my_posts,\n};\nexport const preferences = {\n    _: {\n        NO_LABEL: ``,\n        shortcut_label: `BSC`,\n        title: `Instllningar fr Better SweClockers`,\n        back_to_sweclockers: `Tillbaka till ${SITE.NAME}`,\n        save_notice: `Instllningarna sparas automatiskt, men endast lokalt p den hr enheten.`,\n        failed_to_fetch_categories: `Kunde inte hmta forumkategorier.`,\n        in_quick_reply_form: `i formulret <em>Snabbsvar</em>`,\n        in_quick_reply_form_description: `Lngst ner i trdar`,\n    },\n    general: {\n        label: `Allmnt`,\n        lock_heights: `Ls hjden p reklam etc`,\n        lock_heights_description: `Frhindrar att sidans innehll hoppar nr t ex reklam laddas in`,\n        improved_corrections: `Bttre rttelsegrnssnitt`,\n        improved_corrections_description: `Gr det enklare att skicka in rttelser`,\n        insert_preferences_shortcut: `Genvg till instllningar fr ${CONFIG.USERSCRIPT_NAME}`,\n        insert_preferences_shortcut_description: `Visa en lnk till ${CONFIG.USERSCRIPT_NAME} instllningsmeny hgst upp`,\n        replace_followed_threads_link: `Erstt lnken <em>Fljda trdar</em> med <em>${my_posts}</em>`,\n        replace_followed_threads_link_description: OBVIOUS,\n        redirect_home_page_to_archive: `Peka om startsidan till arkivet`,\n        redirect_home_page_to_archive_description: `Fr dig som fredrar kronologisk ordning i nyhetsfldet`,\n        remember_location_in_market: `Kom ihg min plats i marknaden`,\n        remember_location_in_market_description: `Slipp fylla i ln och stad varje gng du skapar en annons`,\n    },\n    forum_threads: {\n        label: `Forumtrdar`,\n        improved_pagination_buttons: `Bttre blddringsknappar`,\n        improved_pagination_buttons_description: `Strre knappar som r lttare att klicka p`,\n        insert_link_to_top: `Lnk till toppen lngst ner`,\n        insert_link_to_top_description: OBVIOUS,\n        highlight_own_posts: `Framhv egna inlgg extra tydligt`,\n        highlight_own_posts_description: `Gr den orangea kanten p egna inlgg tjockare`,\n        insert_pm_links: `PM-knappar`,\n        insert_pm_links_description: `Skicka PM till en anvndare direkt frn deras inlgg`,\n        mention_everyone_button: `<em>${mention_everyone_label}</em>-knapp`,\n        mention_everyone_button_description: `Nmn alla trddeltagare p den aktuella sidan (framfrallt anvndbart i annonskommentarer)`,\n        quote_signature_buttons: `<em>Citera med signatur</em>-knappar`,\n        quote_signature_buttons_description: `Citera ett inlgg inklusive dess signatur`,\n        quote_signature_message: `Meddelande vid citering med signatur`,\n        quote_signature_message_description: `Fylls i automatiskt nr du citerar med signatur`,\n        quote_signature_message_default: `Nu bestr trdens vrde ven nr du byter signatur.`,\n    },\n    edit_mode: {\n        label: `Redigeringslge`,\n        draft_mode_toggle: `Kryssrutan <em>${draft_mode_toggle_label}</em>`,\n        draft_mode_toggle_description: draft_mode_description,\n        textarea_size_save: `Kom ihg textrutans storlek`,\n        textarea_size_save_description: `Behll samma storlek p textrutan mellan sidladdningar`,\n        textarea_size_toggle: `Knappar fr att vxla storlek p textrutan`,\n        textarea_size_toggle_description: `Toggla textrutans storlek precis ovanfr den`,\n        textarea_size_small: `mellan`,\n        textarea_size_large: `och`,\n        textarea_size_unit: `px`,\n        monospace_font: `<span style=\"font-family: monospace\">Monospace</span>-font i textrutan`,\n        monospace_font_description: `Underlttar formatering av kod och dylikt`,\n        keyboard_shortcuts: `Kortkommandon fr att skicka (<kbd>Ctrl</kbd> + <kbd>S</kbd>), frhandsgranska (<kbd>Ctrl</kbd> + <kbd>P</kbd>) och lnka (<kbd>Ctrl</kbd> + <kbd>K</kbd>)`,\n        keyboard_shortcuts_description: `Skicka, frhandsgranska och lnka med tangentbordet`,\n        insert_tab: `Tab-tangenten infogar`,\n        insert_tab_description: `Anvnd Tab-tangenten i textrutan`,\n        insert_tab_spaces: (n) => `${n} blanksteg`,\n        insert_tab_tab: `tabbtecken`,\n        improved_builtin_editing_tools: `Frbttrade inbyggda redigeringsverktyg`,\n        improved_builtin_editing_tools_description: `Mer intuitiv funktionalitet och ngra-std (i webblsare som stder det)`,\n        insert_heading_toolbar_button: `Knapp fr att formatera som rubrik`,\n        insert_heading_toolbar_button_description: `Knappen infogar BB-taggen ${BB.start(SITE.TAG.h)}`,\n        insert_table_toolbar_button: `Knapp fr att infoga tabell`,\n        insert_table_toolbar_button_description: `Knappen infogar en komplett tabell`,\n        remember_caret_position: `Kom ihg markrens position vid frhandsgranskning`,\n        remember_caret_position_description: `Fortstt skriva precis dr du var nr du frhandsgranskat ett inlgg`,\n        remove_mobile_site_disclaimer: `Ta bort <small><em>${SITE.MOBILE_SITE_DISCLAIMER.sentFrom} ${SITE.MOBILE_SITE_DISCLAIMER.mobileSiteDomain}</em></small>`,\n        remove_mobile_site_disclaimer_description: `Ta automatiskt bort ${SITE.MOBILE_SITE_DISCLAIMER.mobileSiteDomain}-disclaimern frn citat`,\n    },\n    editing_tools: {\n        label: `Utkade formateringsverktyg`,\n        enable: `Aktivera utkade formateringsverktyg`,\n        enable_description: `En hel samling extra formateringsverktyg fr att underltta inlggsskrivandet`,\n        position: {\n            label: `Placering`,\n            description: OBVIOUS,\n            above: `Ovanfr textfltet`,\n            below: `Under textfltet`,\n        },\n        special_characters: `Verktyg fr specialtecken`,\n        meta: `Verktyg fr tillagd och borttagen text`,\n        code: `Kodrelaterade verktyg`,\n        math: `Matematikrelaterade verktyg`,\n        whitespace: `Whitespaceverktyg`,\n        definitions: `Verktyg fr definitioner`,\n        embed: `Verktyg fr lnkar, bilder och skresultat`,\n        search_engine: {\n            label: `Skmotor`,\n            description: `Vilken skmotor som ska anvndas fr lnkar till skresultat`,\n        },\n        doge: `very doge buttons`,\n        doge_description: `            wow`,\n        color_palette: `Frgpaletten`,\n        color_palette_description: `ndra textfrg snabbt och enkelt`,\n        smileys: `Smileys`,\n    },\n    customize_content: {\n        label: `Anpassa innehll`,\n        carousel: `Bildspelsvyn hgst upp`,\n        social_media: `Knappar fr sociala medier`,\n        guides: `Guider`,\n        popular_galleries: `Bubblare i Galleriet`,\n        new_in_forum_side: `Nytt i forumet (till hger)`,\n        new_in_market: `Senaste privatannonserna`,\n        new_in_test_lab: `Nytt i testlabbet`,\n        in_the_store: `Just nu i butiken`,\n        popular_at_prisjakt: `Populrast p Prisjakt`,\n        new_tech_jobs: `Nya teknikjobb`,\n        external_news: `Externa nyheter`,\n        more_articles: `Fler artiklar (under varje artikel)`,\n        latest_news: `Senaste nyheterna (lngst ner)`,\n        new_in_forum_main: `Nytt i forumet (lngst ner)`,\n        footer: `Sidfot`,\n    },\n    advanced: {\n        label: `Avancerat`,\n        prevent_accidental_signout: `Frga vid utloggning`,\n        prevent_accidental_signout_description: `Undvik att logga ut av misstag`,\n        prevent_accidental_unload: `Frga vid navigering frn redigeringslge`,\n        prevent_accidental_unload_description: `Vrdefullt om du rkar klicka p fel lnk mitt i ett inlgg`,\n        improved_image_controls: `Bttre zoom- och lnkikoner i bilder`,\n        improved_image_controls_description: `Visa ikoner framfr bilder endast nr du hovrar ver dem`,\n        disable_scroll_restoration: `Frhindra webblsaren frn att komma ihg scrollning`,\n        disable_scroll_restoration_description: `Kan vara praktiskt fr tangentbordssurfare`,\n        down_for_maintenance: `${down_for_maintenance} varje natt mellan 4:30 och 5:10`,\n        down_for_maintenance_description: `Never forget!`,\n        proofread_articles: {\n            label: `Markera mjliga fel i artiklar`,\n            description: `Exempelvis hrda mellanslag och tankstreck`,\n            always: `Alltid`,\n            corrections: `I rttelsegrnssnittet`,\n            never: `Aldrig`,\n        },\n        proofread_forum_posts: `Markera mjliga fel i foruminlgg (i redigeringslge)`,\n        proofread_forum_posts_description: `Samma som ovan, fast i forumet`,\n        undo_support: (browser.supportsUndo, {\n            label: `Nr ett verktyg infogar text`,\n            description: `Om din webblsare inte lter dig ngra tgrder utfrda med redigeringsverktygen kan ${CONFIG.USERSCRIPT_NAME} skydda markerad text mot oavsiktlig radering om du rkar trycka p fel knapp`,\n            replace_selected: `Erstt markerad text  rekommenderas i alla webblsare med fullgott ngra-std`,\n            keep_selected: `Behll markerad text  rekommenderas i <a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=1220696\">Firefox/Gecko</a> samt p Android`, // Make sure the text matches the actual support check.\n        }),\n        developer_mode: `Utvecklarlge`,\n        developer_mode_description: `Visa fel och varningar lngst ner p skrmen`,\n        custom_css_enable: `Infoga egen CSS:`,\n        custom_css_enable_description: `Anpassa layout och utseende precis som du vill`,\n        custom_css_warning: `Klistra aldrig in kod som du inte litar p!`,\n    },\n    keyboard: `Kortkommandon`,\n    interests: {\n        label: `Intressen`,\n    },\n};\nexport const editing_tools = {\n    size_label: `<big>A</big><small>A</small>`,\n    size_tooltip: `Textstorlek`,\n    color_tooltip: `Textfrg`,\n    font_tooltip: `Typsnitt`,\n    mark_label: `<mark>mark</mark>`,\n    mark_tooltip: `Markerad/framhvd text`,\n    abbr_label: SITE.TAG.abbr,\n    abbr_tooltip: `Frkortning`,\n    quote_tooltip: `Forumcitat`,\n    bq_label: `bq`,\n    bq_tooltip: `Allmnt blockcitat`,\n    spoiler_tooltip: `Spoilers`,\n    expander_tooltip: `Lnga textstycken`,\n    noparse_tooltip: `Inaktivera BB-kod i en viss del av texten`,\n    pre_tooltip: `Visa indrag och mellanrum som de r`,\n    cmd_tooltip: `Inlinekod`,\n    code_tooltip: `Kodstycke`,\n    math_label: `<big><i>x</i></big>`,\n    math_tooltip: `Matematiska formler och uttryck`,\n    sub_label: `<span></span><sub><i>x</i></sub>`,\n    sub_tooltip: `Nedsnkt text`,\n    sup_label: `<span></span><sup><i>x</i></sup>`,\n    sup_tooltip: `Upphjd text`,\n    nbsps_label: ``,\n    nbsps_tooltip: `Erstt alla mellanslag med hrda mellanslag i markerad text`,\n    url_tooltip: `Klickbar lnk`,\n    img_tooltip: `Bdda in bilder`,\n    search_link_tooltip: `Lnka till en skning p markerad text`,\n    shibe_label: `shibe`,\n    shibe_tooltip: `wow`,\n    doge_label: `doge`,\n    doge_tooltip: `pls click`,\n    split_quote_tooltip: `Splitta ett citat mitt i`,\n    edit_label: `Edit`,\n    edit_tooltip: `Infoga en redigeringsnotis`,\n    ins_label: `<ins class=\"${SITE.CLASS.bbIns}\">${SITE.TAG.ins}</ins>`,\n    ins_tooltip: `Tillagd text`,\n    del_label: `<del class=\"${SITE.CLASS.bbDel}\">${SITE.TAG.del}</del>`,\n    del_tooltip: `Borttagen text`,\n    dl_label: SITE.TAG.dl,\n    dl_tooltip: `Definitionslista`,\n    dt_label: SITE.TAG.dt,\n    dt_tooltip: `Term att definiera/beskriva (mste ligga inuti en ${BB.start(SITE.TAG.dl)})`,\n    dd_label: SITE.TAG.dd,\n    dd_tooltip: `Termens definition/beskrivning (mste ligga inuti en ${BB.start(SITE.TAG.dl)} och efter en ${BB.start(SITE.TAG.dt)})`,\n};\nexport const special_characters = [\n    { insert: \"\\u2011\", tooltip: \"Hrt bindestreck (tillter ej radbrytning)\" },\n    { insert: \"\", tooltip: \"Kort tankstreck (talstreck; intervall)\" },\n    { insert: \"\", tooltip: \"Lngt tankstreck\" },\n    { insert: \"\", tooltip: \"Uteslutningstecken (Ellipsis)\" },\n    { insert: \"\", tooltip: \"Ungefr lika med\" },\n    { insert: \"\", tooltip: \"Minustecken\" },\n    { insert: \"\", tooltip: \"Multiplikationstecken\" },\n    { insert: \"\", tooltip: \"Halvhg punkt (multiplikationstecken)\" },\n    { insert: \"\", tooltip: \"Gradtecken\" },\n    { insert: \"\\u202FC\", tooltip: \"Grader celsius (inkl. hrt blanksteg)\" },\n    { insert: CONFIG.NBSP, label: \"NBSP\", tooltip: \"Hrt blanksteg (tillter ej radbrytning)\" },\n    { insert: \"\\u202F\", label: \"NNBSP\", tooltip: \"Smalt hrt blanksteg (tillter ej radbrytning, anvnds som enhets- och tusentalsseparator)\" },\n    { insert: \"\", tooltip: \"Upphjd tva\" },\n    { insert: \"\", tooltip: \"Primtecken (fot; minuter)\" },\n    { insert: \"\", tooltip: \"Dubbelprimtecken (tum; sekunder)\" },\n    { insert: \"\", tooltip: \"Bock\" },\n    { insert: \"\", tooltip: \"Hgerpil\" },\n    { insert: \"\", tooltip: \"Varumrke (trademark)\" },\n];\nexport const developer_mode = {\n    nothing_logged: `Nothing has been logged.`,\n    tooltip: {\n        error: (n) => `${n} fel`,\n        warning: (n) => `${n} varning${n === 1 ? \"\" : \"ar\"}`,\n    },\n};\n","import { Preference } from \"./Preference\";\r\nexport class BooleanPreference extends Preference {\r\n    getClassName() { return \"BooleanPreference\"; }\r\n}\r\n//# sourceMappingURL=BooleanPreference.js.map","import { isString } from \"ts-type-guards\";\r\nimport { stringify } from \"../Utilities\";\r\nimport { Preference, prependConstraints, } from \"./Preference\";\r\nexport class MultichoicePreference extends Preference {\r\n    constructor(data) {\r\n        const options = data.options;\r\n        const CONSTRAINTS = [\r\n            {\r\n                requirement: v => options.some(o => o.value === v),\r\n                message: v => `${stringify(v)} is not among the available options.`,\r\n            },\r\n        ];\r\n        prependConstraints(CONSTRAINTS, data);\r\n        super(data);\r\n        if (options.length < 2) {\r\n            throw new Error(`Parameter 'options' has less than two elements in ${this}.`);\r\n        }\r\n        const seenOptionValues = [];\r\n        options.forEach(option => {\r\n            const validationResult = this.validate(option.value);\r\n            if (isString(validationResult)) {\r\n                throw new Error(`Option value ${stringify(option.value)} in ${this} is invalid. Reason: ${validationResult}`);\r\n            }\r\n            if (seenOptionValues.indexOf(option.value) > -1) {\r\n                throw new Error(`Multiple options with value ${stringify(option.value)} in ${this}.`);\r\n            }\r\n            seenOptionValues.push(option.value);\r\n        });\r\n        this.options = options;\r\n    }\r\n    getClassName() { return \"MultichoicePreference\"; }\r\n    toValid(value) {\r\n        return this.default;\r\n    }\r\n}\r\n//# sourceMappingURL=MultichoicePreference.js.map","import { fromMaybe } from \"../Utilities\";\r\nimport { Preference, prependConstraints, } from \"./Preference\";\r\nexport class StringPreference extends Preference {\r\n    constructor(data) {\r\n        const minLength = fromMaybe(0, data.minLength);\r\n        const maxLength = fromMaybe(Infinity, data.maxLength);\r\n        const CONSTRAINTS = [];\r\n        if (!data.multiline) {\r\n            CONSTRAINTS.push({\r\n                requirement: v => !v.includes(\"\\n\"),\r\n                message: v => `Line breaks are not allowed.`,\r\n            });\r\n        }\r\n        if (minLength > 0) {\r\n            CONSTRAINTS.push({\r\n                requirement: v => v.length >= minLength,\r\n                message: v => `Minimum length is ${minLength} characters.`,\r\n            });\r\n        }\r\n        if (maxLength < Infinity) {\r\n            CONSTRAINTS.push({\r\n                requirement: v => v.length <= maxLength,\r\n                message: v => `Maximum length ${maxLength} exceeded.`,\r\n            });\r\n        }\r\n        prependConstraints(CONSTRAINTS, data);\r\n        super(data);\r\n        if (minLength < 0) {\r\n            throw new Error(`Parameter 'minLength' cannot be negative, but it was ${minLength} in ${this}.`);\r\n        }\r\n        this.multiline = data.multiline;\r\n        this.maxLength = maxLength;\r\n        this.minLength = minLength;\r\n    }\r\n    getClassName() { return \"StringPreference\"; }\r\n    toValid(s) {\r\n        const truncated = s.substring(0, this.maxLength);\r\n        return super.toValid(this.multiline\r\n            ? truncated\r\n            : truncated.replace(StringPreference.REGEX_LINE_BREAKS, \" \"));\r\n    }\r\n    fromString(s) {\r\n        return this.validate(s);\r\n    }\r\n}\r\nStringPreference.REGEX_LINE_BREAKS = /\\n+/g;\r\n//# sourceMappingURL=StringPreference.js.map","import { BooleanPreference, MultichoicePreference, StringPreference, } from \"ts-preferences\";\nimport * as browser from \"~src/browser\";\nimport * as CONFIG from \"~src/config\";\nimport * as T from \"~src/text\";\nconst custom_css_enable = new BooleanPreference({\n    key: \"custom_css_enable\",\n    default: false,\n    label: T.preferences.advanced.custom_css_enable,\n    description: T.preferences.advanced.custom_css_enable_description,\n});\nexport default {\n    prevent_accidental_signout: new BooleanPreference({\n        key: \"prevent_accidental_signout\",\n        default: true,\n        label: T.preferences.advanced.prevent_accidental_signout,\n        description: T.preferences.advanced.prevent_accidental_signout_description,\n    }),\n    prevent_accidental_unload: new BooleanPreference({\n        key: \"prevent_accidental_unload\",\n        default: true,\n        label: T.preferences.advanced.prevent_accidental_unload,\n        description: T.preferences.advanced.prevent_accidental_unload_description,\n    }),\n    improved_image_controls: new BooleanPreference({\n        key: \"improved_image_controls\",\n        default: true,\n        label: T.preferences.advanced.improved_image_controls,\n        description: T.preferences.advanced.improved_image_controls_description,\n    }),\n    disable_scroll_restoration: new BooleanPreference({\n        key: \"disable_scroll_restoration\",\n        default: false,\n        label: T.preferences.advanced.disable_scroll_restoration,\n        description: T.preferences.advanced.disable_scroll_restoration_description,\n    }),\n    down_for_maintenance: new BooleanPreference({\n        key: \"down_for_maintenance\",\n        default: false,\n        label: T.preferences.advanced.down_for_maintenance,\n        description: T.preferences.advanced.down_for_maintenance_description,\n    }),\n    proofread_articles: new MultichoicePreference({\n        key: \"proofread_articles\",\n        default: 2 /* Proofreading.Options.NEVER */,\n        label: T.preferences.advanced.proofread_articles.label,\n        description: T.preferences.advanced.proofread_articles.description,\n        options: [\n            {\n                value: 0 /* Proofreading.Options.ALWAYS */,\n                label: T.preferences.advanced.proofread_articles.always,\n            },\n            {\n                value: 1 /* Proofreading.Options.CORRECTIONS */,\n                label: T.preferences.advanced.proofread_articles.corrections,\n            },\n            {\n                value: 2 /* Proofreading.Options.NEVER */,\n                label: T.preferences.advanced.proofread_articles.never,\n            },\n        ],\n    }),\n    proofread_forum_posts: new BooleanPreference({\n        key: \"proofread_forum_posts\",\n        default: false,\n        label: T.preferences.advanced.proofread_forum_posts,\n        description: T.preferences.advanced.proofread_forum_posts_description,\n    }),\n    undo_support: new MultichoicePreference({\n        // Could have been a BooleanPreference, but it was hard to come up with an understandable label and description then.\n        key: \"undo_support\",\n        default: browser.supportsUndo(navigator.userAgent),\n        label: T.preferences.advanced.undo_support.label,\n        description: T.preferences.advanced.undo_support.description,\n        options: [\n            {\n                value: true,\n                label: T.preferences.advanced.undo_support.replace_selected,\n            },\n            {\n                value: false,\n                label: T.preferences.advanced.undo_support.keep_selected,\n            },\n        ],\n    }),\n    developer_mode: new BooleanPreference({\n        key: \"developer_mode\",\n        default: false,\n        label: T.preferences.advanced.developer_mode,\n        description: T.preferences.advanced.developer_mode_description,\n    }),\n    custom_css_enable,\n    custom_css_code: new StringPreference({\n        key: \"custom_css_code\",\n        default: \"\",\n        label: T.preferences._.NO_LABEL,\n        description: T.preferences.advanced.custom_css_enable_description,\n        multiline: true,\n        extras: { class: CONFIG.CLASS.codeInput },\n        dependencies: [\n            {\n                preference: custom_css_enable,\n                condition: (v) => v,\n            },\n        ],\n    }),\n};\n","import { BooleanPreference, } from \"ts-preferences\";\nimport * as T from \"~src/text\";\nexport default {\n    carousel: new BooleanPreference({\n        key: \"customize_content_carousel\",\n        default: true,\n        label: T.preferences.customize_content.carousel,\n    }),\n    social_media: new BooleanPreference({\n        key: \"customize_content_social_media\",\n        default: true,\n        label: T.preferences.customize_content.social_media,\n    }),\n    guides: new BooleanPreference({\n        key: \"customize_content_guides\",\n        default: true,\n        label: T.preferences.customize_content.guides,\n    }),\n    popular_galleries: new BooleanPreference({\n        key: \"customize_content_popular_galleries\",\n        default: true,\n        label: T.preferences.customize_content.popular_galleries,\n    }),\n    new_in_forum_side: new BooleanPreference({\n        key: \"customize_content_new_in_forum_side\",\n        default: true,\n        label: T.preferences.customize_content.new_in_forum_side,\n    }),\n    new_in_market: new BooleanPreference({\n        key: \"customize_content_new_in_market\",\n        default: true,\n        label: T.preferences.customize_content.new_in_market,\n    }),\n    new_in_test_lab: new BooleanPreference({\n        key: \"customize_content_new_in_test_lab\",\n        default: true,\n        label: T.preferences.customize_content.new_in_test_lab,\n    }),\n    in_the_store: new BooleanPreference({\n        key: \"customize_content_in_the_store\",\n        default: true,\n        label: T.preferences.customize_content.in_the_store,\n    }),\n    popular_at_prisjakt: new BooleanPreference({\n        key: \"customize_content_popular_at_prisjakt\",\n        default: true,\n        label: T.preferences.customize_content.popular_at_prisjakt,\n    }),\n    new_tech_jobs: new BooleanPreference({\n        key: \"customize_content_new_tech_jobs\",\n        default: true,\n        label: T.preferences.customize_content.new_tech_jobs,\n    }),\n    external_news: new BooleanPreference({\n        key: \"customize_content_external_news\",\n        default: true,\n        label: T.preferences.customize_content.external_news,\n    }),\n    more_articles: new BooleanPreference({\n        key: \"customize_content_more_articles\",\n        default: true,\n        label: T.preferences.customize_content.more_articles,\n    }),\n    latest_news: new BooleanPreference({\n        key: \"customize_content_latest_news\",\n        default: true,\n        label: T.preferences.customize_content.latest_news,\n    }),\n    new_in_forum_main: new BooleanPreference({\n        key: \"customize_content_new_in_forum_main\",\n        default: true,\n        label: T.preferences.customize_content.new_in_forum_main,\n    }),\n    footer: new BooleanPreference({\n        key: \"customize_content_footer\",\n        default: true,\n        label: T.preferences.customize_content.footer,\n    }),\n};\n","import { isString } from \"ts-type-guards\";\r\nimport { Preference, prependConstraints, } from \"./Preference\";\r\nexport class NumericPreference extends Preference {\r\n    static postParse(p, parsed) {\r\n        return (isString(parsed)\r\n            ? parsed\r\n            : p.validate(parsed.value));\r\n    }\r\n    constructor(data) {\r\n        const CONSTRAINTS = [\r\n            {\r\n                requirement: Number.isFinite,\r\n                message: v => `${v} is not a finite number.`,\r\n            },\r\n        ];\r\n        prependConstraints(CONSTRAINTS, data);\r\n        super(data);\r\n    }\r\n}\r\n//# sourceMappingURL=NumericPreference.js.map","import { NumericPreference } from \"./NumericPreference\";\r\nimport { prependConstraints } from \"./Preference\";\r\nexport class IntegerPreference extends NumericPreference {\r\n    constructor(data) {\r\n        const CONSTRAINTS = [\r\n            IntegerPreference.CONSTRAINT_INTEGER,\r\n        ];\r\n        prependConstraints(CONSTRAINTS, data);\r\n        super(data);\r\n    }\r\n    getClassName() { return \"IntegerPreference\"; }\r\n    static parse(s) {\r\n        const parsed = parseInt(s, 10);\r\n        return (Number.isNaN(parsed)\r\n            ? `\"${s}\" is not an integer.`\r\n            : { value: parsed });\r\n    }\r\n    toValid(value) {\r\n        return super.toValid(Math.round(value));\r\n    }\r\n    fromString(s) {\r\n        return NumericPreference.postParse(this, IntegerPreference.parse(s));\r\n    }\r\n}\r\nIntegerPreference.CONSTRAINT_INTEGER = {\r\n    requirement: Number.isInteger,\r\n    message: v => `${v} is not an integer.`,\r\n};\r\n//# sourceMappingURL=IntegerPreference.js.map","import { NumericPreference } from \"./NumericPreference\";\r\nimport { prependConstraints, } from \"./Preference\";\r\nexport class RangePreference extends NumericPreference {\r\n    constructor(data) {\r\n        const min = data.min;\r\n        const max = data.max;\r\n        const CONSTRAINTS = [\r\n            {\r\n                requirement: v => v >= min,\r\n                message: v => `${v} is smaller than minimum value ${min}.`,\r\n            },\r\n            {\r\n                requirement: v => v <= max,\r\n                message: v => `${v} is greater than maximum value ${max}.`,\r\n            },\r\n        ];\r\n        prependConstraints(CONSTRAINTS, data);\r\n        super(data);\r\n        if (!(Number.isFinite(min) && Number.isFinite(max))) {\r\n            throw new Error(`Parameters 'min' and 'max' must be finite numbers, but they were ${min} and ${max} in ${this}.`);\r\n        }\r\n        if (min > max) {\r\n            throw new Error(`Parameter 'min' cannot be greater than parameter 'max', but they were ${min} and ${max} in ${this}.`);\r\n        }\r\n        this.min = min;\r\n        this.max = max;\r\n    }\r\n    toValid(value) {\r\n        return super.toValid(Math.max(this.min, Math.min(this.max, value)));\r\n    }\r\n}\r\n//# sourceMappingURL=RangePreference.js.map","import { IntegerPreference } from \"./IntegerPreference\";\r\nimport { NumericPreference } from \"./NumericPreference\";\r\nimport { prependConstraints } from \"./Preference\";\r\nimport { RangePreference } from \"./RangePreference\";\r\nexport class IntegerRangePreference extends RangePreference {\r\n    getClassName() { return \"IntegerRangePreference\"; }\r\n    constructor(data) {\r\n        const CONSTRAINTS = [\r\n            IntegerPreference.CONSTRAINT_INTEGER,\r\n        ];\r\n        prependConstraints(CONSTRAINTS, data);\r\n        super(data);\r\n        if (!Number.isInteger(data.min) || !Number.isInteger(data.max)) {\r\n            throw new TypeError(`Parameters 'min' and 'max' must be integers, but they were ${data.min} and ${data.max} in ${this}.`);\r\n        }\r\n    }\r\n    toValid(value) {\r\n        return super.toValid(Math.round(value));\r\n    }\r\n    fromString(s) {\r\n        return NumericPreference.postParse(this, IntegerPreference.parse(s));\r\n    }\r\n}\r\n//# sourceMappingURL=IntegerRangePreference.js.map","import { BooleanPreference, IntegerRangePreference, MultichoicePreference, } from \"ts-preferences\";\nimport * as CONFIG from \"~src/config\";\nimport * as T from \"~src/text\";\nconst textarea_size_toggle = new BooleanPreference({\n    key: \"textarea_size_toggle\",\n    default: true,\n    label: T.preferences.edit_mode.textarea_size_toggle,\n    description: T.preferences.edit_mode.textarea_size_toggle_description,\n    extras: { class: [CONFIG.CLASS.inlinePreference, CONFIG.CLASS.primaryInlinePreference] },\n});\nconst dependencies_textarea_size_toggle = [\n    {\n        preference: textarea_size_toggle,\n        condition: (v) => v,\n    },\n];\nconst DEFAULT_TEXTAREA_SIZE = 360;\nconst SPACE = \" \", TAB = \"\\t\";\nexport default {\n    draft_mode_toggle: new BooleanPreference({\n        key: \"draft_mode_toggle\",\n        default: true,\n        label: T.preferences.edit_mode.draft_mode_toggle,\n        description: T.preferences.edit_mode.draft_mode_toggle_description,\n    }),\n    textarea_size: new IntegerRangePreference({\n        key: \"textarea_size\",\n        default: DEFAULT_TEXTAREA_SIZE,\n        min: 0, max: Number.MAX_VALUE,\n        label: T.preferences._.NO_LABEL,\n        extras: { implicit: true },\n    }),\n    textarea_size_toggle,\n    textarea_size_small: new IntegerRangePreference({\n        key: \"textarea_size_small\",\n        default: 250,\n        min: 50, max: 2000,\n        label: T.preferences.edit_mode.textarea_size_small,\n        description: T.preferences.edit_mode.textarea_size_toggle_description,\n        dependencies: dependencies_textarea_size_toggle,\n        extras: { class: CONFIG.CLASS.inlinePreference },\n    }),\n    textarea_size_large: new IntegerRangePreference({\n        key: \"textarea_size_large\",\n        default: 750,\n        min: 50, max: 2000,\n        label: T.preferences.edit_mode.textarea_size_large,\n        description: T.preferences.edit_mode.textarea_size_toggle_description,\n        dependencies: dependencies_textarea_size_toggle,\n        extras: { class: CONFIG.CLASS.inlinePreference, suffix: T.preferences.edit_mode.textarea_size_unit },\n    }),\n    monospace_font: new BooleanPreference({\n        key: \"monospace_font\",\n        default: false,\n        label: T.preferences.edit_mode.monospace_font,\n        description: T.preferences.edit_mode.monospace_font_description,\n        extras: { class: [CONFIG.CLASS.inlinePreference, CONFIG.CLASS.primaryInlinePreference] },\n    }),\n    monospace_font_in_quick_reply_form: new BooleanPreference({\n        key: \"monospace_font_in_quick_reply_form\",\n        default: false,\n        label: T.preferences._.in_quick_reply_form,\n        description: T.preferences._.in_quick_reply_form_description,\n        extras: { class: CONFIG.CLASS.inlinePreference },\n    }),\n    improved_builtin_editing_tools: new BooleanPreference({\n        key: \"improved_builtin_editing_tools\",\n        default: true,\n        label: T.preferences.edit_mode.improved_builtin_editing_tools,\n        description: T.preferences.edit_mode.improved_builtin_editing_tools_description,\n    }),\n    insert_heading_toolbar_button: new BooleanPreference({\n        key: \"insert_heading_toolbar_button\",\n        default: true,\n        label: T.preferences.edit_mode.insert_heading_toolbar_button,\n        description: T.preferences.edit_mode.insert_heading_toolbar_button_description,\n    }),\n    insert_table_toolbar_button: new BooleanPreference({\n        key: \"insert_table_toolbar_button\",\n        default: true,\n        label: T.preferences.edit_mode.insert_table_toolbar_button,\n        description: T.preferences.edit_mode.insert_table_toolbar_button_description,\n    }),\n    keyboard_shortcuts: new BooleanPreference({\n        key: \"keyboard_shortcuts\",\n        default: false,\n        label: T.preferences.edit_mode.keyboard_shortcuts,\n        description: T.preferences.edit_mode.keyboard_shortcuts_description,\n        extras: { class: [CONFIG.CLASS.inlinePreference, CONFIG.CLASS.primaryInlinePreference] },\n    }),\n    keyboard_shortcuts_in_quick_reply: new BooleanPreference({\n        key: \"keyboard_shortcuts_in_quick_reply\",\n        default: false,\n        label: T.preferences._.in_quick_reply_form,\n        description: T.preferences._.in_quick_reply_form_description,\n        extras: { class: CONFIG.CLASS.inlinePreference },\n    }),\n    insert_tab: new BooleanPreference({\n        key: \"insert_tab\",\n        default: true,\n        label: T.preferences.edit_mode.insert_tab,\n        description: T.preferences.edit_mode.insert_tab_description,\n        extras: { class: [CONFIG.CLASS.inlinePreference, CONFIG.CLASS.primaryInlinePreference] },\n    }),\n    insert_tab_content: new MultichoicePreference({\n        key: \"insert_tab_content\",\n        default: TAB,\n        label: T.preferences._.NO_LABEL,\n        options: [\n            {\n                value: TAB,\n                label: T.preferences.edit_mode.insert_tab_tab, // Without the type assertion, too small a type is inferred.\n            },\n        ].concat([2, 3, 4].map(n => ({\n            value: SPACE.repeat(n),\n            label: T.preferences.edit_mode.insert_tab_spaces(n),\n        }))),\n        extras: { class: [CONFIG.CLASS.inlinePreference] },\n    }),\n    remember_caret_position: new BooleanPreference({\n        key: \"remember_caret_position\",\n        default: true,\n        label: T.preferences.edit_mode.remember_caret_position,\n        description: T.preferences.edit_mode.remember_caret_position_description,\n    }),\n    remove_mobile_site_disclaimer: new BooleanPreference({\n        key: \"remove_mobile_site_disclaimer\",\n        default: true,\n        label: T.preferences.edit_mode.remove_mobile_site_disclaimer,\n        description: T.preferences.edit_mode.remove_mobile_site_disclaimer_description,\n    }),\n};\n","var n,l,u,i,t,o,r,f={},e=[],c=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function s(n,l){for(var u in l)n[u]=l[u];return n}function a(n){var l=n.parentNode;l&&l.removeChild(n)}function v(n,l,u){var i,t,o,r=arguments,f={};for(o in l)\"key\"==o?i=l[o]:\"ref\"==o?t=l[o]:f[o]=l[o];if(arguments.length>3)for(u=[u],o=3;o<arguments.length;o++)u.push(r[o]);if(null!=u&&(f.children=u),\"function\"==typeof n&&null!=n.defaultProps)for(o in n.defaultProps)void 0===f[o]&&(f[o]=n.defaultProps[o]);return h(n,f,i,t,null)}function h(l,u,i,t,o){var r={type:l,props:u,key:i,ref:t,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==o?++n.__v:o};return null!=n.vnode&&n.vnode(r),r}function y(){return{current:null}}function p(n){return n.children}function d(n,l){this.props=n,this.context=l}function _(n,l){if(null==l)return n.__?_(n.__,n.__.__k.indexOf(n)+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?_(n):null}function w(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return w(n)}}function k(l){(!l.__d&&(l.__d=!0)&&u.push(l)&&!g.__r++||t!==n.debounceRendering)&&((t=n.debounceRendering)||i)(g)}function g(){for(var n;g.__r=u.length;)n=u.sort(function(n,l){return n.__v.__b-l.__v.__b}),u=[],n.some(function(n){var l,u,i,t,o,r,f;n.__d&&(r=(o=(l=n).__v).__e,(f=l.__P)&&(u=[],(i=s({},o)).__v=o.__v+1,t=$(f,o,i,l.__n,void 0!==f.ownerSVGElement,null!=o.__h?[r]:null,u,null==r?_(o):r,o.__h),j(u,o),t!=r&&w(o)))})}function m(n,l,u,i,t,o,r,c,s,v){var y,d,w,k,g,m,b,A=i&&i.__k||e,P=A.length;for(s==f&&(s=null!=r?r[0]:P?_(i,0):null),u.__k=[],y=0;y<l.length;y++)if(null!=(k=u.__k[y]=null==(k=l[y])||\"boolean\"==typeof k?null:\"string\"==typeof k||\"number\"==typeof k?h(null,k,null,null,k):Array.isArray(k)?h(p,{children:k},null,null,null):null!=k.__e||null!=k.__c?h(k.type,k.props,k.key,null,k.__v):k)){if(k.__=u,k.__b=u.__b+1,null===(w=A[y])||w&&k.key==w.key&&k.type===w.type)A[y]=void 0;else for(d=0;d<P;d++){if((w=A[d])&&k.key==w.key&&k.type===w.type){A[d]=void 0;break}w=null}g=$(n,k,w=w||f,t,o,r,c,s,v),(d=k.ref)&&w.ref!=d&&(b||(b=[]),w.ref&&b.push(w.ref,null,k),b.push(d,k.__c||g,k)),null!=g?(null==m&&(m=g),s=x(n,k,w,A,r,g,s),v||\"option\"!=u.type?\"function\"==typeof u.type&&(u.__d=s):n.value=\"\"):s&&w.__e==s&&s.parentNode!=n&&(s=_(w))}if(u.__e=m,null!=r&&\"function\"!=typeof u.type)for(y=r.length;y--;)null!=r[y]&&a(r[y]);for(y=P;y--;)null!=A[y]&&L(A[y],A[y]);if(b)for(y=0;y<b.length;y++)I(b[y],b[++y],b[++y])}function b(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(Array.isArray(n)?n.some(function(n){b(n,l)}):l.push(n)),l}function x(n,l,u,i,t,o,r){var f,e,c;if(void 0!==l.__d)f=l.__d,l.__d=void 0;else if(t==u||o!=r||null==o.parentNode)n:if(null==r||r.parentNode!==n)n.appendChild(o),f=null;else{for(e=r,c=0;(e=e.nextSibling)&&c<i.length;c+=2)if(e==o)break n;n.insertBefore(o,r),f=r}return void 0!==f?f:o.nextSibling}function A(n,l,u,i,t){var o;for(o in u)\"children\"===o||\"key\"===o||o in l||C(n,o,null,u[o],i);for(o in l)t&&\"function\"!=typeof l[o]||\"children\"===o||\"key\"===o||\"value\"===o||\"checked\"===o||u[o]===l[o]||C(n,o,l[o],u[o],i)}function P(n,l,u){\"-\"===l[0]?n.setProperty(l,u):n[l]=null==u?\"\":\"number\"!=typeof u||c.test(l)?u:u+\"px\"}function C(n,l,u,i,t){var o,r,f;if(t&&\"className\"==l&&(l=\"class\"),\"style\"===l)if(\"string\"==typeof u)n.style.cssText=u;else{if(\"string\"==typeof i&&(n.style.cssText=i=\"\"),i)for(l in i)u&&l in u||P(n.style,l,\"\");if(u)for(l in u)i&&u[l]===i[l]||P(n.style,l,u[l])}else\"o\"===l[0]&&\"n\"===l[1]?(o=l!==(l=l.replace(/Capture$/,\"\")),(r=l.toLowerCase())in n&&(l=r),l=l.slice(2),n.l||(n.l={}),n.l[l+o]=u,f=o?N:z,u?i||n.addEventListener(l,f,o):n.removeEventListener(l,f,o)):\"list\"!==l&&\"tagName\"!==l&&\"form\"!==l&&\"type\"!==l&&\"size\"!==l&&\"download\"!==l&&\"href\"!==l&&!t&&l in n?n[l]=null==u?\"\":u:\"function\"!=typeof u&&\"dangerouslySetInnerHTML\"!==l&&(l!==(l=l.replace(/xlink:?/,\"\"))?null==u||!1===u?n.removeAttributeNS(\"http://www.w3.org/1999/xlink\",l.toLowerCase()):n.setAttributeNS(\"http://www.w3.org/1999/xlink\",l.toLowerCase(),u):null==u||!1===u&&!/^ar/.test(l)?n.removeAttribute(l):n.setAttribute(l,u))}function z(l){this.l[l.type+!1](n.event?n.event(l):l)}function N(l){this.l[l.type+!0](n.event?n.event(l):l)}function T(n,l,u){var i,t;for(i=0;i<n.__k.length;i++)(t=n.__k[i])&&(t.__=n,t.__e&&(\"function\"==typeof t.type&&t.__k.length>1&&T(t,l,u),l=x(u,t,t,n.__k,null,t.__e,l),\"function\"==typeof n.type&&(n.__d=l)))}function $(l,u,i,t,o,r,f,e,c){var a,v,h,y,_,w,k,g,b,x,A,P=u.type;if(void 0!==u.constructor)return null;null!=i.__h&&(c=i.__h,e=u.__e=i.__e,u.__h=null,r=[e]),(a=n.__b)&&a(u);try{n:if(\"function\"==typeof P){if(g=u.props,b=(a=P.contextType)&&t[a.__c],x=a?b?b.props.value:a.__:t,i.__c?k=(v=u.__c=i.__c).__=v.__E:(\"prototype\"in P&&P.prototype.render?u.__c=v=new P(g,x):(u.__c=v=new d(g,x),v.constructor=P,v.render=M),b&&b.sub(v),v.props=g,v.state||(v.state={}),v.context=x,v.__n=t,h=v.__d=!0,v.__h=[]),null==v.__s&&(v.__s=v.state),null!=P.getDerivedStateFromProps&&(v.__s==v.state&&(v.__s=s({},v.__s)),s(v.__s,P.getDerivedStateFromProps(g,v.__s))),y=v.props,_=v.state,h)null==P.getDerivedStateFromProps&&null!=v.componentWillMount&&v.componentWillMount(),null!=v.componentDidMount&&v.__h.push(v.componentDidMount);else{if(null==P.getDerivedStateFromProps&&g!==y&&null!=v.componentWillReceiveProps&&v.componentWillReceiveProps(g,x),!v.__e&&null!=v.shouldComponentUpdate&&!1===v.shouldComponentUpdate(g,v.__s,x)||u.__v===i.__v){v.props=g,v.state=v.__s,u.__v!==i.__v&&(v.__d=!1),v.__v=u,u.__e=i.__e,u.__k=i.__k,v.__h.length&&f.push(v),T(u,e,l);break n}null!=v.componentWillUpdate&&v.componentWillUpdate(g,v.__s,x),null!=v.componentDidUpdate&&v.__h.push(function(){v.componentDidUpdate(y,_,w)})}v.context=x,v.props=g,v.state=v.__s,(a=n.__r)&&a(u),v.__d=!1,v.__v=u,v.__P=l,a=v.render(v.props,v.state,v.context),v.state=v.__s,null!=v.getChildContext&&(t=s(s({},t),v.getChildContext())),h||null==v.getSnapshotBeforeUpdate||(w=v.getSnapshotBeforeUpdate(y,_)),A=null!=a&&a.type==p&&null==a.key?a.props.children:a,m(l,Array.isArray(A)?A:[A],u,i,t,o,r,f,e,c),v.base=u.__e,u.__h=null,v.__h.length&&f.push(v),k&&(v.__E=v.__=null),v.__e=!1}else null==r&&u.__v===i.__v?(u.__k=i.__k,u.__e=i.__e):u.__e=H(i.__e,u,i,t,o,r,f,c);(a=n.diffed)&&a(u)}catch(l){u.__v=null,(c||null!=r)&&(u.__e=e,u.__h=!!c,r[r.indexOf(e)]=null),n.__e(l,u,i)}return u.__e}function j(l,u){n.__c&&n.__c(u,l),l.some(function(u){try{l=u.__h,u.__h=[],l.some(function(n){n.call(u)})}catch(l){n.__e(l,u.__v)}})}function H(n,l,u,i,t,o,r,c){var s,a,v,h,y,p=u.props,d=l.props;if(t=\"svg\"===l.type||t,null!=o)for(s=0;s<o.length;s++)if(null!=(a=o[s])&&((null===l.type?3===a.nodeType:a.localName===l.type)||n==a)){n=a,o[s]=null;break}if(null==n){if(null===l.type)return document.createTextNode(d);n=t?document.createElementNS(\"http://www.w3.org/2000/svg\",l.type):document.createElement(l.type,d.is&&{is:d.is}),o=null,c=!1}if(null===l.type)p===d||c&&n.data===d||(n.data=d);else{if(null!=o&&(o=e.slice.call(n.childNodes)),v=(p=u.props||f).dangerouslySetInnerHTML,h=d.dangerouslySetInnerHTML,!c){if(null!=o)for(p={},y=0;y<n.attributes.length;y++)p[n.attributes[y].name]=n.attributes[y].value;(h||v)&&(h&&(v&&h.__html==v.__html||h.__html===n.innerHTML)||(n.innerHTML=h&&h.__html||\"\"))}A(n,d,p,t,c),h?l.__k=[]:(s=l.props.children,m(n,Array.isArray(s)?s:[s],l,u,i,\"foreignObject\"!==l.type&&t,o,r,f,c)),c||(\"value\"in d&&void 0!==(s=d.value)&&(s!==n.value||\"progress\"===l.type&&!s)&&C(n,\"value\",s,p.value,!1),\"checked\"in d&&void 0!==(s=d.checked)&&s!==n.checked&&C(n,\"checked\",s,p.checked,!1))}return n}function I(l,u,i){try{\"function\"==typeof l?l(u):l.current=u}catch(l){n.__e(l,i)}}function L(l,u,i){var t,o,r;if(n.unmount&&n.unmount(l),(t=l.ref)&&(t.current&&t.current!==l.__e||I(t,null,u)),i||\"function\"==typeof l.type||(i=null!=(o=l.__e)),l.__e=l.__d=void 0,null!=(t=l.__c)){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(l){n.__e(l,u)}t.base=t.__P=null}if(t=l.__k)for(r=0;r<t.length;r++)t[r]&&L(t[r],u,i);null!=o&&a(o)}function M(n,l,u){return this.constructor(n,u)}function O(l,u,i){var t,r,c;n.__&&n.__(l,u),r=(t=i===o)?null:i&&i.__k||u.__k,l=v(p,null,[l]),c=[],$(u,(t?u:i||u).__k=l,r||f,f,void 0!==u.ownerSVGElement,i&&!t?[i]:r?null:u.childNodes.length?e.slice.call(u.childNodes):null,c,i||f,t),j(c,l)}function S(n,l){O(n,l,o)}function q(n,l,u){var i,t,o,r=arguments,f=s({},n.props);for(o in l)\"key\"==o?i=l[o]:\"ref\"==o?t=l[o]:f[o]=l[o];if(arguments.length>3)for(u=[u],o=3;o<arguments.length;o++)u.push(r[o]);return null!=u&&(f.children=u),h(n.type,f,i||n.key,t||n.ref,null)}function B(n,l){var u={__c:l=\"__cC\"+r++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n,u,i){return this.getChildContext||(u=[],(i={})[l]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.some(k)},this.sub=function(n){u.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u.splice(u.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Provider.__=u.Consumer.contextType=u}n={__e:function(n,l){for(var u,i,t,o=l.__h;l=l.__;)if((u=l.__c)&&!u.__)try{if((i=u.constructor)&&null!=i.getDerivedStateFromError&&(u.setState(i.getDerivedStateFromError(n)),t=u.__d),null!=u.componentDidCatch&&(u.componentDidCatch(n),t=u.__d),t)return l.__h=o,u.__E=u}catch(l){n=l}throw n},__v:0},l=function(n){return null!=n&&void 0===n.constructor},d.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=s({},this.state),\"function\"==typeof n&&(n=n(s({},u),this.props)),n&&s(u,n),null!=n&&this.__v&&(l&&this.__h.push(l),k(this))},d.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),k(this))},d.prototype.render=p,u=[],i=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,g.__r=0,o=f,r=0;export{O as render,S as hydrate,v as createElement,v as h,p as Fragment,y as createRef,l as isValidElement,d as Component,q as cloneElement,B as createContext,b as toChildArray,L as __u,n as options};\n//# sourceMappingURL=preact.module.js.map\n","function insertTextFirefox(field, text) {\n    // Found on https://www.everythingfrontend.com/posts/insert-text-into-textarea-at-cursor-position.html \n    field.setRangeText(text, field.selectionStart || 0, field.selectionEnd || 0, 'end' // Without this, the cursor is either at the beginning or `text` remains selected\n    );\n    field.dispatchEvent(new InputEvent('input', {\n        data: text,\n        inputType: 'insertText',\n        isComposing: false // TODO: fix @types/jsdom, this shouldn't be required\n    }));\n}\n/** Inserts `text` at the cursors position, replacing any selection, with **undo** support and by firing the `input` event. */\nexport function insert(field, text) {\n    var document = field.ownerDocument;\n    var initialFocus = document.activeElement;\n    if (initialFocus !== field) {\n        field.focus();\n    }\n    if (!document.execCommand('insertText', false, text)) {\n        insertTextFirefox(field, text);\n    }\n    if (initialFocus === document.body) {\n        field.blur();\n    }\n    else if (initialFocus instanceof HTMLElement && initialFocus !== field) {\n        initialFocus.focus();\n    }\n}\n/** Replaces the entire content, equivalent to `field.value = text` but with **undo** support and by firing the `input` event. */\nexport function set(field, text) {\n    field.select();\n    insert(field, text);\n}\n/** Get the selected text in a field or an empty string if nothing is selected. */\nexport function getSelection(field) {\n    return field.value.slice(field.selectionStart, field.selectionEnd);\n}\n/** Adds the `wrappingText` before and after fields selection (or cursor). If `endWrappingText` is provided, it will be used instead of `wrappingText` at on the right. */\nexport function wrapSelection(field, wrap, wrapEnd) {\n    var selectionStart = field.selectionStart, selectionEnd = field.selectionEnd;\n    var selection = getSelection(field);\n    insert(field, wrap + selection + (wrapEnd !== null && wrapEnd !== void 0 ? wrapEnd : wrap));\n    // Restore the selection around the previously-selected text\n    field.selectionStart = selectionStart + wrap.length;\n    field.selectionEnd = selectionEnd + wrap.length;\n}\n/** Finds and replaces strings and regex in the fields value, like `field.value = field.value.replace()` but better */\nexport function replace(field, searchValue, replacer) {\n    /** Remembers how much each match offset should be adjusted */\n    var drift = 0;\n    field.value.replace(searchValue, function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        // Select current match to replace it later\n        var matchStart = drift + args[args.length - 2];\n        var matchLength = args[0].length;\n        field.selectionStart = matchStart;\n        field.selectionEnd = matchStart + matchLength;\n        var replacement = typeof replacer === 'string' ? replacer : replacer.apply(void 0, args);\n        insert(field, replacement);\n        // Select replacement. Without this, the cursor would be after the replacement\n        field.selectionStart = matchStart;\n        drift += replacement.length - matchLength;\n        return replacement;\n    });\n}\n","import * as BB from \"bbcode-tags\";\nimport * as textFieldEdit from \"text-field-edit\";\nimport { isNumber } from \"ts-type-guards\";\nimport * as CONFIG from \"~src/config\";\nexport function indent(s) {\n    return CONFIG.CONTENT.indentation + s;\n}\nexport function wrapIn(textarea, w) {\n    const replacement = w.before + selectedTextIn(textarea) + w.after;\n    // Since wrapping doesn't delete any text, undo support is not relevant and replacing is always safe.\n    const insertionResult = insertPure(textarea, { string: replacement, replace: true });\n    // We must use textFieldEdit.wrapSelection, because if we use insertPure + textFieldEdit.set, the entire textarea content gets selected when the user issues an undo command.\n    textFieldEdit.wrapSelection(textarea, w.before, w.after);\n    // Since we use the insertion result here, it must represent the same modification of the textarea content as textFieldEdit.wrapSelection.\n    if (isNumber(w.cursor)) {\n        placeCursorIn(textarea, insertionResult.startOfInserted + w.cursor);\n    }\n    else {\n        selectRangeIn(textarea, insertionResult.startOfInserted + w.before.length, insertionResult.endOfInserted - w.after.length);\n    }\n}\nexport function wrap_verbatim(w) {\n    return (textarea, _) => wrapIn(textarea, w);\n}\nexport function wrap_tag(w) {\n    const spacing = w.block ? \"\\n\" : \"\";\n    return wrap_verbatim({\n        before: BB.start(w.tag, w.parameterized ? \"\" : undefined) + spacing,\n        after: spacing + BB.end(w.tag),\n        cursor: (w.parameterized\n            ? 1 + w.tag.length + 2 // 1 for '[', 2 for '=\"'\n            : \"KEEP_SELECTION\"),\n    });\n}\nexport function selectedTextIn(textarea) {\n    return textarea.value.substring(textarea.selectionStart, textarea.selectionEnd);\n}\n// Simple insertion. Selected text is kept in the absence of undo support to protect against accidental deletion.\nexport function insert(str) {\n    return (textarea, undoSupport) => insertIn(textarea, { string: str, replace: undoSupport });\n}\nexport function insertIn(textarea, insertion) {\n    // The caller of this function is fully responsible for deciding whether to replace selected text or not.\n    // textFieldEdit.insert replaces selected text, so if that's not desired, we'll first unselect it such that the insertion is done after the selection.\n    if (!insertion.replace) {\n        placeCursorIn(textarea, textarea.selectionEnd);\n    }\n    // We must use textFieldEdit.insert, because if we use insertPure + textFieldEdit.set, the entire textarea content gets selected when the user issues an undo command.\n    textFieldEdit.insert(textarea, insertion.string);\n    textarea.focus();\n}\nfunction insertPure(textarea, insertion) {\n    const text = textarea.value;\n    const start = textarea.selectionStart;\n    const end = textarea.selectionEnd;\n    const startOfInsertedText = insertion.replace ? start : end;\n    return {\n        textareaContent: text.substring(0, startOfInsertedText) + insertion.string + text.substring(end),\n        startOfInserted: startOfInsertedText,\n        endOfInserted: startOfInsertedText + insertion.string.length,\n    };\n}\nexport function placeCursorIn(textarea, position) {\n    selectRangeIn(textarea, position, position);\n}\nexport function selectRangeIn(textarea, start, end) {\n    textarea.setSelectionRange(start, end);\n    textarea.focus(); // Must be after setSelectionRange to avoid scrolling to the bottom of the textarea in Chrome.\n}\n","import * as CONFIG from \"~src/config\";\nimport * as T from \"~src/text\";\nimport { insertIn, selectedTextIn } from \"../logic/textarea\";\nconst SPACE = / /g;\nconst CONSECUTIVE_SPACES = / +/g;\nexport default function (textarea, undoSupport) {\n    const selectedText = selectedTextIn(textarea);\n    let n; // Lets us short-circuit with undo support.\n    if (undoSupport || (n = confirmationNeeded(selectedText), n === false) || confirm(T.general.nbsps_confirm(n))) { // `confirm` is problematic in Chrome (see docs/dialogs.md), but Chrome has full undo support.\n        insertIn(textarea, {\n            string: selectedText.replace(SPACE, CONFIG.NBSP),\n            replace: true,\n        });\n    }\n}\n// A heuristic intended to catch cases when the user likely didn't mean to replace spaces with NBSPs and/or it would be cumbersome to restore the change without undo support.\nfunction confirmationNeeded(selectedText) {\n    var _a, _b;\n    const numberOfSelectedSpaces = ((_a = selectedText.match(SPACE)) === null || _a === void 0 ? void 0 : _a.length) || 0;\n    const numberOfSelectedSpaceSegments = ((_b = selectedText.match(CONSECUTIVE_SPACES)) === null || _b === void 0 ? void 0 : _b.length) || 0;\n    // Replacing a large number of spread-out spaces with NBSPs is both uncommon and time-consuming to restore.\n    const confirmationNeeded = numberOfSelectedSpaces > 10 && numberOfSelectedSpaceSegments > 3;\n    return confirmationNeeded ? numberOfSelectedSpaces : false;\n}\n","import * as BB from \"bbcode-tags\";\nimport { searchURL } from \"~src/search-engines\";\nimport * as SITE from \"~src/site\";\nimport { selectedTextIn, wrapIn } from \"../logic/textarea\";\nexport default (engine) => (textarea, _) => {\n    const tagName = SITE.TAG.url;\n    const selected = selectedTextIn(textarea);\n    const startTag = BB.start(tagName, searchURL(engine, selected));\n    wrapIn(textarea, {\n        before: startTag,\n        after: BB.end(tagName),\n        cursor: selected === \"\" ? startTag.length - 2 /* for \"] */ : \"KEEP_SELECTION\",\n    });\n};\n","import * as BB from \"bbcode-tags\";\nimport { lines, unlines } from \"lines-unlines\";\nimport * as CONFIG from \"~src/config\";\nimport * as SITE from \"~src/site\";\nimport * as T from \"~src/text\";\nimport { insertIn, selectedTextIn } from \"../logic/textarea\";\nexport default function (textarea, undoSupport) {\n    const selectedText = selectedTextIn(textarea);\n    const selectedLines = lines(selectedText);\n    if (undoSupport || !shibeConfirmationNeeded(selectedLines) || confirm(T.general.generic_lines_confirm(selectedLines.length))) { // `confirm` is problematic in Chrome (see docs/dialogs.md), but Chrome has full undo support.\n        insertIn(textarea, {\n            string: shibeText(selectedText),\n            replace: true,\n        });\n    }\n}\n// A heuristic intended to catch cases when the user likely didn't mean to apply shibe formatting and/or it would be cumbersome to restore the change without undo support.\nfunction shibeConfirmationNeeded(selectedLines) {\n    const nonEmptyLines = selectedLines.filter(line => line !== \"\");\n    const longestLineLength = Math.max(...nonEmptyLines.map(line => line.length));\n    // Shibe formatting is usually applied to a few short lines of text (\"wow\" etc), and content worth protecting tends to have more and/or longer lines.\n    return nonEmptyLines.length > 5 || longestLineLength > 15;\n}\nfunction shibeText(original) {\n    const MAX = 100;\n    return unlines(lines(original).map(line => [\n        BB.start(SITE.TAG.font, CONFIG.CONTENT.shibeFont),\n        BB.start(SITE.TAG.color, CONFIG.CONTENT.shibeColor),\n        BB.start(SITE.TAG.i),\n        CONFIG.NBSP.repeat(randomIntBetween(0, Math.max(0, MAX - line.length))),\n        line,\n        BB.end(SITE.TAG.i),\n        BB.end(SITE.TAG.color),\n        BB.end(SITE.TAG.font),\n    ].join(\"\")));\n}\nfunction randomIntBetween(min, max) {\n    return Math.floor(Math.random() * (max - min + 1)) + min;\n}\n","import * as BB from \"bbcode-tags\";\nimport * as CONFIG from \"~src/config\";\nimport * as SITE from \"~src/site\";\nimport { r } from \"~src/utilities\";\nimport { insertIn, placeCursorIn } from \"../logic/textarea\";\nexport default function (textarea, undoSupport) {\n    // Yes, this code is hard to understand. It was conceived using a considerable amount of trial and error.\n    const beforeSelection = textarea.value.substring(0, textarea.selectionStart);\n    const afterSelection = textarea.value.substring(textarea.selectionEnd);\n    const existingNewlinesBeforeSelection = lengthOfGuaranteedMatchIn(beforeSelection, /\\n*$/);\n    const existingNewlinesAfterSelection = lengthOfGuaranteedMatchIn(afterSelection, /^\\n*/);\n    const cursorIsBetweenTwoExistingQuotes = (new RegExp(r `\\[\\/${SITE.TAG.quote}\\]$`, \"i\").test(beforeSelection.trimRight())\n        &&\n            new RegExp(r `^\\[${SITE.TAG.quote}`, \"i\").test(afterSelection.trimLeft()));\n    if (cursorIsBetweenTwoExistingQuotes) {\n        // Just insert empty lines and place the cursor accordingly.\n        const numberOfNewlinesToInsert = Math.max(0, // Using a negative value with String.prototype.repeat is a RangeError.\n        CONFIG.CONTENT.splitQuoteEmptyLines + 1 - existingNewlinesBeforeSelection - existingNewlinesAfterSelection);\n        // If there are more newlines than we'd like between the quotes, they will be left untouched, because we don't want to mess with deleting content.\n        insertIn(textarea, {\n            string: \"\\n\".repeat(numberOfNewlinesToInsert),\n            replace: undoSupport,\n        });\n        placeCursorIn(textarea, beforeSelection.length - existingNewlinesBeforeSelection + 1); // + 1 to get past the first line break\n    }\n    else {\n        // Add quote tags and place cursor.\n        const startTag = BB.start(SITE.TAG.quote);\n        const endTag = BB.end(SITE.TAG.quote);\n        const extraNewlineBeforeSelectionNeeded = existingNewlinesBeforeSelection === 0;\n        const extraNewlineAfterSelectionNeeded = existingNewlinesAfterSelection === 0;\n        insertIn(textarea, { string: [\n                extraNewlineBeforeSelectionNeeded ? \"\\n\" : \"\",\n                endTag,\n                \"\\n\".repeat(CONFIG.CONTENT.splitQuoteEmptyLines + 1),\n                startTag,\n                extraNewlineAfterSelectionNeeded ? \"\\n\" : \"\",\n            ].join(\"\"), replace: undoSupport });\n        placeCursorIn(textarea, beforeSelection.length + (extraNewlineBeforeSelectionNeeded ? 1 : 0) + endTag.length + 1); // + 1 to get past a line break\n    }\n}\nfunction lengthOfGuaranteedMatchIn(s, regexThatAlwaysMatches) {\n    // This function should only be used with regexes that always match (which can't be statically checked).\n    return s.match(regexThatAlwaysMatches)[0].length;\n}\n","export const SMILEYS = [\n    // Pairs of BBCode code and CSS class:\n    [\":)\", \"smiley-smile\"],\n    [\";)\", \"smiley-wink\"],\n    [\":D\", \"smiley-biggrin\"],\n    [\":P\", \"smiley-tongue\"],\n    [\":O\", \"smiley-surprised\"],\n    [\":(\", \"smiley-frown\"],\n    [\";(\", \"smiley-cry\"],\n    [\":|\", \"smiley-speechless\"],\n    [\":arrow:\", \"smiley-arrow\"],\n    [\":up:\", \"smiley-up\"],\n    [\":down:\", \"smiley-down\"],\n    [\":confused:\", \"smiley-confused\"],\n    [\":mad:\", \"smiley-mad\"],\n    [\":lol:\", \"smiley-lol\"],\n    [\":joyful:\", \"smiley-joyful\"],\n    [\":cool:\", \"smiley-cool\"],\n    [\":ninja:\", \"smiley-ninja\"],\n    [\":innocent:\", \"smiley-innocent\"],\n    [\":rolleyes:\", \"smiley-rolleyes\"],\n];\nexport function codeFor(smiley) {\n    return smiley[0];\n}\nexport function classFor(smiley) {\n    return smiley[1];\n}\n","import * as BB from \"bbcode-tags\";\nimport classNames from \"classnames\";\nimport { lines, unlines } from \"lines-unlines\";\nimport { h } from \"preact\";\nimport * as CONFIG from \"~src/config\";\nimport iconExpander from \"~src/icons/expander.svg\";\nimport iconQuote from \"~src/icons/quote.svg\";\nimport iconSearchLink from \"~src/icons/search-link.svg\";\nimport iconSplitQuote from \"~src/icons/split-quote.svg\";\nimport * as SITE from \"~src/site\";\nimport * as T from \"~src/text\";\nimport { fromMaybeUndefined } from \"~src/utilities\";\nimport ACTION_REPLACE_SPACES_WITH_NBSPS from \"../actions/replace-spaces-with-nbsps\";\nimport ACTION_SEARCH_LINK from \"../actions/search-link\";\nimport ACTION_SHIBE from \"../actions/shibe\";\nimport ACTION_SPLIT_QUOTE from \"../actions/split-quote\";\nimport * as Smileys from \"./smileys\";\nimport { insert, insertIn, selectedTextIn, wrap_tag, wrap_verbatim } from \"./textarea\";\nexport const BUTTON = {\n    nbsps: generalButton({\n        label: T.editing_tools.nbsps_label,\n        tooltip: T.editing_tools.nbsps_tooltip,\n        action: ACTION_REPLACE_SPACES_WITH_NBSPS,\n    }),\n    url: tagButton({\n        tag: SITE.TAG.url,\n        parameterized: true,\n        tooltip: T.editing_tools.url_tooltip,\n        icon: { type: \"RAW\", image: SITE.ICONS.toolbarIcon(SITE.ICONS.position_toolbar_url) },\n    }),\n    img: generalButton({\n        tooltip: T.editing_tools.img_tooltip,\n        action: ACTION_IMG,\n        icon: { type: \"RAW\", image: SITE.ICONS.toolbarIcon(SITE.ICONS.position_toolbar_img) },\n    }),\n    search: (engine) => generalButton({\n        tooltip: T.editing_tools.search_link_tooltip,\n        action: ACTION_SEARCH_LINK(engine),\n        icon: { type: \"RAW\", image: iconSearchLink },\n    }),\n    shibe: generalButton({\n        label: T.editing_tools.shibe_label,\n        tooltip: T.editing_tools.shibe_tooltip,\n        class: CONFIG.CLASS.shibe,\n        action: ACTION_SHIBE,\n    }),\n    doge: generalButton({\n        tooltip: T.editing_tools.doge_tooltip,\n        action: insert(CONFIG.CONTENT.doge),\n        icon: { type: \"URL\", image: CONFIG.ICONS.DOGE },\n    }),\n    quote: tagButton({\n        tag: SITE.TAG.quote,\n        parameterized: true,\n        block: true,\n        tooltip: T.editing_tools.quote_tooltip,\n        icon: { type: \"RAW\", image: iconQuote },\n    }),\n    splitQuote: generalButton({\n        tooltip: T.editing_tools.split_quote_tooltip,\n        action: ACTION_SPLIT_QUOTE,\n        icon: { type: \"RAW\", image: iconSplitQuote },\n    }),\n    expander: tagButton({\n        tag: SITE.TAG.expander,\n        tooltip: T.editing_tools.expander_tooltip,\n        block: true,\n        icon: { type: \"RAW\", image: iconExpander },\n    }),\n};\nexport const BUTTONS = {\n    meta: [\n        tagButton({ tag: SITE.TAG.ins, label: T.editing_tools.ins_label, tooltip: T.editing_tools.ins_tooltip }),\n        tagButton({ tag: SITE.TAG.del, label: T.editing_tools.del_label, tooltip: T.editing_tools.del_tooltip }),\n    ],\n    code: [\n        tagButton({ tag: SITE.TAG.noparse, tooltip: T.editing_tools.noparse_tooltip, class: CONFIG.CLASS.button_code }),\n        tagButton({ tag: SITE.TAG.pre, tooltip: T.editing_tools.pre_tooltip, block: true, class: CONFIG.CLASS.button_code }),\n        tagButton({ tag: SITE.TAG.cmd, tooltip: T.editing_tools.cmd_tooltip, class: CONFIG.CLASS.button_code }),\n        tagButton({ tag: SITE.TAG.code, tooltip: T.editing_tools.code_tooltip, block: true, class: CONFIG.CLASS.button_code }),\n    ],\n    math: [\n        tagButton({ tag: SITE.TAG.math, label: T.editing_tools.math_label, tooltip: T.editing_tools.math_tooltip, class: CONFIG.CLASS.button_math }),\n        tagButton({ tag: SITE.TAG.sub, label: T.editing_tools.sub_label, tooltip: T.editing_tools.sub_tooltip, class: CONFIG.CLASS.button_math }),\n        tagButton({ tag: SITE.TAG.sup, label: T.editing_tools.sup_label, tooltip: T.editing_tools.sup_tooltip, class: CONFIG.CLASS.button_math }),\n    ],\n    whitespace: [\n        BUTTON.nbsps,\n    ],\n    definitions: [\n        tagButton({ tag: SITE.TAG.dl, label: T.editing_tools.dl_label, tooltip: T.editing_tools.dl_tooltip, block: true }),\n        tagButton({ tag: SITE.TAG.dt, label: T.editing_tools.dt_label, tooltip: T.editing_tools.dt_tooltip }),\n        tagButton({ tag: SITE.TAG.dd, label: T.editing_tools.dd_label, tooltip: T.editing_tools.dd_tooltip }),\n    ],\n    embed: (searchEngine) => [\n        BUTTON.url,\n        BUTTON.img,\n        BUTTON.search(searchEngine),\n    ],\n    doge: [\n        BUTTON.shibe,\n        BUTTON.doge,\n    ],\n};\nexport const COLORS = [\n    \"#D00\",\n    \"#C15200\",\n    \"#EE8500\",\n    \"#EC0\",\n    \"#20A000\",\n    \"#789922\",\n    \"#106400\",\n    \"#0BC\",\n    \"#24F\",\n    \"#1525D0\",\n    \"#9000B5\",\n    \"black\",\n    \"gray\",\n    \"white\",\n    \"red\",\n    \"yellow\",\n    \"lime\",\n    \"green\",\n    \"aqua\",\n    \"blue\",\n    \"magenta\",\n];\nexport function tagButton(button) {\n    return generalButton({\n        label: fromMaybeUndefined(button.icon === undefined ? button.tag : \"\", button.label),\n        tooltip: button.tooltip,\n        class: button.class,\n        icon: button.icon,\n        action: wrap_tag({\n            tag: button.tag,\n            parameterized: fromMaybeUndefined(false, button.parameterized),\n            block: fromMaybeUndefined(false, button.block),\n        }),\n    });\n}\nexport function insertButton(button) {\n    return generalButton({\n        label: fromMaybeUndefined(button.insert, button.label),\n        tooltip: button.tooltip,\n        action: insert(button.insert),\n    });\n}\nexport function colorButton(color) {\n    return generalButton({\n        label: \"\",\n        tooltip: color,\n        style: `background: ${color};`,\n        action: wrap_verbatim({\n            before: BB.start(SITE.TAG.color, color),\n            after: BB.end(SITE.TAG.color),\n            cursor: \"KEEP_SELECTION\",\n        }),\n    });\n}\nexport function smileyButton(smiley) {\n    return generalButton({\n        label: \"\",\n        tooltip: Smileys.codeFor(smiley),\n        custom: true,\n        class: classNames(SITE.CLASS.smiley, Smileys.classFor(smiley)),\n        action: insert(\" \" + Smileys.codeFor(smiley) + \" \"), // Spaces are necessary around a smiley. (Multiple ones collapse.)\n    });\n}\nexport function generalButton(button) {\n    return (textarea, undoSupport) => {\n        const icon = button.icon;\n        const label = (icon === undefined ? \"\" : icon.type === \"URL\" ? `<img src=\"${icon.image}\" />` : icon.image) + fromMaybeUndefined(\"\", button.label);\n        const className = [\n            button.class || \"\",\n            button.custom ? \"\" : SITE.CLASS.button,\n            icon === undefined ? \"\" : \" \" + CONFIG.CLASS.iconButton,\n        ].join(\" \").trim();\n        return (h(\"a\", { dangerouslySetInnerHTML: { __html: label }, title: button.tooltip, class: className, style: button.style, onClick: () => button.action(textarea, undoSupport), href: \"javascript:void(0)\" }));\n    };\n}\nexport function toolbarButton(button) {\n    return (textarea, undoSupport) => (h(\"div\", { title: button.tooltip, class: [SITE.CLASS.toolbarButton, button.class || \"\"].join(\" \").trim(), style: button.style },\n        h(\"div\", { class: SITE.CLASS.inner, onClick: () => button.action(textarea, undoSupport) },\n            h(\"div\", { class: SITE.CLASS.toolbarButtonIcon }))));\n}\nfunction ACTION_IMG(textarea, undoSupport) {\n    const selection = selectedTextIn(textarea);\n    if (!selection.includes(\"\\n\")) {\n        wrap_tag({ tag: SITE.TAG.img, parameterized: false, block: false })(textarea, undoSupport);\n    }\n    else {\n        const imgify = (line) => line.trim() === \"\" ? \"\" : BB.start(SITE.TAG.img) + line.trim() + BB.end(SITE.TAG.img);\n        insertIn(textarea, { string: unlines(lines(selection).map(imgify)), replace: true });\n    }\n}\n","export default \"<svg version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 64 64\\\">\\n    <circle stroke=\\\"#888\\\" stroke-width=\\\"5\\\" r=\\\"20\\\" cx=\\\"41\\\" cy=\\\"23\\\" fill=\\\"none\\\"/>\\n    <line x1=\\\"4\\\" y1=\\\"60\\\" x2=\\\"28\\\" y2=\\\"36\\\" stroke=\\\"#888\\\" stroke-width=\\\"10\\\" />\\n</svg>\\n\";","export default \"<svg version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 32 32\\\">\\n    <rect x=\\\"1\\\" y=\\\"1\\\" width=\\\"30\\\" height=\\\"30\\\" stroke=\\\"#444\\\" fill=\\\"#d7d5d1\\\" stroke-width=\\\"2\\\"/>\\n    <text x=\\\"4\\\" y=\\\"18\\\" style=\\\"fill: #444; font-family: Georgia, serif; font-size: 20px\\\"></text>\\n    <text       y=\\\"13\\\" style=\\\"fill: #444; font-family: sans-serif; font-size: 4px\\\">\\n        <tspan x=\\\"4\\\" dy=\\\"1.2em\\\">Dumheter</tspan>\\n        <tspan x=\\\"4\\\" dy=\\\"1.2em\\\">som mste</tspan>\\n        <tspan x=\\\"4\\\" dy=\\\"1.2em\\\">besvaras.</tspan>\\n    </text>\\n</svg>\\n\";","export default \"<svg version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 32 32\\\">\\n    <rect x=\\\"1\\\" y=\\\"-3\\\" width=\\\"30\\\" height=\\\"10\\\" stroke=\\\"#444\\\" fill=\\\"#d7d5d1\\\" stroke-width=\\\"2\\\"/>\\n    <rect x=\\\"1\\\" y=\\\"19\\\" width=\\\"30\\\" height=\\\"22\\\" stroke=\\\"#444\\\" fill=\\\"#d7d5d1\\\" stroke-width=\\\"2\\\"/>\\n    <text x=\\\"0\\\" y=\\\"13\\\" style=\\\"fill: #444; font-family: sans-serif; font-size: 4px\\\">Du har fel.</text>\\n    <text x=\\\"4\\\" y=\\\"36\\\" style=\\\"fill: #444; font-family: Georgia, serif; font-size: 20px\\\"></text>\\n</svg>\\n\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 32 32\\\">\\n    <rect x=\\\"1\\\" y=\\\"1\\\" width=\\\"30\\\" height=\\\"30\\\" stroke=\\\"#888\\\" stroke-width=\\\"2\\\" fill=\\\"#d7d5d1\\\"/>\\n    <polyline points=\\\"0,0  8,4  0,8\\\" fill=\\\"black\\\" transform=\\\"translate(6, 4)\\\"/>\\n    <line x1=\\\"4\\\" x2=\\\"28\\\" y1=\\\"0\\\" y2=\\\"0\\\" transform=\\\"translate(0, 15)\\\" stroke=\\\"#888\\\" stroke-width=\\\"2\\\"/>\\n    <g transform=\\\"translate(10, 23)\\\">\\n        <circle id=\\\"circle\\\" cx=\\\"0\\\" cy=\\\"0\\\" r=\\\"2\\\" fill=\\\"#444\\\"/>\\n        <use href=\\\"#circle\\\" xlink:href=\\\"#circle\\\" transform=\\\"translate(6,0)\\\"/>\\n        <use href=\\\"#circle\\\" xlink:href=\\\"#circle\\\" transform=\\\"translate(12,0)\\\"/>\\n    </g>\\n</svg>\\n\";","import { render } from \"preact\";\nimport { isString } from \"ts-type-guards\";\nimport { log } from \"userscripter\";\nimport { truncate } from \"~src/utilities\";\n/**\n * Renders a virtual node at a specific position in a parent element.\n * @param parent The element to render inside.\n * @param insert A function describing where in the parent element the rendered element should be inserted. It will be given `{ parent, placeholder }` and will be assumed to actually insert `placeholder` directly under `parent`.\n * @param vnode The virtual node to render.\n */\nexport function renderIn(parent, insert, vnode) {\n    const placeholder = document.createTextNode(\"\"); // Doesn't matter what type of node we use here, because it will be replaced by the rendered element.\n    insert({ parent, placeholder });\n    if (placeholder.parentNode === parent) { // \"If the optional replaceNode parameter is provided, it must be a child of containerNode.\" https://preactjs.com/guide/v10/api-reference/\n        render(vnode, parent, placeholder);\n    }\n    else {\n        const nodeType = isString(vnode.type) ? ` \"${vnode.type}\"` : \"\"; // Cluttered message if it's not a string.\n        const nodeProps = truncate(200, JSON.stringify(vnode.props)); // Cluttered message if it's too long.\n        log.error(`Placeholder for virtual${nodeType} node with properties\\n\\n    ${nodeProps}\\n\\nwas not inserted directly under the intended parent element.`);\n    }\n}\nexport const insertAtTheEnd = (({ parent, placeholder }) => {\n    parent.append(placeholder);\n});\nexport const insertAtTheBeginning = (({ parent, placeholder }) => {\n    parent.prepend(placeholder);\n});\nexport const insertBefore = (reference => ({ parent, placeholder }) => {\n    parent.insertBefore(placeholder, reference);\n});\nexport const insertAfter = (reference => ({ parent, placeholder }) => {\n    parent.insertBefore(placeholder, reference.nextSibling); // If reference.nextSibling is null, reference is the last child and placeholder will be inserted after it.\n});\n","import { BooleanPreference, MultichoicePreference, } from \"ts-preferences\";\nimport * as CONFIG from \"~src/config\";\nimport { BUTTONS, insertButton } from \"~src/operations/logic/editing-tools\";\nimport { insertAtTheEnd, renderIn } from \"~src/operations/logic/render\";\nimport * as T from \"~src/text\";\nfunction buttonsDescription(buttons) {\n    const textarea = document.createElement(\"textarea\");\n    const undoSupport = true; // The buttons are only used for illustrative purposes, not actual text editing.\n    const connectedButtons = buttons.map(b => b(textarea, undoSupport));\n    const div = document.createElement(\"div\");\n    for (const b of connectedButtons) {\n        renderIn(div, insertAtTheEnd, b);\n    }\n    return div.innerHTML;\n}\nconst enable = new BooleanPreference({\n    key: \"editing_tools\",\n    default: true,\n    label: T.preferences.editing_tools.enable,\n    description: T.preferences.editing_tools.enable_description,\n    extras: { class: [CONFIG.CLASS.inlinePreference, CONFIG.CLASS.primaryInlinePreference] },\n});\nconst dependencies = [\n    {\n        preference: enable,\n        condition: (v) => v,\n    },\n];\nexport var Position;\n(function (Position) {\n    Position[\"ABOVE\"] = \"above\";\n    Position[\"BELOW\"] = \"below\";\n})(Position || (Position = {}));\nexport default {\n    enable,\n    in_quick_reply_form: new BooleanPreference({\n        key: \"editing_tools_in_quick_reply_form\",\n        default: true,\n        label: T.preferences._.in_quick_reply_form,\n        description: T.preferences._.in_quick_reply_form_description,\n        extras: { class: CONFIG.CLASS.inlinePreference },\n    }),\n    position: new MultichoicePreference({\n        key: \"editing_tools_position\",\n        default: \"below\" /* Position.BELOW */,\n        label: T.preferences.editing_tools.position.label,\n        description: T.preferences.editing_tools.position.description,\n        options: [\n            {\n                value: \"above\" /* Position.ABOVE */,\n                label: T.preferences.editing_tools.position.above,\n            },\n            {\n                value: \"below\" /* Position.BELOW */,\n                label: T.preferences.editing_tools.position.below,\n            },\n        ],\n        dependencies,\n    }),\n    special_characters: new BooleanPreference({\n        key: \"editing_tools_special_characters\",\n        default: true,\n        label: T.preferences.editing_tools.special_characters,\n        extras: {\n            more: buttonsDescription(T.special_characters.slice(0, 5).map(insertButton)) + \"\",\n            class: CONFIG.CLASS.editingTools,\n        },\n        dependencies,\n    }),\n    meta: new BooleanPreference({\n        key: \"editing_tools_meta\",\n        default: true,\n        label: T.preferences.editing_tools.meta,\n        extras: {\n            more: buttonsDescription(BUTTONS.meta),\n            class: CONFIG.CLASS.editingTools,\n        },\n        dependencies,\n    }),\n    code: new BooleanPreference({\n        key: \"editing_tools_code\",\n        default: true,\n        label: T.preferences.editing_tools.code,\n        extras: {\n            more: buttonsDescription(BUTTONS.code),\n            class: CONFIG.CLASS.editingTools,\n        },\n        dependencies,\n    }),\n    math: new BooleanPreference({\n        key: \"editing_tools_math\",\n        default: true,\n        label: T.preferences.editing_tools.math,\n        extras: {\n            more: buttonsDescription(BUTTONS.math),\n            class: CONFIG.CLASS.editingTools,\n        },\n        dependencies,\n    }),\n    whitespace: new BooleanPreference({\n        key: \"editing_tools_whitespace\",\n        default: true,\n        label: T.preferences.editing_tools.whitespace,\n        extras: {\n            more: buttonsDescription(BUTTONS.whitespace),\n            class: CONFIG.CLASS.editingTools,\n        },\n        dependencies,\n    }),\n    definitions: new BooleanPreference({\n        key: \"editing_tools_definitions\",\n        default: true,\n        label: T.preferences.editing_tools.definitions,\n        extras: {\n            more: buttonsDescription(BUTTONS.definitions),\n            class: CONFIG.CLASS.editingTools,\n        },\n        dependencies,\n    }),\n    embed: new BooleanPreference({\n        key: \"editing_tools_embed\",\n        default: true,\n        label: T.preferences.editing_tools.embed,\n        extras: {\n            more: buttonsDescription(BUTTONS.embed(\"Google\" /* SearchEngine.GOOGLE */)),\n            class: CONFIG.CLASS.editingTools,\n        },\n        dependencies,\n    }),\n    search_engine: new MultichoicePreference({\n        key: \"search_engine\",\n        default: \"Google\" /* SearchEngine.GOOGLE */,\n        label: T.preferences.editing_tools.search_engine.label,\n        description: T.preferences.editing_tools.search_engine.description,\n        options: [\n            {\n                value: \"Google\" /* SearchEngine.GOOGLE */,\n                label: \"Google\" /* SearchEngine.GOOGLE */,\n            },\n            {\n                value: \"DuckDuckGo\" /* SearchEngine.DUCKDUCKGO */,\n                label: \"DuckDuckGo\" /* SearchEngine.DUCKDUCKGO */,\n            },\n        ],\n    }),\n    doge: new BooleanPreference({\n        key: \"editing_tools_doge\",\n        default: false,\n        label: T.preferences.editing_tools.doge,\n        extras: {\n            more: T.preferences.editing_tools.doge_description,\n            class: [CONFIG.CLASS.shibe, CONFIG.CLASS.editingTools].join(\" \"),\n        },\n        dependencies,\n    }),\n    color_palette: new BooleanPreference({\n        key: \"editing_tools_color_palette\",\n        default: true,\n        label: T.preferences.editing_tools.color_palette,\n        description: T.preferences.editing_tools.color_palette_description,\n        extras: { class: CONFIG.CLASS.editingTools },\n        dependencies,\n    }),\n    smileys: new BooleanPreference({\n        key: \"editing_tools_smileys\",\n        default: true,\n        label: T.preferences.editing_tools.smileys,\n        extras: { class: CONFIG.CLASS.editingTools },\n        dependencies,\n    }),\n};\n","import { BooleanPreference, StringPreference, } from \"ts-preferences\";\nimport * as T from \"~src/text\";\nconst quote_signature_buttons = new BooleanPreference({\n    key: \"quote_signature_buttons\",\n    default: true,\n    label: T.preferences.forum_threads.quote_signature_buttons,\n    description: T.preferences.forum_threads.quote_signature_buttons_description,\n});\nconst dependencies_quote_signature = [\n    {\n        preference: quote_signature_buttons,\n        condition: (v) => v,\n    },\n];\nexport default {\n    improved_pagination_buttons: new BooleanPreference({\n        key: \"improved_pagination_buttons\",\n        default: true,\n        label: T.preferences.forum_threads.improved_pagination_buttons,\n        description: T.preferences.forum_threads.improved_pagination_buttons_description,\n    }),\n    insert_link_to_top: new BooleanPreference({\n        key: \"insert_link_to_top\",\n        default: true,\n        label: T.preferences.forum_threads.insert_link_to_top,\n        description: T.preferences.forum_threads.insert_link_to_top_description,\n    }),\n    highlight_own_posts: new BooleanPreference({\n        key: \"highlight_own_posts\",\n        default: true,\n        label: T.preferences.forum_threads.highlight_own_posts,\n        description: T.preferences.forum_threads.highlight_own_posts_description,\n    }),\n    insert_pm_links: new BooleanPreference({\n        key: \"insert_pm_links\",\n        default: true,\n        label: T.preferences.forum_threads.insert_pm_links,\n        description: T.preferences.forum_threads.insert_pm_links_description,\n    }),\n    mention_everyone_button: new BooleanPreference({\n        key: \"mention_everyone_button\",\n        default: false,\n        label: T.preferences.forum_threads.mention_everyone_button,\n        description: T.preferences.forum_threads.mention_everyone_button_description,\n    }),\n    quote_signature_buttons,\n    quote_signature_message: new StringPreference({\n        key: \"quote_signature_message\",\n        default: T.preferences.forum_threads.quote_signature_message_default,\n        label: T.preferences.forum_threads.quote_signature_message,\n        description: T.preferences.forum_threads.quote_signature_message_description,\n        multiline: true,\n        dependencies: dependencies_quote_signature,\n    }),\n};\n","import { BooleanPreference, IntegerPreference, StringPreference, } from \"ts-preferences\";\nimport * as T from \"~src/text\";\nexport default {\n    lock_heights: new BooleanPreference({\n        key: \"lock_heights\",\n        default: true,\n        label: T.preferences.general.lock_heights,\n        description: T.preferences.general.lock_heights_description,\n    }),\n    improved_corrections: new BooleanPreference({\n        key: \"improved_corrections\",\n        default: true,\n        label: T.preferences.general.improved_corrections,\n        description: T.preferences.general.improved_corrections_description,\n    }),\n    insert_preferences_shortcut: new BooleanPreference({\n        key: \"insert_preferences_shortcut\",\n        default: true,\n        label: T.preferences.general.insert_preferences_shortcut,\n        description: T.preferences.general.insert_preferences_shortcut_description,\n    }),\n    replace_followed_threads_link: new BooleanPreference({\n        key: \"replace_followed_threads_link\",\n        default: false,\n        label: T.preferences.general.replace_followed_threads_link,\n        description: T.preferences.general.replace_followed_threads_link_description,\n    }),\n    redirect_home_page_to_archive: new BooleanPreference({\n        key: \"redirect_home_page_to_archive\",\n        default: false,\n        label: T.preferences.general.redirect_home_page_to_archive,\n        description: T.preferences.general.redirect_home_page_to_archive_description,\n    }),\n    remember_location_in_market: new BooleanPreference({\n        key: \"remember_location_in_market\",\n        default: true,\n        label: T.preferences.general.remember_location_in_market,\n        description: T.preferences.general.remember_location_in_market_description,\n    }),\n    location_region: new IntegerPreference({\n        key: \"location_region\",\n        default: 0,\n        label: T.preferences._.NO_LABEL,\n        extras: { implicit: true },\n    }),\n    location_city: new StringPreference({\n        key: \"location_city\",\n        default: \"\",\n        label: T.preferences._.NO_LABEL,\n        multiline: false,\n        extras: { implicit: true },\n    }),\n};\n","import { Preference } from \"./Preference\";\r\nexport class ListPreference extends Preference {\r\n    getClassName() { return \"ListPreference\"; }\r\n}\r\n//# sourceMappingURL=ListPreference.js.map","import { ListPreference } from \"ts-preferences\";\nimport * as T from \"~src/text\";\nexport default {\n    uninteresting_subforums: new ListPreference({\n        key: \"interests_uninteresting_subforums\",\n        label: T.preferences._.NO_LABEL,\n        default: [],\n    }),\n};\n","export var Action;\n(function (Action) {\n    Action[\"PREVIEW\"] = \"preview\";\n    Action[\"SUBMIT\"] = \"submit\";\n    Action[\"INSERT_TAB\"] = \"insert_tab\";\n    Action[\"INSERT_LINK\"] = \"insert_link\";\n})(Action || (Action = {}));\n","import { ListPreference } from \"ts-preferences\";\nimport { Action } from \"~src/actions\";\nimport * as T from \"~src/text\";\nexport default new ListPreference({\n    key: \"keyboard\",\n    label: T.preferences._.NO_LABEL,\n    default: [\n        { shortcut: \"mod+k\", action: Action.INSERT_LINK },\n        { shortcut: \"mod+s\", action: Action.SUBMIT },\n        { shortcut: \"mod+p\", action: Action.PREVIEW },\n        { shortcut: \"tab\", action: Action.INSERT_TAB },\n    ],\n    extras: { implicit: true },\n});\n","import { PreferenceManager } from \"ts-preferences\";\nimport { loggingResponseHandler, subscriptable } from \"userscripter/run-time/preferences\";\nimport * as CONFIG from \"~src/config\";\nimport * as T from \"~src/text\";\nimport U from \"~src/userscript\";\nimport advancedPreferences from \"./preferences/advanced\";\nimport customizeContentPreferences from \"./preferences/customize-content\";\nimport editModePreferences from \"./preferences/edit-mode\";\nimport editingToolsPreferences from \"./preferences/editing-tools\";\nimport forumThreadsPreferences from \"./preferences/forum-threads\";\nimport generalPreferences from \"./preferences/general\";\nimport interestsPreferences from \"./preferences/interests\";\nimport keyboardPreferences from \"./preferences/keyboard\";\nexport const P = {\n    general: {\n        label: T.preferences.general.label,\n        _: generalPreferences,\n    },\n    forum_threads: {\n        label: T.preferences.forum_threads.label,\n        _: forumThreadsPreferences,\n    },\n    edit_mode: {\n        label: T.preferences.edit_mode.label,\n        _: editModePreferences,\n    },\n    editing_tools: {\n        label: T.preferences.editing_tools.label,\n        _: editingToolsPreferences,\n        extras: { id: CONFIG.ID.editingToolsPreferences },\n    },\n    advanced: {\n        label: T.preferences.advanced.label,\n        _: advancedPreferences,\n    },\n    customize_content: {\n        label: T.preferences.customize_content.label,\n        _: customizeContentPreferences,\n    },\n    keyboard: keyboardPreferences,\n    interests: {\n        label: T.preferences.interests.label,\n        _: interestsPreferences,\n    },\n};\nexport const responseHandler = subscriptable(loggingResponseHandler);\nexport const Preferences = new PreferenceManager(P, U.id + \"-preference-\", responseHandler.handler);\n","import * as SITE from \"~src/site\";\nconst C = SITE.CLASS;\nconst settingsNavigation = `ul.${C.settingsNavigation}`;\nconst actionButtons = `button[name=action]`;\nconst actionButtonsQuickReply = `#quickreply .controls button`;\nconst forumPostContainer = \".\" + SITE.CLASS.forumPosts;\nconst signoutButton = `a[href=\"${SITE.PATH.SIGNOUT}\"]`;\nconst textareaToolbarInner = `form .toolbar .tbInner`;\nexport default {\n    textarea: \"textarea[name=message]\",\n    textareaToolbarInner,\n    textareaToolbarStrikeButton: textareaToolbarInner + ` .strike`,\n    textareaToolbarUnorderedListButton: textareaToolbarInner + ` .ul`,\n    proofDialogTextarea: `.${SITE.CLASS.proofDialog} textarea`,\n    threadTitle: `h1`,\n    moreArticles: `.mainContent ~ .mainContent`,\n    settingsNavigation,\n    actionButtons,\n    quoteButton: \"a.button.quote\",\n    previewButton: actionButtons + `[value=${SITE.FORM.value.preview}]`,\n    saveButton: actionButtons + `[value=${SITE.FORM.value.submit}]`,\n    saveButtonQuickReply: actionButtonsQuickReply + `:nth-of-type(1)`,\n    previewButtonQuickReply: actionButtonsQuickReply + `:nth-of-type(2)`,\n    forumPostContainer,\n    replyButtonAfterForumPosts: `${forumPostContainer} ~ * .replyToThread`,\n    cityInput: `input[name=\"city\"]`,\n    regionSelect: `select[name=\"location\"]`,\n    sideColumnGuides: `.videoPush.${C.sideBox}`,\n    sideColumnPopularGalleries: `.popularGalleries.${C.sideBox}`,\n    bbParagraph: `.bbParagraph`,\n    forumLink: `.subForums td:first-child > * a[href^=\"/forum/\"]`,\n    forumPost: \".\" + SITE.CLASS.forumPost,\n    forumPostAuthorLink: `a.name[itemprop=\"author\"]`,\n    linkedForumPost: `.` + SITE.CLASS.forumPost + `.is-linked`,\n    pageNavigationAfterForumPosts: `${forumPostContainer} ~ * .pages`,\n    quickReplyForm: `#quickreply form`,\n    signoutButton,\n    signinButtonOr: (selector) => `a[href=\"${SITE.PATH.SIGNIN}\"], ${selector}`,\n    followedThreadsLinkText: `#${SITE.ID.header} a[href=\"${SITE.PATH.FOLLOWED}\"] span`,\n    proofDialogCloseButton: \".\" + SITE.CLASS.proofDialog + \" .cntClose\",\n};\n","import * as Storage from \"ts-storage\";\nimport * as CONFIG from \"~src/config\";\nimport * as T from \"~src/text\";\nexport default (e) => {\n    const saveButton = e.saveButton; // Selector should ensure this.\n    const checkbox = document.createElement(\"input\");\n    checkbox.type = \"checkbox\";\n    const label = document.createElement(\"label\");\n    label.classList.add(CONFIG.CLASS.checkbox);\n    label.title = T.general.draft_mode_toggle_tooltip;\n    label.appendChild(checkbox);\n    const text = document.createTextNode(T.general.draft_mode_toggle_label);\n    label.appendChild(text);\n    const response = Storage.get_session(CONFIG.KEY.draft_mode, false);\n    if (![\"ABSENT\" /* Storage.Status.ABSENT */, \"OK\" /* Storage.Status.OK */].includes(response.status)) {\n        return `Could not read draft mode state (error type: ${response.status}).`;\n    }\n    const draftModeEnabled = response.value;\n    checkbox.checked = draftModeEnabled;\n    checkbox.addEventListener(\"change\", toggle(checkbox, saveButton));\n    (e.previewButton).insertAdjacentElement(\"afterend\", label);\n    apply(draftModeEnabled, saveButton);\n};\nfunction toggle(checkbox, saveButton) {\n    return _ => {\n        const draftModeEnabled = checkbox.checked;\n        Storage.set_session(CONFIG.KEY.draft_mode, draftModeEnabled);\n        apply(draftModeEnabled, saveButton);\n    };\n}\nfunction apply(draftModeEnabled, saveButton) {\n    saveButton.disabled = draftModeEnabled;\n    saveButton.title = draftModeEnabled ? T.general.draft_mode_enabled_tooltip : \"\";\n}\n","import { compose } from \"@typed/compose\";\nimport classNames from \"classnames\";\nimport { h } from \"preact\";\nimport * as CONFIG from \"~src/config\";\nimport { insertAfter, insertBefore, renderIn } from \"~src/operations/logic/render\";\nimport { P, Preferences } from \"~src/preferences\";\nimport * as SITE from \"~src/site\";\nimport * as T from \"~src/text\";\nimport { BUTTON, BUTTONS, COLORS, colorButton, insertButton, smileyButton, tagButton } from \"./logic/editing-tools\";\nimport { SMILEYS } from \"./logic/smileys\";\nexport default (undoSupport) => (e) => {\n    const textarea = e.textarea;\n    const position = Preferences.get(P.editing_tools._.position);\n    const insertBeforeOrAfter = position === \"above\" /* Position.ABOVE */ ? insertBefore : insertAfter;\n    const textareaParent = textarea.parentElement;\n    renderIn(textareaParent, insertBeforeOrAfter(textarea), (h(EditingTools, { textarea: textarea, config: getEditingToolsConfig(), undoSupport: undoSupport })));\n};\n// Needs to be a function because it's used \"live\" in the preferences menu:\nexport function getEditingToolsConfig() {\n    return {\n        special_characters: Preferences.get(P.editing_tools._.special_characters),\n        meta: Preferences.get(P.editing_tools._.meta),\n        code: Preferences.get(P.editing_tools._.code),\n        math: Preferences.get(P.editing_tools._.math),\n        whitespace: Preferences.get(P.editing_tools._.whitespace),\n        definitions: Preferences.get(P.editing_tools._.definitions),\n        embed: Preferences.get(P.editing_tools._.embed),\n        doge: Preferences.get(P.editing_tools._.doge),\n        color_palette: Preferences.get(P.editing_tools._.color_palette),\n        smileys: Preferences.get(P.editing_tools._.smileys),\n    };\n}\nexport function EditingTools(props) {\n    // A \"connected\" button has been connected to the textarea.\n    const connected = (b) => b(props.textarea, props.undoSupport);\n    const connectedTagButton = compose(connected, tagButton);\n    const connectedInsertButton = compose(connected, insertButton);\n    const connectedColorButton = compose(connected, colorButton);\n    const connectedSmileyButton = compose(connected, smileyButton);\n    return (h(\"div\", { id: CONFIG.ID.editingTools, class: classNames(CONFIG.CLASS.editingTools, { [CONFIG.CLASS.disabled]: props.disabled }, SITE.CLASS.bbcode) },\n        props.config.special_characters ? (h(\"fieldset\", null, T.special_characters.map(connectedInsertButton))) : null,\n        connectedTagButton({ tag: SITE.TAG.size, label: T.editing_tools.size_label, tooltip: T.editing_tools.size_tooltip, parameterized: true }),\n        connectedTagButton({ tag: SITE.TAG.color, parameterized: true, tooltip: T.editing_tools.color_tooltip, class: CONFIG.CLASS.button_color }),\n        connectedTagButton({ tag: SITE.TAG.font, tooltip: T.editing_tools.font_tooltip, parameterized: true }),\n        connectedTagButton({ tag: SITE.TAG.mark, label: T.editing_tools.mark_label, tooltip: T.editing_tools.mark_tooltip }),\n        connectedTagButton({ tag: SITE.TAG.abbr, label: T.editing_tools.abbr_label, parameterized: true, tooltip: T.editing_tools.abbr_tooltip }),\n        connected(BUTTON.quote),\n        connected(BUTTON.splitQuote),\n        connectedTagButton({ tag: SITE.TAG.bq, label: \"\", tooltip: T.editing_tools.bq_tooltip, block: true, icon: { type: \"RAW\", image: CONFIG.ICONS.BLOCKQUOTE }, class: CONFIG.CLASS.button_blockquote }),\n        connected(BUTTON.expander),\n        connectedTagButton({ tag: SITE.TAG.spoiler, tooltip: T.editing_tools.spoiler_tooltip, block: true, class: CONFIG.CLASS.button_spoiler }),\n        connectedInsertButton({ insert: CONFIG.CONTENT.edit, tooltip: T.editing_tools.edit_tooltip, label: T.editing_tools.edit_label }),\n        props.config.meta ? BUTTONS.meta.map(connected) : [],\n        props.config.code ? BUTTONS.code.map(connected) : [],\n        props.config.math ? BUTTONS.math.map(connected) : [],\n        props.config.whitespace ? BUTTONS.whitespace.map(connected) : [],\n        props.config.definitions ? BUTTONS.definitions.map(connected) : [],\n        props.config.embed ? BUTTONS.embed(Preferences.get(P.editing_tools._.search_engine)).map(connected) : [],\n        props.config.doge ? BUTTONS.doge.map(connected) : [],\n        props.config.color_palette ? (h(\"fieldset\", { class: CONFIG.CLASS.colorPalette }, COLORS.map(connectedColorButton))) : null,\n        props.config.smileys ? (h(\"fieldset\", { class: CONFIG.CLASS.smileys }, SMILEYS.map(connectedSmileyButton))) : null));\n}\n","import { insertAtTheEnd, renderIn } from \"~src/operations/logic/render\";\nimport * as SITE from \"~src/site\";\nimport * as T from \"~src/text\";\nimport { toolbarButton } from \"./logic/editing-tools\";\nimport { wrap_tag } from \"./logic/textarea\";\nexport default (undoSupport) => (e) => {\n    const parent = e.strikeButton.parentElement;\n    renderIn(parent, insertAtTheEnd, (headingToolbarButton(e.textarea, undoSupport)));\n};\nconst headingToolbarButton = toolbarButton({\n    action: wrap_tag({ tag: SITE.TAG.h, parameterized: false, block: false }),\n    class: SITE.CLASS.toolbarHeadingButton,\n    tooltip: T.general.tooltip_h,\n    style: \"background: none;\", // to override gray background for .header\n});\n","import * as BB from \"bbcode-tags\";\nimport { lines, unlines } from \"lines-unlines\";\nimport { is } from \"ts-type-guards\";\nimport { log } from \"userscripter\";\nimport { insertIn, selectRangeIn, selectedTextIn } from \"~src/operations/logic/textarea\";\nimport SELECTOR from \"~src/selectors\";\nimport * as SITE from \"~src/site\";\nimport * as T from \"~src/text\";\nimport { errorMessageFromCaught } from \"~src/utilities\";\nexport default (undoSupport) => () => {\n    /*\n    This operation must run \"early\" (before DOMContentLoaded), because otherwise it can't override the default action for the URL button.\n    However, it should not run _too_ early, because it fails if SweClockers' script hasn't yet defined Beta.\n\n    I haven't managed to make this operation work at all in Firefox; the default action is just not overridden.\n    */\n    try { // If SweClockers change their \"API\", we want to fail gracefully.\n        Beta.Forms.Toolbar.Buttons.HyperlinkButton.prototype.insertTemplate = () => {\n            const textarea = document.querySelector(SELECTOR.textarea);\n            if (!is(HTMLTextAreaElement)(textarea)) {\n                log.error(`Could not find textarea.`);\n                return;\n            }\n            const selectedText = selectedTextIn(textarea);\n            const selectedLines = lines(selectedText);\n            if (selectedLines.length > 1) {\n                // Multiline mode (closely resembling SweClockers' native behavior).\n                let n; // Lets us short-circuit with undo support.\n                if (undoSupport || (n = confirmationNeeded(selectedLines), n === false) || confirm(T.general.generic_lines_confirm(n))) {\n                    const formattedLines = selectedLines.map(line => (Taiga.Strings.sprintf(BB.start(SITE.TAG.url) + \"%s\" + BB.end(SITE.TAG.url), Taiga.Strings.trim(line))));\n                    insertIn(textarea, {\n                        string: unlines(formattedLines),\n                        replace: true,\n                    });\n                }\n            }\n            else {\n                const suggestedLinkUrl = isUrlLike(selectedText) ? selectedText : \"\"; // Same behavior as SweClockers.\n                const suggestedLinkText = selectedText;\n                const providedLinkUrl = prompt(T.general.improved_url_button_url, suggestedLinkUrl);\n                if (providedLinkUrl === null) {\n                    return; // Canceling altogether if the user cancels the prompt feels intuitive.\n                }\n                const providedLinkText = prompt(T.general.improved_url_button_text, suggestedLinkText);\n                if (providedLinkText === null) {\n                    return; // Canceling altogether if the user cancels the prompt feels intuitive.\n                }\n                const finalLinkUrl = providedLinkUrl;\n                const finalLinkText = providedLinkText === \"\" ? finalLinkUrl : providedLinkText;\n                const selectionStart = textarea.selectionStart; // Must be calculated before any modification is made.\n                const startTag = BB.start(SITE.TAG.url, finalLinkUrl);\n                // We _could_ just wrap if the final link text equals the selectedText text, but AFAICT it wouldn't give us any benefits versus inserting and then selecting.\n                insertIn(textarea, {\n                    string: startTag + finalLinkText + BB.end(SITE.TAG.url),\n                    replace: true, // Risk of accidental deletion is low because the user is given two prompts before anything is modified in the textarea.\n                });\n                const newSelectionStart = selectionStart + startTag.length;\n                const newSelectionEnd = newSelectionStart + finalLinkText.length;\n                selectRangeIn(textarea, newSelectionStart, newSelectionEnd);\n            }\n        };\n    }\n    catch (err) {\n        return errorMessageFromCaught(err); // String conversion is necessary for the error to be handled properly by Userscripter.\n    }\n};\n// A heuristic intended to catch cases when the user likely didn't mean to format links and/or it would be cumbersome to restore the change without undo support.\nfunction confirmationNeeded(selectedLines) {\n    return (selectedLines.length > 5 && !selectedLines.every(isUrlLike)\n        ? selectedLines.length\n        : false);\n}\nfunction isUrlLike(s) {\n    // The regex is copied from SweClockers.\n    return /^([a-z]+:\\/\\/|www\\.)/i.test(s);\n}\n","import * as SITE from \"~src/site\";\nimport { withMaybe } from \"~src/utilities\";\nexport default (e) => {\n    e.correctionsLink.addEventListener(\"click\", event => {\n        withMaybe(document.querySelector(\".\" + SITE.CLASS.proofDialog), proofDialog => {\n            event.stopImmediatePropagation();\n            const textarea = proofDialog.querySelector(\"textarea\");\n            if (textarea instanceof HTMLElement) {\n                textarea.focus();\n            }\n        });\n    }, true);\n};\n","import SELECTOR from \"~src/selectors\";\nimport * as SITE from \"~src/site\";\nimport { withMaybe } from \"~src/utilities\";\n// mousedown because it must be guaranteed to fire before beforeunload:\nexport const BUTTON_CLICK_EVENT = \"mousedown\";\n// I prefer this to fiddling with event listeners:\nlet shouldPreventUnload = false;\nexport function postOrMessage(e) {\n    // We need to prevent unload if the user has modified the content of the\n    // textarea or if they came here by clicking the preview button.\n    window.addEventListener(\"beforeunload\", handleBeforeUnload);\n    const textarea = e.textarea;\n    const changeListener = () => {\n        enableListener();\n        textarea.removeEventListener(\"input\", changeListener);\n    };\n    textarea.addEventListener(\"input\", changeListener);\n    for (const button of document.querySelectorAll(SELECTOR.actionButtons)) {\n        button.addEventListener(BUTTON_CLICK_EVENT, disableListener);\n    }\n    // If a post preview exists, then the user came here by previewing, so there\n    // is information to be lost even before they have touched the textarea:\n    withMaybe(document.getElementById(SITE.ID.postPreview), enableListener);\n}\nexport function corrections() {\n    // This function cannot take the corrections textarea as part of its `e`\n    // parameter, because said textarea does not exist until user requests it.\n    // We will prevent unload if the textarea exists and has some content; that\n    // should be good enough.\n    window.addEventListener(\"beforeunload\", event => {\n        const textarea = document.querySelector(`.${SITE.CLASS.proofDialog} textarea`);\n        // If the correction has been submitted, the textarea is not visible\n        // anymore because one of its ancestors has display: none, in which case\n        // textarea.offsetParent === null.\n        if (textarea !== null && textarea.value !== \"\" && textarea.offsetParent !== null) {\n            preventUnload(event);\n        }\n    });\n}\nfunction handleBeforeUnload(event) {\n    if (shouldPreventUnload)\n        preventUnload(event);\n}\nfunction preventUnload(event) {\n    event.preventDefault();\n    return event.returnValue = true;\n}\nfunction enableListener() {\n    shouldPreventUnload = true;\n}\nfunction disableListener() {\n    shouldPreventUnload = false;\n}\n","import { BUTTON_CLICK_EVENT } from \"~src/operations/prevent-accidental-unload\";\nexport function clickOn(element) {\n    // Prevent accidental unload listens for these events:\n    element.dispatchEvent(new Event(BUTTON_CLICK_EVENT));\n    // click() is necessary for the button to be triggered; dispatching\n    // mousedown and then mouseup is not.\n    element.click();\n}\n","import * as Mousetrap from \"mousetrap\";\nimport { Action } from \"~src/actions\";\nimport { clickOn } from \"~src/operations/logic/click\";\nimport { P, Preferences } from \"~src/preferences\";\nimport * as SITE from \"~src/site\";\nimport { insertIn, wrap_tag } from \"../logic/textarea\";\nconst keyboardShortcuts = Preferences.get(P.keyboard);\nexport function submit(e) {\n    bindKeyboardShortcut(Action.SUBMIT, _ => clickOn(e.saveButton), { preventDefault: true });\n}\nexport function preview(e) {\n    bindKeyboardShortcut(Action.PREVIEW, _ => clickOn(e.previewButton), { preventDefault: true });\n}\nexport const insertLink = (undoSupport) => (e) => {\n    bindKeyboardShortcut(Action.INSERT_LINK, _ => wrap_tag({ tag: SITE.TAG.url, parameterized: true, block: false })(e.textarea, undoSupport), { preventDefault: true });\n};\nexport const insertTab = (content, undoSupport) => (e) => {\n    bindKeyboardShortcut(Action.INSERT_TAB, event => {\n        if (document.activeElement === e.textarea) {\n            event.preventDefault();\n            insertIn(e.textarea, { string: content, replace: undoSupport });\n        }\n    }, { preventDefault: false });\n};\nfunction bindKeyboardShortcut(action, handler, options) {\n    for (const entry of keyboardShortcuts) {\n        if (entry.action === action) {\n            Mousetrap.bind(entry.shortcut, event => {\n                if (options.preventDefault) {\n                    event.preventDefault();\n                }\n                handler(event);\n            });\n        }\n    }\n}\n","import { h } from \"preact\";\nimport { insertAtTheEnd, renderIn } from \"~src/operations/logic/render\";\nimport * as SITE from \"~src/site\";\nimport * as T from \"~src/text\";\nexport default (e) => {\n    renderIn(e.parent, insertAtTheEnd, (h(\"a\", { href: \"javascript:window.scrollTo(0, 0)\", title: T.general.link_to_top_tooltip },\n        h(\"svg\", { class: SITE.CLASS.icon, style: \"transform: rotate(-90deg);\" },\n            h(\"use\", { xlinkHref: \"/gfx/iconmap.svg?v=20221125#icon_double_arrow_right\" })))));\n};\n","export function mention(username) {\n    // It's non-trivial to write a sound and complete predicate that decides whether a username needs quotes or not.\n    // One complicating factor is that some disallowed usernames have been allowed before (e.g. \"simon.alling\").\n    // To avoid having to deal with this, we'll just always add quotes.\n    return `@\"${username}\"`;\n}\n","import unique from \"array-uniq\";\nimport { h } from \"preact\";\nimport * as CONFIG from \"~src/config\";\nimport { mention } from \"~src/operations/edit-mode\";\nimport { insertBefore, renderIn } from \"~src/operations/logic/render\";\nimport SELECTOR from \"~src/selectors\";\nimport * as SITE from \"~src/site\";\nimport * as T from \"~src/text\";\nexport default (e) => {\n    const button = mentionEveryoneButton({\n        message: usersToMention(e.forumPostContainer).map(mention).join(\" \"),\n        replyURL: e.quickReplyForm.getAttribute(\"action\") || \"\",\n        csrf: session.getCsrfToken(),\n    });\n    if (document.querySelector(`${SELECTOR.forumPost} ${SELECTOR.forumPostAuthorLink}`) === null) {\n        // Broken thread participant detection.\n        return \"Could not detect thread participants\";\n    }\n    renderIn(e.replyButton.parentElement, insertBefore(e.replyButton), button);\n};\nfunction usersToMention(forumPostContainer) {\n    const postBySomeoneElse = SELECTOR.forumPost + `:not(.${SITE.CLASS.forumPostByCurrentUser})`;\n    const selector = `${postBySomeoneElse} ${SELECTOR.forumPostAuthorLink}`;\n    const nameLinks = Array.from(forumPostContainer.querySelectorAll(selector));\n    return unique(nameLinks.map(e => e.textContent.trim()));\n}\nfunction mentionEveryoneButton(props) {\n    return (h(\"form\", { method: \"POST\", action: props.replyURL, class: CONFIG.CLASS.mentionEveryoneButton },\n        h(\"input\", { name: SITE.FORM.name.message, type: \"hidden\", value: props.message }),\n        h(\"input\", { name: SITE.FORM.name.csrfToken, type: \"hidden\", value: props.csrf }),\n        h(\"input\", { name: SITE.FORM.name.action, type: \"hidden\", value: SITE.FORM.value.preview }),\n        h(\"button\", { type: \"submit\", class: SITE.CLASS.button, title: T.general.mention_everyone_tooltip }, T.general.mention_everyone_label)));\n}\n","import { isBoolean, isNumber, isString, isSymbol, isNull, isUndefined, isPrimitive, isNonPrimitive, is, isLike } from \"./is\";\nexport function onlyBooleans(xs) {\n    return xs.filter(isBoolean);\n}\nexport function onlyNumbers(xs) {\n    return xs.filter(isNumber);\n}\nexport function onlyStrings(xs) {\n    return xs.filter(isString);\n}\nexport function onlySymbols(xs) {\n    return xs.filter(isSymbol);\n}\nexport function onlyNulls(xs) {\n    return xs.filter(isNull);\n}\nexport function onlyUndefineds(xs) {\n    return xs.filter(isUndefined);\n}\nexport function onlyPrimitives(xs) {\n    return xs.filter(isPrimitive);\n}\nexport function onlyObjects(xs) {\n    return xs.filter(isNonPrimitive);\n}\nexport function only(type) {\n    return (xs) => xs.filter(is(type));\n}\nexport function onlyLike(reference) {\n    return (xs) => xs.filter(isLike(reference));\n}\n//# sourceMappingURL=only.js.map","import * as BB from \"bbcode-tags\";\nimport { Fragment, h } from \"preact\";\nimport { isString, only } from \"ts-type-guards\";\nimport { log } from \"userscripter\";\nimport * as CONFIG from \"~src/config\";\nimport ICON from \"~src/icons/pm.svg\";\nimport { insertAtTheEnd, renderIn } from \"~src/operations/logic/render\";\nimport SELECTOR from \"~src/selectors\";\nimport * as SITE from \"~src/site\";\nimport * as T from \"~src/text\";\nimport { assertExhausted, r } from \"~src/utilities\";\nexport default () => {\n    var _a, _b;\n    const forumPosts = document.getElementsByClassName(SITE.CLASS.forumPost);\n    const user = SITE.getUserInfo();\n    switch (user.tag) {\n        case \"CouldNotExtract\": return couldNotExtract(\"logged-in status and/or user ID\");\n        case \"NotLoggedIn\": return; // No error; there's just nothing to do if the user is not logged in.\n        case \"LoggedIn\": break;\n        default: assertExhausted(user);\n    }\n    const ourUserID = user.userID;\n    const threadTitle = (_a = document.querySelector(SELECTOR.threadTitle)) === null || _a === void 0 ? void 0 : _a.textContent;\n    if (!isString(threadTitle)) {\n        return couldNotExtract(\"thread title\");\n    }\n    for (const post of only(HTMLElement)(Array.from(forumPosts))) {\n        const profileDetails = post.querySelector(\".\" + SITE.CLASS.forumPostProfileDetails);\n        const quoteButton = post.querySelector(SELECTOR.quoteButton);\n        const authorName = (_b = post.querySelector(SELECTOR.forumPostAuthorLink)) === null || _b === void 0 ? void 0 : _b.textContent;\n        if (!isString(authorName))\n            return couldNotExtractFromPost(\"author name\", post.id);\n        if (profileDetails === null)\n            return couldNotExtractFromPost(\"profile details\", post.id);\n        if (quoteButton === null)\n            return couldNotExtractFromPost(\"quote button\", post.id);\n        renderIn(profileDetails, insertAtTheEnd, (h(\"button\", { dangerouslySetInnerHTML: { __html: ICON + T.general.pm_link_label }, onClick: () => {\n                fetch(quoteButton.href, { credentials: \"same-origin\" }) // https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/fetch#Parameters\n                    .then(response => response.text())\n                    .then(responseContent => {\n                    const responseDocument = new DOMParser().parseFromString(responseContent, \"text/html\");\n                    const quoteTextarea = responseDocument.querySelector(\"textarea\");\n                    if (quoteTextarea === null) {\n                        throw couldNotExtract(\"textarea from fetch response\");\n                    }\n                    const form = document.createElement(\"form\");\n                    form.hidden = true;\n                    form.method = \"post\";\n                    form.action = SITE.PATH.newPrivateMessage(ourUserID);\n                    renderIn(form, insertAtTheEnd, (h(Fragment, null,\n                        h(\"input\", { name: SITE.FORM.name.recipients, value: authorName }),\n                        h(\"input\", { name: SITE.FORM.name.title, value: threadTitle }),\n                        h(\"input\", { name: SITE.FORM.name.csrfToken, value: session.getCsrfToken() }),\n                        h(\"input\", { name: SITE.FORM.name.action, value: \"doPreview\" }),\n                        h(\"textarea\", { name: SITE.FORM.name.message }, withLinksInsteadOfPostIDs(quoteTextarea.textContent || \"\")))));\n                    profileDetails.appendChild(form); // Otherwise: \"Form submission canceled because the form is not connected\"\n                    form.submit();\n                })\n                    .catch(log.error);\n            }, class: [SITE.CLASS.button, CONFIG.CLASS.iconButton, CONFIG.CLASS.pmButton].join(\" \") })));\n    }\n};\n/*\nThe generated quote BBCode, when used in a PM, creates a link to a PM, but we want to link to a forum post.\nSo we need to transform\n\n    [quote postid=\"123456\" ...]\n    Message\n    [/quote]\n\ninto\n\n    [quote ...]\n    Message\n\n    [url=\"/forum/post/123456\"]G till inlgget[/url]\n    [/quote]\n\nNote that the input may contain multiple quotes.\n*/\nconst REGEX_GENERATED_QUOTE = new RegExp([\n    // NB: The capture groups here are used below to assemble the adjusted BBCode.\n    r `^(\\[${SITE.TAG.quote}) postid=\"(\\d+)\"( userid=\"\\d+\" name=\"[^\"]+\"\\])$`,\n    r `([\\s\\S]*?)`,\n    r `^(\\[/${SITE.TAG.quote}\\])$`, // end tag\n].join(\"\"), \"gm\"); // \"s\" didn't work for me to match newlines using \".\".\nfunction withLinksInsteadOfPostIDs(raw) {\n    return raw.replace(REGEX_GENERATED_QUOTE, [\n        \"$1$3\",\n        \"$4\",\n        \"\\n\" + linkToForumPost(\"$2\") + \"\\n\",\n        \"$5\", // end tag\n    ].join(\"\"));\n}\nfunction linkToForumPost(id) {\n    return [\n        BB.start(SITE.TAG.url, SITE.PATH.forumPost(id)),\n        BB.start(SITE.TAG.b),\n        T.general.go_to_post,\n        BB.end(SITE.TAG.b),\n        BB.end(SITE.TAG.url),\n    ].join(\"\");\n}\nfunction couldNotExtract(what) {\n    return `Could not extract ${what}.`;\n}\nfunction couldNotExtractFromPost(what, htmlId) {\n    return couldNotExtract(`${what} from post with id=\"${htmlId}\"`);\n}\n","import { NumericPreference } from \"./NumericPreference\";\r\nexport class DoublePreference extends NumericPreference {\r\n    getClassName() { return \"DoublePreference\"; }\r\n    static parse(s) {\r\n        const parsed = parseFloat(s);\r\n        return (Number.isNaN(parsed)\r\n            ? `\"${s}\" is not a number.`\r\n            : { value: parsed });\r\n    }\r\n    fromString(s) {\r\n        return NumericPreference.postParse(this, DoublePreference.parse(s));\r\n    }\r\n}\r\n//# sourceMappingURL=DoublePreference.js.map","import { DoublePreference } from \"./DoublePreference\";\r\nimport { NumericPreference } from \"./NumericPreference\";\r\nimport { RangePreference } from \"./RangePreference\";\r\nexport class DoubleRangePreference extends RangePreference {\r\n    getClassName() { return \"DoubleRangePreference\"; }\r\n    fromString(s) {\r\n        return NumericPreference.postParse(this, DoublePreference.parse(s));\r\n    }\r\n}\r\n//# sourceMappingURL=DoubleRangePreference.js.map","import classNames from \"classnames\";\nimport { Component, h } from \"preact\";\nimport { BooleanPreference, DoublePreference, DoubleRangePreference, IntegerPreference, IntegerRangePreference, ListPreference, MultichoicePreference, Preference, StringPreference, } from \"ts-preferences\";\nimport { is, isNull, isString, only } from \"ts-type-guards\";\nimport { log } from \"userscripter\";\nimport * as CONFIG from \"~src/config\";\nimport { EditingTools, getEditingToolsConfig } from \"~src/operations/editing-tools\";\nimport { P, Preferences, responseHandler } from \"~src/preferences\";\nimport SELECTOR from \"~src/selectors\";\nimport * as SITE from \"~src/site\";\nimport * as T from \"~src/text\";\nconst PID = (p) => CONFIG.ID.preferenceIdPrefix + p.key;\nconst RANGE_MAX_STEP = 0.1;\nconst RANGE_MIN_NUMBER_OF_STEPS = 100;\nexport const GENERATORS = {\n    Boolean: Generator_Boolean,\n    String: Generator_String,\n    Integer: Generator_Integer,\n    Double: Generator_Double,\n    IntegerRange: Generator_IntegerRange,\n    DoubleRange: Generator_DoubleRange,\n    Multichoice: Generator_Multichoice,\n};\nfunction fromStringEventHandler(p) {\n    return (e) => {\n        const parsed = p.fromString(e.target.value);\n        if (isString(parsed)) {\n            log.warning(parsed);\n        }\n        else {\n            Preferences.set(p, parsed.value);\n        }\n    };\n}\nexport class PreferencesForm extends Component {\n    render() {\n        return (h(\"form\", { id: CONFIG.USERSCRIPT_ID },\n            h(\"header\", null,\n                h(\"a\", { href: document.referrer || \"/\", title: T.preferences._.back_to_sweclockers },\n                    h(\"img\", { src: CONFIG.URL_LOGO, alt: CONFIG.USERSCRIPT_NAME }))),\n            Entries(GENERATORS, P),\n            h(\"footer\", null,\n                h(\"p\", null, T.preferences._.save_notice),\n                h(\"p\", null,\n                    h(\"a\", { href: document.referrer || \"/\", title: T.preferences._.back_to_sweclockers }, T.preferences._.back_to_sweclockers)))));\n    }\n    componentDidMount() {\n        // The listener can't be a method, because then `this` is undefined in it.\n        responseHandler.subscribe(() => {\n            this.forceUpdate();\n        });\n    }\n}\nfunction Entries(generators, ps) {\n    return Object.keys(ps).map(k => Entry(generators, ps[k]));\n}\nfunction Entry(generators, p) {\n    return (p instanceof Preference\n        ? (p.extras.implicit // should not be part of the preferences menu\n            ? null\n            : (h(\"div\", { class: classNames(CONFIG.CLASS.preference, p.extras.class), title: p.description },\n                InputElement(generators, p),\n                isString(p.extras.suffix) ? h(HtmlLabel, { for: PID(p), html: p.extras.suffix }) : null,\n                p.extras.more !== undefined\n                    ? h(\"aside\", { dangerouslySetInnerHTML: { __html: p.extras.more } })\n                    : null))) : (h(\"fieldset\", { class: SITE.CLASS.fieldset },\n        h(HtmlLegend, { html: p.label }),\n        Entries(generators, p._),\n        p.extras && p.extras.id === CONFIG.ID.editingToolsPreferences\n            ? h(EditingTools, { textarea: document.createElement(\"textarea\"), config: getEditingToolsConfig(), disabled: !Preferences.get(P.editing_tools._.enable), undoSupport: Preferences.get(P.advanced._.undo_support) })\n            : null)));\n}\nfunction InputElement(generators, p) {\n    // Order can be super-important here due to the semantics of instanceof with respect to subclasses.\n    if (is(BooleanPreference)(p)) {\n        return generators.Boolean(p);\n    }\n    if (is(StringPreference)(p)) {\n        return generators.String(p);\n    }\n    if (is(IntegerPreference)(p)) {\n        return generators.Integer(p);\n    }\n    if (is(DoublePreference)(p)) {\n        return generators.Double(p);\n    }\n    if (is(IntegerRangePreference)(p)) {\n        return generators.IntegerRange(p);\n    }\n    if (is(DoubleRangePreference)(p)) {\n        return generators.DoubleRange(p);\n    }\n    if (is(MultichoicePreference)(p)) {\n        return generators.Multichoice(p);\n    }\n    if (is(ListPreference)(p) && p === P.interests._.uninteresting_subforums) {\n        return h(Interests, { p: p });\n    }\n    throw new Error(`Unsupported preference: ${p}`); // This kills the entire preferences GUI, so we have a test catching it.\n}\nfunction Generator_Boolean(p) {\n    return LabeledInput(h(\"input\", { type: \"checkbox\", id: PID(p), checked: Preferences.get(p), onChange: e => {\n            Preferences.set(p, e.target.checked);\n        } }), p.label);\n}\nfunction Generator_String(p) {\n    return (p.label === T.preferences._.NO_LABEL ? [] : [h(PreferenceLabel, { preference: p })]).concat([\n        (p.multiline\n            ?\n                h(\"textarea\", { id: PID(p), value: Preferences.get(p), onChange: fromStringEventHandler(p) })\n            :\n                h(\"input\", { type: \"text\", id: PID(p), value: Preferences.get(p), onChange: fromStringEventHandler(p) })),\n    ]);\n}\nfunction Generator_Integer(p) {\n    return [\n        h(PreferenceLabel, { preference: p }),\n        h(\"input\", { type: \"number\", id: PID(p), value: Preferences.get(p).toString(), onChange: fromStringEventHandler(p) }),\n    ];\n}\nfunction Generator_Double(p) {\n    return [\n        h(PreferenceLabel, { preference: p }),\n        h(\"input\", { type: \"number\", id: PID(p), value: Preferences.get(p).toString(), step: RANGE_MAX_STEP, onChange: fromStringEventHandler(p) }),\n    ];\n}\nfunction Generator_IntegerRange(p) {\n    return [\n        h(PreferenceLabel, { preference: p }),\n        h(\"input\", { type: \"number\", id: PID(p), value: Preferences.get(p).toString(), min: p.min, max: p.max, onChange: fromStringEventHandler(p) }),\n    ];\n}\nfunction Generator_DoubleRange(p) {\n    return [\n        h(PreferenceLabel, { preference: p }),\n        h(\"input\", { type: \"number\", id: PID(p), value: Preferences.get(p).toString(), min: p.min, max: p.max, step: stepSize(p.min, p.max).toString(), onChange: fromStringEventHandler(p) }),\n    ];\n}\nfunction stepSize(min, max) {\n    return Math.min(RANGE_MAX_STEP, Math.pow(10, Math.floor(Math.log10(max - min))) / RANGE_MIN_NUMBER_OF_STEPS);\n}\nfunction Generator_Multichoice(p) {\n    const MAX_RADIO_BUTTONS = 4;\n    const savedValue = Preferences.get(p);\n    const options = p.options;\n    return options.length <= MAX_RADIO_BUTTONS\n        ? (h(\"fieldset\", { class: CONFIG.CLASS.radioButtonPreference },\n            h(HtmlLabel, { html: p.label }),\n            options.map(option => RadioButton({\n                p: p,\n                label: option.label,\n                value: option.value,\n                checked: option.value === savedValue,\n            })))) : [\n        h(HtmlLabel, { html: p.label }),\n        h(\"select\", { onChange: e => {\n                const index = e.target.selectedIndex;\n                if (index >= 0 && index < options.length) {\n                    Preferences.set(p, options[index].value);\n                }\n            } }, options.map(option => h(\"option\", { selected: option.value === savedValue }, option.label))),\n    ];\n}\nfunction RadioButton({ p, label, value, checked }) {\n    const radioButtonId = PID(p) + \"-\" + label;\n    return LabeledInput(h(\"input\", { type: \"radio\", id: radioButtonId, name: PID(p), checked: checked, onChange: e => {\n            if (e.target.checked) {\n                Preferences.set(p, value);\n            }\n        } }), label);\n}\nfunction LabeledInput(input, label) {\n    return (\n    // Cannot use HtmlLabel because we want to have the <input> inside the <label> to avoid a line break between them.\n    h(\"label\", { class: CONFIG.CLASS.labeledInput },\n        input,\n        h(\"span\", { dangerouslySetInnerHTML: { __html: label } })));\n}\nfunction extractForumLinkData(forumLink) {\n    const match = forumLink.href.match(SITE.PATH.FORUM_CATEGORY);\n    const label = forumLink.textContent;\n    if (isNull(match) || isNull(label)) {\n        return null;\n    }\n    const id = parseInt(match[1]);\n    return {\n        id,\n        name: label,\n        isSubforum: forumLink.parentElement.classList.contains(SITE.CLASS.subforums),\n    };\n}\nfunction isDefined(x) {\n    return x !== undefined;\n}\nclass Interests extends Component {\n    constructor() {\n        super(...arguments);\n        this.state = { fetch: { status: \"loading\" } };\n    }\n    componentDidMount() {\n        /*\n        A relative path such as \"/forum\" works in Violentmonkey and Tampermonkey\n        in both Chrome and Firefox, but not in Greasemonkey (Firefox).\n        \"https://\" + SITE.HOSTNAME + path doesn't work in Chrome due to CORS.\n        window.location.origin + path works in all five mentioned scenarios, as\n        well as in Safari on iOS 12.3.\n        */\n        fetch(window.location.origin + SITE.PATH.FORUM)\n            .then(response => response.text())\n            .then(responseContent => {\n            const responseDocument = new DOMParser().parseFromString(responseContent, \"text/html\");\n            const links = responseDocument.querySelectorAll(SELECTOR.forumLink);\n            this.setState({ fetch: {\n                    status: \"success\",\n                    categories: (only(HTMLAnchorElement)(Array.from(links))\n                        .filter(link => SITE.PATH.FORUM_CATEGORY.test(link.href))\n                        .map(forumLink => {\n                        const linkData = extractForumLinkData(forumLink);\n                        if (isNull(linkData)) {\n                            log.error(`Could not extract forum link data from this link:`);\n                            console.error(forumLink);\n                            return undefined;\n                        }\n                        return linkData;\n                    })\n                        .filter(isDefined)),\n                } });\n        }).catch(reason => {\n            log.error(reason);\n            this.setState({ fetch: { status: \"failure\" } });\n        });\n    }\n    render() {\n        const p = this.props.p;\n        const uninteresting = Preferences.get(p);\n        const response = this.state.fetch;\n        switch (response.status) {\n            case \"loading\":\n                return T.general.loading;\n            case \"success\":\n                return (h(\"ul\", { id: CONFIG.ID.interestsPreferences }, response.categories.map(category => {\n                    const id = category.id;\n                    const checkboxId = PID(p) + \"-\" + id;\n                    return (h(\"li\", { class: classNames({ [CONFIG.CLASS.subforum]: category.isSubforum }), key: id },\n                        h(\"input\", { type: \"checkbox\", id: checkboxId, checked: !uninteresting.includes(id), onChange: e => {\n                                const newUninteresting = uninteresting.filter(x => x !== id).concat(e.target.checked ? [] : id);\n                                Preferences.set(p, newUninteresting);\n                            } }),\n                        h(HtmlLabel, { html: category.name, for: checkboxId })));\n                })));\n            case \"failure\":\n                return T.preferences._.failed_to_fetch_categories;\n        }\n    }\n}\nclass PreferenceLabel extends Component {\n    render() {\n        return h(HtmlLabel, { for: PID(this.props.preference), html: this.props.preference.label });\n    }\n}\nclass HtmlLabel extends Component {\n    render() {\n        return h(\"label\", { for: this.props.for, dangerouslySetInnerHTML: { __html: this.props.html } });\n    }\n}\nclass HtmlLegend extends Component {\n    render() {\n        return h(\"legend\", { dangerouslySetInnerHTML: { __html: this.props.html } });\n    }\n}\n","import { h } from \"preact\";\nimport { insertAtTheEnd, renderIn } from \"~src/operations/logic/render\";\nimport { PreferencesForm } from \"~src/preferences-menu\";\nimport * as SITE from \"~src/site\";\nimport * as T from \"~src/text\";\nimport { yyyymmdd } from \"~src/utilities\";\nexport default () => {\n    document.title = T.preferences._.title;\n    document.documentElement.appendChild((() => {\n        const link = document.createElement(\"link\");\n        link.rel = \"stylesheet\";\n        link.href = SITE.STYLESHEET_URL(yyyymmdd(new Date()));\n        return link;\n    })());\n    renderIn(document.body, insertAtTheEnd, h(PreferencesForm, null));\n};\n","export const id = (x) => x;\r\nexport function compose(f, g) {\r\n    return x => f(g(x));\r\n}\r\nexport function fmap(f) {\r\n    return mx => mx === null ? null : f(mx);\r\n}\r\n//# sourceMappingURL=utilities.js.map","import escapeRegex from \"escape-string-regexp\";\r\nimport { fmap, } from \"./utilities\";\r\nexport const NO_INFO = null;\r\nexport function literalRule(core) {\r\n    const literal = fmap(literalRegex);\r\n    return (before, after) => simpleRule(core)(literal(before), literal(after));\r\n}\r\nexport function simpleRule(core) {\r\n    return (before, after) => matchRule(core)(before, literalRegex(core.bad), after);\r\n}\r\nexport function matchRule(core) {\r\n    return (before, match, after) => (Object.assign({ before,\r\n        match,\r\n        after }, core));\r\n}\r\nexport function regexRule(core) {\r\n    return regex => (Object.assign({ before: null, match: regex, after: null }, core));\r\n}\r\nfunction literalRegex(s) {\r\n    return new RegExp(escapeRegex(s));\r\n}\r\n//# sourceMappingURL=rules.js.map","import { literalRule, matchRule, regexRule, simpleRule, } from \"highlight-mistakes\";\nconst DESC_NBSP = {\n    bad: \" \",\n    good: \"\\u00A0\",\n    info: \"hrt mellanslag\",\n};\nconst DESC_NBH = {\n    bad: \"-\",\n    good: \"\",\n    info: \"hrt bindestreck\",\n};\nconst DESC_END = {\n    bad: \"-\",\n    good: \"\",\n    info: \"tankstreck\",\n};\nconst literalNBSP = literalRule(DESC_NBSP);\nconst simpleNBSP = simpleRule(DESC_NBSP);\nconst matchNBSP = matchRule(DESC_NBSP);\nconst regexNBSP = regexRule(DESC_NBSP);\nconst literalNBH = literalRule(DESC_NBH);\nconst simpleNBH = simpleRule(DESC_NBH);\nconst matchNBH = matchRule(DESC_NBH);\nconst regexNBH = regexRule(DESC_NBH);\nconst literalEND = literalRule(DESC_END);\nconst simpleEND = simpleRule(DESC_END);\nconst matchEND = matchRule(DESC_END);\nconst regexEND = regexRule(DESC_END);\nexport const PATTERNS_MISTAKE_NB_SPACE = [\n    /\\d(?: \\d{3})+/,\n    /[A-Z][A-Za-z]+ \\d+\\.\\d+/,\n    /USB Type/,\n    /4K UHD/,\n    /Core i\\d/,\n    /\\d \\d{4}/,\n    /Geforce (?:G|R)TX\\-/,\n    /Ryzen \\d+\\-/,\n    /(?:G|R)TX \\d+(?: Ti)?/,\n    /Vega \\d+/,\n    /R\\d \\d+/,\n    /DVI(?:[-][DI])? DL\\b/,\n    /[^.:]\\u0020[A-Z][a-z]+ \\d{1,3}(?!\\u00A0)\\b/,\n];\nconst NUMBER = /(?:^|[^\\u00A0])\\d(?:\\u00A0\\d{3})*(?:,\\d+)?/;\nconst RULES_NB_SPACE = [\n    simpleNBSP(/[A-Z][A-Za-z]+/, /\\d+\\.\\d+/),\n    simpleNBSP(/\\d/, /(?=\\d{3})/),\n    simpleNBSP(NUMBER, /(?:[nmcdk]|[KMGTP]i?)?(?:s|g|m|Hz|b|bit|B|fps|FPS|V|W|Wh|kr|USD|EUR|C|%|st|dBA?)(?=$|[^\\w])/),\n    simpleNBSP(NUMBER, /(?:nano|mikro|milli|centi|deci|hekto|kilo|mega|giga|tera|peta)?(?:sekund(?:er)?|gram|meter|hertz|bit|byte|tum|bilder|volt|watt|wattimmar|kronor|dollar|euro|procent|stycken|decibel|r)(?:$|[^\\w])/),\n    matchNBSP(/[^:.] [A-Z][a-z]+/, / (?=\\d)/, /\\d{1,3}(?=[.,;: ])/),\n    simpleNBSP(/4K/, /UHD/),\n    simpleNBSP(/USB/, /Type/),\n    simpleNBSP(/Windows/, /95|98|ME|2000|XP|Vista|7|8(?:\\.1)?|10/),\n    simpleNBSP(/PCI/, /Express/),\n    simpleNBSP(/Core/, /i\\d/),\n    simpleNBSP(/\\d/, /\\d{4}/),\n    regexNBSP(/[GR]TX \\d{3,4}(?: Ti)?/),\n    simpleNBSP(/Geforce/, /[GR]TX-/),\n    simpleNBSP(/Ryzen/, /\\d+-/),\n    simpleNBSP(/Vega/, /\\d+/),\n    simpleNBSP(/R\\d/, /\\d+/),\n    simpleNBSP(/DVI(?:[-][DI])?/, /DL/),\n];\nconst RULES_NB_HYPHEN = [\n    simpleNBH(/i\\d/, /\\d{4}/),\n    simpleNBH(/Mini/, /ITX/),\n    simpleNBH(/G/, /Sync/),\n    simpleNBH(/V/, /[Ss]ync/),\n    simpleNBH(/Counter/, /Strike/),\n    simpleNBH(/DVI/, /(?:A|DL?|I)\\b/),\n    simpleNBH(/Type/, /C\\b/),\n    simpleNBH(/DDR\\d/, /\\d/),\n    simpleNBH(/i\\d/, /\\d{4}/),\n    simpleNBH(/[A-Z][a-z]+/, /[A-Z]{1,2}\\b/),\n    matchNBH(/\\d+/, /-\\d+(?:-\\d+)+/, null),\n];\nconst RULES_EN_DASH = [\n    simpleEND(/^/, / /),\n    simpleEND(/(?:^|[^\\d-])\\d{1,3}(?:,\\d+)?/, /\\d+(?:,\\d+)?(?=[^\\d-]|$)/),\n    simpleEND(/(?:^|[^\\d-])\\d{4}/, /\\d{4}(?=[^\\d-]|$)/),\n    simpleEND(/ /, / /),\n];\nexport const PATTERNS_MISTAKE_TIMES = [\n    / x /,\n];\nexport const RULES_TIMES = [\n    simpleRule({ good: \"\", bad: \"x\", info: \"gngertecken\" })(/ /, / /),\n];\nexport const PATTERN_DOPPELGANGERS = /\\u00A0|||/g;\nconst GIBBERISH = \"sahdufhaweafdafda\";\nexport const RULES = ([]\n    .concat([\n    literalRule({\n        bad: \"  \",\n        good: \"\\u00A0\\u00A0\",\n        info: \"hrda mellanslag\",\n    })(null, null),\n])\n    .concat(RULES_NB_SPACE)\n    .concat(RULES_NB_HYPHEN)\n    .concat(RULES_EN_DASH)\n    .concat(RULES_TIMES)\n    .concat([\n    literalRule({\n        bad: GIBBERISH,\n        good: \"\",\n        info: null,\n    })(null, null),\n    literalRule({\n        bad: GIBBERISH,\n        good: \"\",\n        info: null,\n    })(null, null),\n]));\nexport const RULES_SUP = [\n    simpleRule({\n        bad: `2`,\n        good: GIBBERISH,\n        info: \"tecknet  istllet fr en upphjd tva\",\n    })(/^/, /$/),\n    simpleRule({\n        bad: `3`,\n        good: GIBBERISH,\n        info: \"tecknet  istllet fr en upphjd trea\",\n    })(/^/, /$/),\n];\n//# sourceMappingURL=index.js.map","import { compose, id, } from \"./utilities\";\r\nexport const LOOKAROUND_DEFAULT = \"group\";\r\nexport function highlightWith(c) {\r\n    return text => text.replace(c.pattern, c.mark);\r\n}\r\nexport function proofreadWith(c) {\r\n    const transformers = c.rules.map(markMistakesAndVerifiedUsing(Object.assign({ lookaround: c.lookaround || LOOKAROUND_DEFAULT }, c)));\r\n    return transformers.reduceRight(compose, id);\r\n}\r\nexport function markMistakesAndVerifiedUsing(c) {\r\n    return r => compose(markAll(\"verified\", c.markVerified, c.lookaround)(r), markAll(\"mistakes\", c.markMistake, c.lookaround)(r));\r\n}\r\nexport function markAll(kind, mark, lookaround) {\r\n    return r => {\r\n        const before = r.before === null ? \"\" : r.before.source;\r\n        const after = r.after === null ? \"\" : r.after.source;\r\n        const [f_b, f_m, f_a] = (lookaround === \"native\"\r\n            ? [lookbehind, id, lookahead]\r\n            : (lookaround === \"group\"\r\n                ? [group, group, group]\r\n                : [id, id, id]));\r\n        const whatToFind = new RegExp(kind === \"mistakes\"\r\n            ? f_b(before) + f_m(r.match.source) + f_a(after)\r\n            : f_b(before) + f_m(r.match.source.split(r.bad).join(r.good)) + f_a(after), \"g\");\r\n        const whatToMark = kind === \"mistakes\" ? r.bad : r.good;\r\n        return findAndMarkUsing(whatToFind, whatToMark, mark, r.info, lookaround === \"group\");\r\n    };\r\n}\r\nfunction group(r) {\r\n    return \"(\" + r + \")\";\r\n}\r\nfunction lookahead(r) {\r\n    return \"(?=\" + r + \")\";\r\n}\r\nfunction lookbehind(r) {\r\n    return \"(?<=\" + r + \")\";\r\n}\r\nfunction findAndMarkUsing(whatToFind, whatToMark, mark, info, fakeLookaround) {\r\n    function markIn(s) {\r\n        return s.split(whatToMark).join(mark(info)(whatToMark));\r\n    }\r\n    return text => text.replace(whatToFind, (found, ...rest) => {\r\n        if (fakeLookaround) {\r\n            const captured = rest.slice(0, 3);\r\n            return captured[0] + markIn(captured[1]) + captured[2];\r\n        }\r\n        else {\r\n            return markIn(found);\r\n        }\r\n    });\r\n}\r\n//# sourceMappingURL=core.js.map","// This file cannot contain Webpack-resolved imports (e.g. \"~src/foo\").\nexport default {\n    proofread: \"proofread\",\n    any: \"any\",\n    mistake: \"mistake\",\n    verified: \"verified\",\n};\n","import { RULES, RULES_SUP, PATTERN_DOPPELGANGERS } from \"@alling/sweclockers-writing-rules\";\nimport { compose } from \"@typed/compose\";\nimport { proofreadWith, highlightWith } from \"highlight-mistakes\";\nimport C from \"./classes\";\nexport function processNodeWith(f, sup) {\n    return node => {\n        if (node.nodeType === Node.TEXT_NODE) {\n            const span = document.createElement(\"span\");\n            span.innerHTML = f(escapeHTML(node.textContent || \"\"));\n            node.parentNode.replaceChild(span, node);\n        }\n        else if (node.nodeType === Node.ELEMENT_NODE) {\n            if (node.nodeName === \"SUP\") {\n                node.innerHTML = sup(node.textContent || \"\");\n            }\n            else {\n                Array.from(node.childNodes).forEach(processNodeWith(f, sup));\n            }\n        }\n    };\n}\nexport function markWith(className) {\n    const isMistake = className === C.mistake;\n    return info => s => [\n        `<span class=\"${C.proofread} ${className}\"`,\n        (isMistake && info !== null ? ` title=\"Frslag: ${info}\"` : \"\"),\n        `>${s}</span>`,\n    ].join(\"\");\n}\nexport const processSup = proofreadWith({\n    rules: RULES_SUP,\n    markMistake: markWith(C.mistake),\n    markVerified: markWith(C.verified),\n});\nexport const processText = compose(highlightWith({\n    pattern: PATTERN_DOPPELGANGERS,\n    mark: markWith(C.any)(null),\n}), proofreadWith({\n    rules: RULES,\n    markMistake: markWith(C.mistake),\n    markVerified: markWith(C.verified),\n}));\nexport const processNode = processNodeWith(processText, processSup);\nfunction replacer(found) {\n    switch (found) {\n        case `&`: return \"&amp;\";\n        case `<`: return \"&lt;\";\n        case `>`: return \"&gt;\";\n        case `\"`: return \"&quot;\";\n        case `'`: return \"&#039;\"; // https://stackoverflow.com/questions/2083754\n    }\n}\nfunction escapeHTML(html) {\n    return html.replace(/[&<>\"']/g, replacer);\n}\n","import { isString } from \"ts-type-guards\";\nimport { r } from \"~src/utilities\";\nexport function hideById(i) {\n    return hideBySelector(\"#\" + i);\n}\nexport function hideByClass(c) {\n    return hideBySelector(isString(c) ? \".\" + c : c.map(x => \".\" + x).join(\", \"));\n}\nexport function hideBySelector(selector) {\n    return (r `\n${selector} {\n    display: none;\n}\n`);\n}\n","export function timeIsWithin(interval) {\n    return (time) => {\n        const t = timeOfDay(time);\n        const start = interval.start;\n        const end = interval.end;\n        return (end < start\n            ? t >= start || t < end\n            : t >= start && t < end);\n    };\n}\nfunction timeOfDay(date) {\n    const startOfToday = new Date();\n    startOfToday.setHours(0);\n    startOfToday.setMinutes(0);\n    startOfToday.setSeconds(0);\n    startOfToday.setMilliseconds(0);\n    return date.getTime() - startOfToday.getTime();\n}\n","import * as ms from \"milliseconds\";\nimport { ALWAYS } from \"userscripter/run-time/environment\";\nimport { stylesheet } from \"userscripter/run-time/stylesheets\";\nimport * as CONFIG from \"~src/config\";\nimport { isInEditMode, isOnBSCPreferencesPage, isOnSweclockersSettingsPage, isReadingThread } from \"~src/environment\";\nimport STYLE_PROOFREADING from \"~src/lib/proofreading/style.scss\";\nimport { P, Preferences } from \"~src/preferences\";\nimport SELECTOR from \"~src/selectors\";\nimport * as SITE from \"~src/site\";\nimport { hideByClass, hideById, hideBySelector } from \"~src/stylesheets/hide\";\nimport { timeIsWithin } from \"~src/time\";\nimport developerMode from \"./stylesheets/developer-mode.scss\";\nimport doge from \"./stylesheets/doge.scss\";\nimport downForMaintenance from \"./stylesheets/down-for-maintenance.scss\";\nimport editingTools from \"./stylesheets/editing-tools.scss\";\nimport hideFooter from \"./stylesheets/hide-footer.scss\";\nimport highlightOwnPosts from \"./stylesheets/highlight-own-posts.scss\";\nimport improvedCorrections from \"./stylesheets/improved-corrections.scss\";\nimport improvedImageControls from \"./stylesheets/improved-image-controls.scss\";\nimport improvedPaginationButtons from \"./stylesheets/improved-pagination-buttons.scss\";\nimport lockHeights from \"./stylesheets/lock-heights.scss\";\nimport main from \"./stylesheets/main.scss\";\nimport mentionEveryone from \"./stylesheets/mention-everyone.scss\";\nimport preferencesLink from \"./stylesheets/preferences-link.scss\";\nimport preferencesShortcut from \"./stylesheets/preferences-shortcut.scss\";\nimport preferences from \"./stylesheets/preferences.scss\";\nimport replaceFollowedThreadsLink from \"./stylesheets/replace-followed-threads-link.scss\";\nimport textareaSizeToggle from \"./stylesheets/textarea-size-toggle.scss\";\nimport uninterestingSubforums from \"./stylesheets/uninteresting-subforums.scss\";\nfunction isTimeForMaintenance() {\n    const start = ms.hours(4) + ms.minutes(30);\n    const end = ms.hours(5) + ms.minutes(10);\n    return timeIsWithin({ start, end })(new Date());\n}\nfunction i(x) {\n    return CONFIG.PREFIX_ID + \"stylesheet-\" + x;\n}\nconst STYLESHEETS = {\n    main: stylesheet({\n        condition: ALWAYS,\n        css: main,\n    }),\n    developer_mode: stylesheet({\n        condition: () => Preferences.get(P.advanced._.developer_mode),\n        css: developerMode,\n    }),\n    doge: stylesheet({\n        condition: ALWAYS,\n        css: doge,\n    }),\n    preferences_link: stylesheet({\n        condition: _ => isOnSweclockersSettingsPage,\n        css: preferencesLink,\n    }),\n    preferences: stylesheet({\n        condition: _ => isOnBSCPreferencesPage,\n        css: preferences,\n    }),\n    preferences_shortcut: stylesheet({\n        condition: () => Preferences.get(P.general._.insert_preferences_shortcut),\n        css: preferencesShortcut,\n    }),\n    lock_heights: stylesheet({\n        condition: () => Preferences.get(P.general._.lock_heights),\n        css: lockHeights,\n    }),\n    improved_pagination_buttons: stylesheet({\n        condition: () => Preferences.get(P.forum_threads._.improved_pagination_buttons),\n        css: improvedPaginationButtons,\n    }),\n    improved_corrections: stylesheet({\n        condition: () => Preferences.get(P.general._.improved_corrections),\n        css: improvedCorrections,\n    }),\n    highlight_own_posts: stylesheet({\n        condition: () => Preferences.get(P.forum_threads._.highlight_own_posts),\n        css: highlightOwnPosts,\n    }),\n    editing_tools: stylesheet({\n        condition: ALWAYS,\n        css: editingTools,\n    }),\n    textarea_size_toggle: stylesheet({\n        condition: ALWAYS,\n        css: textareaSizeToggle,\n    }),\n    monospace_font: stylesheet({\n        condition: () => isInEditMode && Preferences.get(P.edit_mode._.monospace_font),\n        css: `#${CONFIG.ID.document} ${SELECTOR.textarea} { font-family: monospace; }`,\n    }),\n    monospace_font_in_quick_reply_form: stylesheet({\n        condition: () => isReadingThread && Preferences.get(P.edit_mode._.monospace_font_in_quick_reply_form),\n        css: `#${CONFIG.ID.document} ${SELECTOR.textarea} { font-family: monospace; }`,\n    }),\n    textarea_size_toggle_textarea_height: stylesheet({\n        condition: () => isInEditMode && Preferences.get(P.edit_mode._.textarea_size_toggle),\n        css: `#${CONFIG.ID.document} ${SELECTOR.textarea} { height: ${Preferences.get(P.edit_mode._.textarea_size)}px; }`,\n    }),\n    improved_image_controls: stylesheet({\n        condition: () => Preferences.get(P.advanced._.improved_image_controls),\n        css: improvedImageControls,\n    }),\n    uninteresting_subforums: stylesheet({\n        condition: ALWAYS,\n        css: uninterestingSubforums,\n    }),\n    replace_followed_threads_link: stylesheet({\n        condition: () => Preferences.get(P.general._.replace_followed_threads_link),\n        css: replaceFollowedThreadsLink,\n    }),\n    proofread_forum_posts: stylesheet({\n        condition: () => isInEditMode && Preferences.get(P.advanced._.proofread_forum_posts),\n        css: STYLE_PROOFREADING,\n        id: i(\"proofread-forum-posts\"),\n    }),\n    down_for_maintenance: stylesheet({\n        condition: () => !isOnBSCPreferencesPage && isTimeForMaintenance() && Preferences.get(P.advanced._.down_for_maintenance),\n        css: downForMaintenance,\n    }),\n    custom_css: stylesheet({\n        condition: () => Preferences.get(P.advanced._.custom_css_enable),\n        css: Preferences.get(P.advanced._.custom_css_code),\n    }),\n    mention_everyone: stylesheet({\n        condition: () => Preferences.get(P.forum_threads._.mention_everyone_button),\n        css: mentionEveryone,\n    }),\n    // Customize content:\n    customize_content_carousel: stylesheet({\n        condition: () => false === Preferences.get(P.customize_content._.carousel),\n        css: hideById(SITE.ID.carousel),\n    }),\n    customize_content_social_media: stylesheet({\n        condition: () => false === Preferences.get(P.customize_content._.social_media),\n        css: hideByClass(SITE.CLASS.socialMediaButtons),\n    }),\n    customize_content_guides: stylesheet({\n        condition: () => false === Preferences.get(P.customize_content._.guides),\n        css: hideBySelector(SELECTOR.sideColumnGuides),\n    }),\n    customize_content_popular_galleries: stylesheet({\n        condition: () => false === Preferences.get(P.customize_content._.popular_galleries),\n        css: hideBySelector(SELECTOR.sideColumnPopularGalleries),\n    }),\n    customize_content_new_in_forum_side: stylesheet({\n        condition: () => false === Preferences.get(P.customize_content._.new_in_forum_side),\n        css: hideById(SITE.ID.newInForumWidget_side),\n    }),\n    customize_content_new_in_market: stylesheet({\n        condition: () => false === Preferences.get(P.customize_content._.new_in_market),\n        css: hideById(SITE.ID.newInMarketWidget),\n    }),\n    customize_content_new_in_test_lab: stylesheet({\n        condition: () => false === Preferences.get(P.customize_content._.new_in_test_lab),\n        css: hideById(SITE.ID.newInTestLabWidget),\n    }),\n    customize_content_in_the_store: stylesheet({\n        condition: () => false === Preferences.get(P.customize_content._.in_the_store),\n        css: hideById(SITE.ID.inTheStoreWidget),\n    }),\n    customize_content_popular_at_prisjakt: stylesheet({\n        condition: () => false === Preferences.get(P.customize_content._.popular_at_prisjakt),\n        css: hideById(SITE.ID.popularAtPrisjaktWidget),\n    }),\n    customize_content_new_tech_jobs: stylesheet({\n        condition: () => false === Preferences.get(P.customize_content._.new_tech_jobs),\n        css: hideById(SITE.ID.newTechJobsWidget),\n    }),\n    customize_content_external_news: stylesheet({\n        condition: () => false === Preferences.get(P.customize_content._.external_news),\n        css: hideById(SITE.ID.externalNewsWidget),\n    }),\n    customize_content_more_articles: stylesheet({\n        condition: () => false === Preferences.get(P.customize_content._.more_articles),\n        css: hideBySelector(SELECTOR.moreArticles),\n    }),\n    customize_content_latest_news: stylesheet({\n        condition: () => false === Preferences.get(P.customize_content._.latest_news),\n        css: hideById(SITE.ID.latestNewsWidget),\n    }),\n    customize_content_new_in_forum_main: stylesheet({\n        condition: () => false === Preferences.get(P.customize_content._.new_in_forum_main),\n        css: hideById(SITE.ID.newInForumWidget_main),\n    }),\n    customize_content_footer: stylesheet({\n        condition: () => false === Preferences.get(P.customize_content._.footer),\n        css: hideFooter,\n    }),\n};\n// This trick uncovers type errors in STYLESHEETS while retaining the static knowledge of its properties (so we can still write e.g. STYLESHEETS.foo):\nconst _ = STYLESHEETS;\nvoid _;\nexport default STYLESHEETS;\n","import { stylesheets } from \"userscripter\";\nimport { processNode } from \"~src/lib/proofreading\";\nimport C from \"~src/lib/proofreading/classes\";\nimport SELECTOR from \"~src/selectors\";\nimport * as SITE from \"~src/site\";\nimport STYLESHEETS from \"~src/stylesheets\";\nimport { withMaybe } from \"~src/utilities\";\nconst CONTEXT_CHARS = 10; // before and after mistake\n// If a previous and/or next sibling is not found, look outside these elements:\nconst ELEMENTS_TO_GO_OUTSIDE = [\n    \"em\",\n    \"span\",\n    \"strong\",\n    \"sub\",\n    \"sup\",\n].map(x => x.toUpperCase()); // because .tagName is upper case\nexport const performProcessing = (selectors) => () => {\n    const selector = selectors.join(\", \");\n    for (const n of document.querySelectorAll(selector)) {\n        processNode(n);\n    }\n    for (const mistake of document.querySelectorAll(\".\" + C.mistake)) {\n        mistake.addEventListener(\"click\", () => {\n            if (getProofDialogTextarea() === null) {\n                withMaybe(document.getElementById(SITE.ID.correctionsLink), correctionsLink => {\n                    correctionsLink.click();\n                });\n            }\n            // Wait for proof dialog to appear:\n            setTimeout(() => {\n                withMaybe(getProofDialogTextarea(), textarea => {\n                    addCorrection(textarea, {\n                        context: context(mistake),\n                        suggestion: mistake.title,\n                    });\n                });\n            }, 10);\n        });\n    }\n};\nexport var Options;\n(function (Options) {\n    Options[Options[\"ALWAYS\"] = 0] = \"ALWAYS\";\n    Options[Options[\"CORRECTIONS\"] = 1] = \"CORRECTIONS\";\n    Options[Options[\"NEVER\"] = 2] = \"NEVER\";\n})(Options || (Options = {}));\nexport function addListeners(e) {\n    e.correctionsLink.addEventListener(\"click\", _ => {\n        enable();\n        setTimeout(() => {\n            withMaybe(document.querySelector(SELECTOR.proofDialogCloseButton), closeButton => {\n                closeButton.addEventListener(\"click\", disable, { capture: false, passive: true });\n            });\n        }, 10);\n    }, {\n        capture: false,\n        passive: true,\n    });\n}\nexport function enable() {\n    stylesheets.enable(STYLESHEETS.proofread_forum_posts);\n}\nexport function disable() {\n    stylesheets.disable(STYLESHEETS.proofread_forum_posts);\n}\nfunction getProofDialogTextarea() {\n    return document.querySelector(SELECTOR.proofDialogTextarea);\n}\nfunction addCorrection(textarea, correction) {\n    textarea.value = (textarea.value.trim() + [\n        \"\", \"\", \"\",\n        correction.context,\n        \"\",\n        correction.suggestion,\n    ].join(\"\\n\")).trim();\n    textarea.scrollTo(0, Number.MAX_SAFE_INTEGER);\n    textarea.focus();\n    // Corrections are not submitted unless there has been a change event on the textarea.\n    textarea.dispatchEvent(new Event(\"change\"));\n}\nfunction context(mistake) {\n    return [\n        contextBefore(mistake, CONTEXT_CHARS),\n        mistake.textContent,\n        contextAfter(mistake, CONTEXT_CHARS),\n    ].join(\"\");\n}\nfunction contextBeforeOrAfter(getSibling, combine, baseCase) {\n    return (mistake, maxChars) => {\n        const recurse = contextBeforeOrAfter(getSibling, combine, baseCase);\n        const sibling = getSibling(mistake);\n        if (sibling === null) {\n            const parent = mistake.parentElement;\n            return (ELEMENTS_TO_GO_OUTSIDE.includes(parent.tagName)\n                ? recurse(parent, maxChars)\n                : \"\");\n        }\n        const text = sibling.textContent || \"\";\n        return (text.length < maxChars\n            ? combine(text, recurse(sibling, maxChars - text.length))\n            : baseCase(text, maxChars));\n    };\n}\nconst contextBefore = contextBeforeOrAfter(n => n.previousSibling, (text, nextContext) => nextContext + text, (text, maxChars) => text.substring(text.length - maxChars));\nconst contextAfter = contextBeforeOrAfter(n => n.nextSibling, (text, nextContext) => text + nextContext, (text, maxChars) => text.substring(0, maxChars));\n","import * as BB from \"bbcode-tags\";\nimport classnames from \"classnames\";\nimport { Fragment, h } from \"preact\";\nimport { isNull, isString, only } from \"ts-type-guards\";\nimport { log } from \"userscripter\";\nimport * as CONFIG from \"~src/config\";\nimport { insertAtTheEnd, renderIn } from \"~src/operations/logic/render\";\nimport { P, Preferences } from \"~src/preferences\";\nimport SELECTOR from \"~src/selectors\";\nimport * as SITE from \"~src/site\";\nimport * as T from \"~src/text\";\nconst userMessage = Preferences.get(P.forum_threads._.quote_signature_message);\nexport default () => {\n    var _a, _b, _c;\n    const csrf = session.getCsrfToken();\n    const forumPosts = document.getElementsByClassName(SITE.CLASS.forumPost);\n    for (const post of only(HTMLElement)(Array.from(forumPosts))) {\n        if (post.classList.contains(SITE.CLASS.forumPostByCurrentUser)) {\n            // We don't want buttons on the reader's own posts, because they can overflow when the edit button is visible.\n            continue;\n        }\n        const signature = post.querySelector(\".\" + SITE.CLASS.forumPostSignature);\n        const controls = post.querySelector(\".\" + SITE.CLASS.forumPostControls);\n        const authorName = (_b = (_a = post.querySelector(SELECTOR.forumPostAuthorLink)) === null || _a === void 0 ? void 0 : _a.textContent) === null || _b === void 0 ? void 0 : _b.trim();\n        const quoteURL = (_c = post.querySelector(SELECTOR.quoteButton)) === null || _c === void 0 ? void 0 : _c.href;\n        if (controls === null)\n            return couldNotExtractFromPost(\"controls\", post.id);\n        if (!isString(authorName))\n            return couldNotExtractFromPost(\"author name\", post.id);\n        if (!isString(quoteURL))\n            return couldNotExtractFromPost(\"quote URL\", post.id);\n        renderIn(controls, insertAtTheEnd, button({\n            signature,\n            authorName,\n            userMessage,\n            quoteURL,\n            csrf,\n        }));\n    }\n};\nfunction button(props) {\n    const noSignature = isNull(props.signature);\n    return (h(\"button\", { class: classnames(CONFIG.CLASS.quoteSignatureButton, SITE.CLASS.button, noSignature ? SITE.CLASS.disabled : null), title: noSignature ? T.general.quote_signature_tooltip_no_signature(props.authorName) : T.general.quote_signature_tooltip, disabled: noSignature, onClick: () => {\n            fetch(props.quoteURL, { credentials: \"same-origin\" }) // https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/fetch#Parameters\n                .then(response => response.text())\n                .then(responseContent => {\n                var _a;\n                const responseDocument = new DOMParser().parseFromString(responseContent, \"text/html\");\n                const quoteTextarea = responseDocument.querySelector(\"textarea\");\n                if (quoteTextarea === null) {\n                    throw couldNotExtract(\"textarea from fetch response\");\n                }\n                const form = document.createElement(\"form\");\n                form.hidden = true;\n                form.method = \"POST\";\n                form.action = props.quoteURL;\n                renderIn(form, insertAtTheEnd, (h(Fragment, null,\n                    h(\"input\", { name: SITE.FORM.name.csrfToken, type: \"hidden\", value: props.csrf }),\n                    h(\"input\", { name: SITE.FORM.name.action, type: \"hidden\", value: SITE.FORM.value.preview }),\n                    h(\"textarea\", { name: SITE.FORM.name.message, hidden: true }, withSignatureAndUserMessage({\n                        rawQuote: quoteTextarea.textContent || \"\",\n                        rawSignature: ((_a = props.signature) === null || _a === void 0 ? void 0 : _a.textContent) || \"\",\n                        userMessage: props.userMessage,\n                    })))));\n                document.documentElement.appendChild(form); // Otherwise: \"Form submission canceled because the form is not connected\"\n                form.submit();\n            })\n                .catch(log.error);\n        } },\n        h(\"span\", { class: SITE.CLASS.label }, T.general.quote_signature_label)));\n}\nfunction withSignatureAndUserMessage(x) {\n    const SIGNATURE_FONT_SIZE = \"smaller\";\n    const textToInsert = [\n        `\\n`,\n        `________________________`,\n        `\\n`,\n        BB.start(SITE.TAG.size, SIGNATURE_FONT_SIZE),\n        x.rawSignature.trim(),\n        BB.end(SITE.TAG.size),\n    ].join(\"\");\n    return x.rawQuote.replace(/\\n*(?=\\[\\/quote\\]\\s*$)/, textToInsert) + x.userMessage;\n}\nfunction couldNotExtract(what) {\n    return `Could not extract ${what}.`;\n}\nfunction couldNotExtractFromPost(what, htmlId) {\n    return couldNotExtract(`${what} from post with id=\"${htmlId}\"`);\n}\n","import * as BB from \"bbcode-tags\";\nimport * as SITE from \"~src/site\";\nconst END_TAG_QUOTE = BB.end(SITE.TAG.quote);\nconst sentFrom = SITE.MOBILE_SITE_DISCLAIMER.sentFrom;\nconst mobileSiteDomain = SITE.MOBILE_SITE_DISCLAIMER.mobileSiteDomain;\nconst disclaimer = [\n    ``,\n    `[size=\"smaller\"]${sentFrom} [url=\"//${mobileSiteDomain}\"]${mobileSiteDomain}[/url][/size]`,\n    END_TAG_QUOTE,\n].join(\"\\n\");\nexport default (e) => {\n    const textarea = e.textarea;\n    textarea.value = withoutDisclaimers(textarea.value);\n};\n// Removes all disclaimers recursively, so we can use a plain string for the replace pattern:\nfunction withoutDisclaimers(text) {\n    const withoutFirstDisclaimer = text.replace(disclaimer, END_TAG_QUOTE);\n    return text === withoutFirstDisclaimer ? text : withoutDisclaimers(withoutFirstDisclaimer);\n}\n","import { is } from \"ts-type-guards\";\nimport * as SITE from \"~src/site\";\nimport * as T from \"~src/text\";\nimport { assertExhausted } from \"~src/utilities\";\nexport default (e) => {\n    const user = SITE.getUserInfo();\n    switch (user.tag) {\n        case \"CouldNotExtract\": return \"Could not extract logged-in status and/or user ID.\";\n        case \"NotLoggedIn\": return; // No error; there's just nothing to do if the user is not logged in.\n        case \"LoggedIn\": break;\n        default: assertExhausted(user);\n    }\n    const text = e.followedThreadsLinkTextOrSigninButton;\n    const link = text.parentElement;\n    if (!is(HTMLAnchorElement)(link)) {\n        return `Expected a link, but found an element with tagname ${JSON.stringify(link === null || link === void 0 ? void 0 : link.tagName)}.`;\n    }\n    text.textContent = T.general.my_posts;\n    link.href = SITE.PATH.MY_POSTS;\n    link.classList.remove(SITE.CLASS.colorOrange);\n};\n","import { empty, end, start } from \"bbcode-tags\";\nimport { unlines } from \"lines-unlines\";\nimport { insertAtTheEnd, renderIn } from \"~src/operations/logic/render\";\nimport * as SITE from \"~src/site\";\nimport * as T from \"~src/text\";\nimport { toolbarButton } from \"./logic/editing-tools\";\nimport { indent, insert } from \"./logic/textarea\";\nvar Headings;\n(function (Headings) {\n    Headings[Headings[\"NONE\"] = 0] = \"NONE\";\n    Headings[Headings[\"FIRST\"] = 1] = \"FIRST\";\n    Headings[Headings[\"ALL\"] = 2] = \"ALL\";\n})(Headings || (Headings = {}));\nconst TABLE_CONFIG = { rows: 4, columns: 3, headings: true };\nconst tableToolbarButton = toolbarButton({\n    action: (textarea, undoSupport) => insert(table(TABLE_CONFIG))(textarea, undoSupport),\n    class: SITE.CLASS.toolbarTableButton,\n    tooltip: T.general.tooltip_table,\n});\nexport default (undoSupport) => (e) => {\n    const parent = e.unorderedListButton.parentElement;\n    renderIn(parent, insertAtTheEnd, tableToolbarButton(e.textarea, undoSupport));\n};\nfunction table(config) {\n    const headingRow = tableRowLines(config.columns, 2 /* Headings.ALL */);\n    const regularRow = tableRowLines(config.columns, config.headings ? 1 /* Headings.FIRST */ : 0 /* Headings.NONE */);\n    const theadLines = concat([\n        start(\"thead\"),\n        headingRow.map(indent),\n        end(\"thead\"),\n    ]);\n    const tbodyLines = concat([\n        start(\"tbody\"),\n        concat(replicate(config.rows - 1, regularRow.map(indent))),\n        end(\"tbody\"),\n    ]);\n    const tableLines = concat([\n        start(\"table\"),\n        theadLines.map(indent),\n        tbodyLines.map(indent),\n        end(\"table\"),\n    ]);\n    return unlines(tableLines);\n}\nfunction tableRowLines(columns, headings) {\n    const cell_first = headings === 0 /* Headings.NONE */ ? \"td\" : \"th\";\n    const cell_rest = headings === 2 /* Headings.ALL */ ? \"th\" : \"td\";\n    return concat([\n        start(\"tr\"),\n        indent(empty(cell_first)),\n        replicate(columns - 1, indent(empty(cell_rest))),\n        end(\"tr\"),\n    ]);\n}\n// From Haskell. Example: replicate(3, 42) = [42, 42, 42]\nfunction replicate(n, x) {\n    return Array(n).fill(x);\n}\nfunction concat(xs) {\n    return [].concat(...xs);\n}\n","import { h } from \"preact\";\nimport * as CONFIG from \"~src/config\";\nimport iconTextareaLarge from \"~src/icons/textarea-large.svg\";\nimport iconTextareaSmall from \"~src/icons/textarea-small.svg\";\nimport { insertAtTheEnd, renderIn } from \"~src/operations/logic/render\";\nimport { P, Preferences } from \"~src/preferences\";\nimport * as SITE from \"~src/site\";\nimport * as T from \"~src/text\";\nexport default (e) => {\n    const textarea = e.textarea;\n    renderIn(e.toolbarInner, insertAtTheEnd, (h(\"div\", { class: [SITE.CLASS.toolbarGroup, CONFIG.CLASS.textareaSize].join(\" \") },\n        button(textarea, P.edit_mode._.textarea_size_small),\n        button(textarea, P.edit_mode._.textarea_size_large))));\n};\nfunction button(textarea, mode) {\n    const [tooltip, icon] = (mode === P.edit_mode._.textarea_size_small\n        ? [T.general.textarea_size_small, iconTextareaSmall]\n        : [T.general.textarea_size_large, iconTextareaLarge]);\n    return (h(\"div\", { class: \"tbButton iconButton noselect\", title: tooltip },\n        h(\"div\", { class: \"inner\" },\n            h(\"div\", { class: SITE.CLASS.toolbarButtonIcon, onClick: () => apply(mode, textarea), dangerouslySetInnerHTML: { __html: icon } }))));\n}\nfunction apply(mode, textarea) {\n    const size = Preferences.get(mode);\n    textarea.style.height = size + \"px\";\n    Preferences.set(P.edit_mode._.textarea_size, size);\n}\n","export default \"<svg version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 32 32\\\">\\n    <rect x=\\\"1\\\" y=\\\"1\\\" width=\\\"30\\\" height=\\\"10\\\" stroke=\\\"#666\\\" fill=\\\"white\\\" stroke-width=\\\"2\\\"/>\\n</svg>\\n\";","export default \"<svg version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 32 32\\\">\\n    <rect x=\\\"1\\\" y=\\\"1\\\" width=\\\"30\\\" height=\\\"30\\\" stroke=\\\"#666\\\" fill=\\\"white\\\" stroke-width=\\\"2\\\"/>\\n</svg>\\n\";","import { DOMCONTENTLOADED } from \"userscripter/run-time/environment\";\nimport { operation } from \"userscripter/run-time/operations\";\nimport * as CONFIG from \"~src/config\";\nimport { isInEditMode, isInEditMode_forum, isInEditMode_market, isInEditMode_marketContact, isInEditMode_PM, isInForumThreadsView, isOnBSCPreferencesPage, isOnSomeProfilePage, isOnSweclockersSettingsPage, isReadingEditorialContent, isReadingForumThread, isReadingThread, } from \"~src/environment\";\nimport { P, Preferences } from \"~src/preferences\";\nimport SELECTOR from \"~src/selectors\";\nimport * as SITE from \"~src/site\";\nimport manageCaretPosition from \"./operations/caret-position\";\nimport insertDraftModeToggle from \"./operations/draft-mode-toggle\";\nimport insertEditingTools from \"./operations/editing-tools\";\nimport insertHeadingToolbarButton from \"./operations/heading-toolbar-button\";\nimport enableImprovedBuiltinEditingTools from \"./operations/improved-builtin-editing-tools\";\nimport enableImprovedBuiltinEditingToolsUrl from \"./operations/improved-builtin-editing-tools-url\";\nimport adaptCorrectionsLink from \"./operations/improved-corrections\";\nimport * as keyboardShortcutsEditMode from \"./operations/keyboard-shortcuts/edit-mode\";\nimport insertLinkToTop from \"./operations/link-to-top\";\nimport insertMentionEveryoneButton from \"./operations/mention-everyone\";\nimport performMousetrapPreparations from \"./operations/mousetrap-preparations\";\nimport insertPMLinks from \"./operations/pm-links\";\nimport insertPreferencesLink from \"./operations/preferences-link\";\nimport insertPreferencesMenu from \"./operations/preferences-menu\";\nimport insertPreferencesShortcut from \"./operations/preferences-shortcut\";\nimport preventAccidentalSignout from \"./operations/prevent-accidental-signout\";\nimport * as preventAccidentalUnload from \"./operations/prevent-accidental-unload\";\nimport * as Proofreading from \"./operations/proofreading\";\nimport insertQuoteSignatureButtons from \"./operations/quote-signature-buttons\";\nimport redirectHomePageToArchive from \"./operations/redirect-home-page-to-archive\";\nimport rememberLocationInMarket from \"./operations/remember-location-in-market\";\nimport removeMobileSiteDisclaimer from \"./operations/remove-mobile-site-disclaimer\";\nimport replaceFollowedThreadsLink from \"./operations/replace-followed-threads-link\";\nimport insertTableToolbarButton from \"./operations/table-toolbar-button\";\nimport insertTextareaSizeToggle from \"./operations/textarea-size-toggle\";\nimport filterUninterestingSubforums from \"./operations/uninteresting-subforums\";\nconst ALWAYS = true;\nconst improvedBuiltinEditingToolsDescription = \"enable improved built-in editing tools\";\nconst shouldEnableImprovedBuiltinEditingTools = (isInEditMode || isReadingThread) && Preferences.get(P.edit_mode._.improved_builtin_editing_tools);\nconst shouldInsertPreferencesShortcut = Preferences.get(P.general._.insert_preferences_shortcut);\nconst uninterestingSubforumIDs = Preferences.get(P.interests._.uninteresting_subforums);\n// True here means the user wants us to act as if there is undo support (i.e. take no precautions to protect data).\n// Chrome always has actual undo support and Firefox never does.\nconst undoSupport = Preferences.get(P.advanced._.undo_support);\nconst OPERATIONS = [\n    operation({\n        description: \"set document id\",\n        condition: () => ALWAYS,\n        action: () => { document.documentElement.id = CONFIG.ID.document; },\n    }),\n    operation({\n        description: \"redirect front page to archive\",\n        condition: () => !isOnBSCPreferencesPage && Preferences.get(P.general._.redirect_home_page_to_archive),\n        dependencies: {\n            headerLogoLink: `#${SITE.ID.header} a[href=\"/\"]`,\n            latestNewsWidgetLink: `#${SITE.ID.latestNewsWidget} a[href=\"/\"]`,\n            footerLogoLink: `#${SITE.ID.footer} a[href=\"/\"]`,\n        },\n        action: redirectHomePageToArchive,\n    }),\n    operation({\n        // I haven't managed to make this operation work at all in Firefox; the default action is just not overridden.\n        description: improvedBuiltinEditingToolsDescription + \" (URL/hyperlink button)\",\n        condition: () => shouldEnableImprovedBuiltinEditingTools,\n        // This operation cannot be deferred until DOMContentLoaded, because then it can't override the default action for the URL button.\n        dependencies: { body: \"body\" },\n        action: enableImprovedBuiltinEditingToolsUrl(undoSupport),\n    }),\n    operation({\n        description: \"insert preferences menu\",\n        condition: () => isOnBSCPreferencesPage,\n        dependencies: { body: \"body\" },\n        action: insertPreferencesMenu,\n    }),\n    operation({\n        description: \"disable scroll restoration\",\n        condition: () => Preferences.get(P.advanced._.disable_scroll_restoration),\n        action: () => {\n            if (\"scrollRestoration\" in history) {\n                history.scrollRestoration = \"manual\";\n            }\n        },\n    }),\n    operation({\n        description: \"prevent accidental unload (post or message)\",\n        condition: () => isInEditMode && Preferences.get(P.advanced._.prevent_accidental_unload),\n        dependencies: {\n            textarea: SELECTOR.textarea,\n            _actionButtons: SELECTOR.actionButtons,\n        },\n        action: preventAccidentalUnload.postOrMessage,\n    }),\n    operation({\n        description: \"prevent accidental unload (corrections)\",\n        condition: () => isReadingEditorialContent && Preferences.get(P.advanced._.prevent_accidental_unload),\n        action: preventAccidentalUnload.corrections,\n    }),\n    operation({\n        description: \"manage caret position in textarea\",\n        condition: () => isInEditMode,\n        dependencies: {\n            textarea: SELECTOR.textarea,\n            // The market doesn't have a dedicated preview button; its save button fills that purpose in this context.\n            previewButton: isInEditMode_market ? SELECTOR.saveButton : SELECTOR.previewButton,\n        },\n        action: manageCaretPosition,\n    }),\n    operation({\n        description: \"remove mobile site disclaimer\",\n        condition: () => isInEditMode_forum && Preferences.get(P.edit_mode._.remove_mobile_site_disclaimer),\n        dependencies: { textarea: SELECTOR.textarea },\n        action: removeMobileSiteDisclaimer,\n    }),\n    operation({\n        description: \"insert editing tools\",\n        condition: () => isInEditMode && Preferences.get(P.editing_tools._.enable),\n        dependencies: { textarea: SELECTOR.textarea },\n        action: insertEditingTools(undoSupport),\n    }),\n    operation({\n        description: \"insert editing tools in quick reply form\",\n        condition: () => isReadingThread && Preferences.get(P.editing_tools._.enable) && Preferences.get(P.editing_tools._.in_quick_reply_form),\n        dependencies: { textarea: SELECTOR.textarea },\n        action: insertEditingTools(undoSupport),\n    }),\n    operation({\n        description: improvedBuiltinEditingToolsDescription,\n        condition: () => shouldEnableImprovedBuiltinEditingTools,\n        deferUntil: DOMCONTENTLOADED,\n        action: enableImprovedBuiltinEditingTools,\n    }),\n    operation({\n        description: \"insert heading toolbar button\",\n        condition: () => isInEditMode && Preferences.get(P.edit_mode._.insert_heading_toolbar_button),\n        dependencies: {\n            textarea: SELECTOR.textarea,\n            strikeButton: SELECTOR.textareaToolbarStrikeButton,\n        },\n        action: insertHeadingToolbarButton(undoSupport),\n    }),\n    operation({\n        description: \"insert table toolbar button\",\n        condition: () => isInEditMode && Preferences.get(P.edit_mode._.insert_table_toolbar_button),\n        dependencies: {\n            textarea: SELECTOR.textarea,\n            unorderedListButton: SELECTOR.textareaToolbarUnorderedListButton,\n        },\n        action: insertTableToolbarButton(undoSupport),\n    }),\n    operation({\n        description: \"insert textarea size toggle\",\n        condition: () => isInEditMode && Preferences.get(P.edit_mode._.textarea_size_toggle),\n        dependencies: {\n            textarea: SELECTOR.textarea,\n            toolbarInner: SELECTOR.textareaToolbarInner,\n        },\n        action: insertTextareaSizeToggle,\n    }),\n    operation({\n        description: \"insert preferences shortcut\",\n        condition: () => !isOnBSCPreferencesPage && shouldInsertPreferencesShortcut,\n        dependencies: {\n            notificationsBar: \".\" + SITE.CLASS.notifications,\n        },\n        action: insertPreferencesShortcut,\n    }),\n    operation({\n        description: \"prevent accidental signout\",\n        condition: () => isOnSomeProfilePage && Preferences.get(P.advanced._.prevent_accidental_signout),\n        action: preventAccidentalSignout,\n        deferUntil: DOMCONTENTLOADED, // We can't extract the user's ID at document-start.\n    }),\n    operation({\n        description: \"insert preferences link\",\n        condition: () => isOnSweclockersSettingsPage,\n        dependencies: { settingsNavigation: SELECTOR.settingsNavigation },\n        action: insertPreferencesLink,\n    }),\n    operation({\n        description: \"insert link to top\",\n        condition: () => isReadingThread && Preferences.get(P.forum_threads._.insert_link_to_top),\n        action: insertLinkToTop,\n        dependencies: { parent: SELECTOR.pageNavigationAfterForumPosts },\n    }),\n    operation({\n        description: \"insert PM links\",\n        condition: () => isReadingForumThread && Preferences.get(P.forum_threads._.insert_pm_links),\n        action: insertPMLinks,\n        deferUntil: DOMCONTENTLOADED,\n    }),\n    operation({\n        description: \"insert quote signature buttons\",\n        condition: () => isReadingThread && Preferences.get(P.forum_threads._.quote_signature_buttons),\n        action: insertQuoteSignatureButtons,\n        deferUntil: DOMCONTENTLOADED,\n    }),\n    operation({\n        description: \"adapt corrections link to work with improved corrections\",\n        condition: () => isReadingEditorialContent && Preferences.get(P.general._.improved_corrections),\n        dependencies: { correctionsLink: \"#\" + SITE.ID.correctionsLink },\n        action: adaptCorrectionsLink,\n    }),\n    operation({\n        description: \"filter uninteresting subforums\",\n        condition: () => isInForumThreadsView && uninterestingSubforumIDs.length > 0,\n        dependencies: { body: \"body\" },\n        action: filterUninterestingSubforums(uninterestingSubforumIDs),\n        deferUntil: DOMCONTENTLOADED,\n    }),\n    operation({\n        description: \"enable proofreading\",\n        condition: () => Preferences.get(P.advanced._.proofread_articles) === 0 /* Proofreading.Options.ALWAYS */,\n        action: () => {\n            // The border must become red before we make it transparent, so we get the nice \"flash\" effect.\n            window.setTimeout(Proofreading.enable, 10);\n        },\n        deferUntil: DOMCONTENTLOADED,\n    }),\n    operation({\n        description: \"add proofreading listeners\",\n        condition: () => isReadingEditorialContent && Preferences.get(P.advanced._.proofread_articles) === 1 /* Proofreading.Options.CORRECTIONS */,\n        dependencies: { correctionsLink: \"#\" + SITE.ID.correctionsLink },\n        action: Proofreading.addListeners,\n    }),\n    operation({\n        description: \"perform proofreading processing\",\n        condition: () => ((isReadingEditorialContent && Preferences.get(P.advanced._.proofread_articles) !== 2 /* Proofreading.Options.NEVER */)\n            ||\n                (isInEditMode && Preferences.get(P.advanced._.proofread_forum_posts))),\n        action: Proofreading.performProcessing(\n        // Hotfix for #152.\n        isReadingEditorialContent\n            ? [SELECTOR.bbParagraph]\n            : [SELECTOR.bbParagraph, \"h1\", \"h2\", \"h3\"]),\n        deferUntil: DOMCONTENTLOADED,\n    }),\n    operation({\n        description: \"replace followed threads link with a link to my posts\",\n        condition: () => !isOnBSCPreferencesPage && Preferences.get(P.general._.replace_followed_threads_link),\n        dependencies: { followedThreadsLinkTextOrSigninButton: SELECTOR.signinButtonOr(SELECTOR.followedThreadsLinkText) },\n        action: replaceFollowedThreadsLink,\n    }),\n    operation({\n        description: \"remember location in market\",\n        condition: () => isInEditMode_market && Preferences.get(P.general._.remember_location_in_market),\n        dependencies: {\n            city: SELECTOR.cityInput,\n            region: SELECTOR.regionSelect,\n            saveButton: SELECTOR.saveButton,\n        },\n        action: rememberLocationInMarket,\n    }),\n    operation({\n        description: \"insert mention everyone button\",\n        condition: () => isReadingForumThread && Preferences.get(P.forum_threads._.mention_everyone_button),\n        dependencies: {\n            forumPostContainer: SELECTOR.forumPostContainer,\n            replyButton: SELECTOR.replyButtonAfterForumPosts,\n            quickReplyForm: SELECTOR.quickReplyForm,\n        },\n        action: insertMentionEveryoneButton,\n    }),\n    operation({\n        description: \"insert draft mode toggle\",\n        condition: () => (isInEditMode_forum || isInEditMode_PM) && Preferences.get(P.edit_mode._.draft_mode_toggle),\n        dependencies: {\n            saveButton: SELECTOR.saveButton,\n            previewButton: SELECTOR.previewButton,\n        },\n        action: insertDraftModeToggle,\n    }),\n    // Keyboard shortcuts\n    operation({\n        description: \"perform Mousetrap preparations\",\n        condition: () => ALWAYS,\n        action: performMousetrapPreparations,\n        deferUntil: DOMCONTENTLOADED,\n    }),\n    operation({\n        description: \"enable Tab key\",\n        condition: () => isInEditMode && Preferences.get(P.edit_mode._.insert_tab),\n        dependencies: {\n            textarea: SELECTOR.textarea,\n        },\n        action: keyboardShortcutsEditMode.insertTab(Preferences.get(P.edit_mode._.insert_tab_content), undoSupport),\n        deferUntil: DOMCONTENTLOADED,\n    }),\n    operation({\n        description: \"add edit mode keyboard shortcut (insert link)\",\n        condition: () => isInEditMode && Preferences.get(P.edit_mode._.keyboard_shortcuts),\n        dependencies: {\n            textarea: SELECTOR.textarea,\n        },\n        action: keyboardShortcutsEditMode.insertLink(undoSupport),\n        deferUntil: DOMCONTENTLOADED,\n    }),\n    operation({\n        description: \"add edit mode keyboard shortcut (submit)\",\n        condition: () => isInEditMode && Preferences.get(P.edit_mode._.keyboard_shortcuts),\n        dependencies: {\n            textarea: SELECTOR.textarea,\n            saveButton: SELECTOR.saveButton,\n        },\n        action: keyboardShortcutsEditMode.submit,\n        deferUntil: DOMCONTENTLOADED,\n    }),\n    operation({\n        description: \"add edit mode keyboard shortcut (preview)\",\n        condition: () => isInEditMode && !isInEditMode_marketContact && Preferences.get(P.edit_mode._.keyboard_shortcuts),\n        dependencies: {\n            textarea: SELECTOR.textarea,\n            previewButton: SELECTOR.previewButton,\n        },\n        action: keyboardShortcutsEditMode.preview,\n        deferUntil: DOMCONTENTLOADED,\n    }),\n    operation({\n        description: \"add quick reply keyboard shortcut (insert link)\",\n        condition: () => isReadingThread && Preferences.get(P.edit_mode._.keyboard_shortcuts_in_quick_reply),\n        dependencies: {\n            textarea: SELECTOR.textarea,\n        },\n        action: keyboardShortcutsEditMode.insertLink(undoSupport),\n    }),\n    operation({\n        description: \"add quick reply keyboard shortcut (submit)\",\n        condition: () => isReadingThread && Preferences.get(P.edit_mode._.keyboard_shortcuts_in_quick_reply),\n        dependencies: {\n            textarea: SELECTOR.textarea,\n            saveButton: SELECTOR.saveButtonQuickReply,\n        },\n        action: keyboardShortcutsEditMode.submit,\n    }),\n    operation({\n        description: \"add quick reply keyboard shortcut (preview)\",\n        condition: () => isReadingThread && Preferences.get(P.edit_mode._.keyboard_shortcuts_in_quick_reply),\n        dependencies: {\n            textarea: SELECTOR.textarea,\n            previewButton: SELECTOR.previewButtonQuickReply,\n        },\n        action: keyboardShortcutsEditMode.preview,\n    }),\n];\nexport default OPERATIONS;\n","import * as CONFIG from \"~src/config\";\nimport * as SITE from \"~src/site\";\nimport * as T from \"~src/text\";\nexport default (uninterestingIDs) => (e) => {\n    const rows = e.body.querySelectorAll(\"tr.forumThread\");\n    for (const row of rows) {\n        const forumLink = row.querySelector(\"a.forum\");\n        if (forumLink === null) {\n            return `Could not find forum link.`;\n        }\n        const match = forumLink.href.match(SITE.PATH.FORUM_CATEGORY);\n        if (match === null) {\n            return `Could not extract forum ID from this link: ${forumLink.outerHTML}`;\n        }\n        const id = parseInt(match[1]);\n        if (uninterestingIDs.includes(id)) {\n            row.classList.add(CONFIG.CLASS.uninteresting);\n            row.title = T.general.uninteresting_subforum(forumLink.textContent);\n        }\n    }\n};\n","import * as SITE from \"~src/site\";\nexport default (e) => {\n    if (document.location.pathname === \"/\") {\n        document.location.pathname = SITE.PATH.ARCHIVE;\n    }\n    else {\n        for (const link of Object.values(e)) {\n            link.href = SITE.PATH.ARCHIVE;\n        }\n    }\n};\n","import * as Storage from \"ts-storage\";\nimport * as CONFIG from \"~src/config\";\nimport { P, Preferences } from \"~src/preferences\";\nexport default (e) => {\n    // Caret position is only saved when the user requests a preview; it is\n    // wiped on any other page unload.\n    const textarea = e.textarea;\n    const savedPosition = Storage.get_session(CONFIG.KEY.caret_position, NaN).value;\n    // The check below is done here instead of as a condition for the entire\n    // operation, because we need the wiping to be done even if the user has\n    // disabled remember_caret_position.\n    if (Preferences.get(P.edit_mode._.remember_caret_position) && isNaturalNumber(savedPosition)) {\n        placeCaretIn(textarea, savedPosition);\n    }\n    const wipeSavedPosition = () => Storage.remove_session(CONFIG.KEY.caret_position);\n    window.addEventListener(\"unload\", wipeSavedPosition);\n    e.previewButton.addEventListener(\"click\", () => {\n        savePositionIn(textarea);\n        window.removeEventListener(\"unload\", wipeSavedPosition);\n    });\n};\nfunction savePositionIn(textarea) {\n    Storage.set_session(CONFIG.KEY.caret_position, textarea.selectionEnd);\n}\nfunction placeCaretIn(textarea, cursorPosition) {\n    textarea.setSelectionRange(cursorPosition, cursorPosition);\n}\nfunction isNaturalNumber(x) {\n    return x % 1 === 0 && x >= 0;\n}\n","import { errorMessageFromCaught } from \"~src/utilities\";\nimport { insertIn, wrapIn } from \"./logic/textarea\";\nexport default () => {\n    /*\n    SweClockers' built-in functions use `.value`, which kills undo history.\n    This operation replaces them with our own `text-field-edit`-based versions, thereby reintroducing undo/redo support in supported browsers.\n    Our versions sort of mimic the default ones, but they feature more intuitive behavior, such as keeping the selection when a wrap tool (e.g. B/U/I) is used.\n\n    We don't care about protecting data in the absence of undo support; I assume SweClockers only ever modify textarea content \"safely\" (i.e. without deleting anything).\n    */\n    try { // If SweClockers change their \"API\", we want to fail gracefully.\n        Tanuki.Templates.Textarea.Helpers.setSelection = (textarea, replacement) => {\n            insertIn(textarea, { string: replacement, replace: true });\n        };\n        Tanuki.Templates.Textarea.Helpers.insertAtCaret = (textarea, before, after) => {\n            if (after === undefined) {\n                insertIn(textarea, { string: before, replace: true });\n            }\n            else {\n                wrapIn(textarea, { before, after, cursor: \"KEEP_SELECTION\" });\n            }\n        };\n    }\n    catch (err) {\n        return errorMessageFromCaught(err); // String conversion is necessary for the error to be handled properly by Userscripter.\n    }\n};\n","import { h } from \"preact\";\nimport * as CONFIG from \"~src/config\";\nimport { insertAtTheBeginning, renderIn } from \"~src/operations/logic/render\";\nimport * as SITE from \"~src/site\";\nimport * as T from \"~src/text\";\nexport default (e) => {\n    renderIn(e.notificationsBar, insertAtTheBeginning, (\n    // Derived from the other links in the notifications bar.\n    h(\"a\", { href: CONFIG.PATH.PREFERENCES.link(SITE.PATH.SETTINGS.link), title: T.preferences._.title, class: \"margin-medium-right\" },\n        h(\"svg\", { class: \"icon\", dangerouslySetInnerHTML: { __html: SITE.ICONS.settings } }),\n        h(\"span\", { class: \"margin-small-left display-none display-l-inherit\" }, T.preferences._.shortcut_label))));\n};\n","import SELECTOR from \"~src/selectors\";\nimport * as SITE from \"~src/site\";\nimport * as T from \"~src/text\";\nimport { assertExhausted } from \"~src/utilities\";\nexport default () => {\n    const user = SITE.getUserInfo();\n    switch (user.tag) {\n        case \"CouldNotExtract\": return \"Could not extract logged-in status and/or user ID.\";\n        case \"NotLoggedIn\": return; // No error; there's just nothing to do if the user is not logged in.\n        case \"LoggedIn\": break;\n        default: assertExhausted(user);\n    }\n    const ourUserID = user.userID;\n    const isOwnProfilePage = SITE.PATH.PROFILE(ourUserID).test(document.location.pathname);\n    if (!isOwnProfilePage) {\n        return;\n    }\n    const signoutButton = document.querySelector(SELECTOR.signoutButton);\n    if (signoutButton === null) {\n        return `Could not find signout button (${SELECTOR.signoutButton}).`;\n    }\n    signoutButton.addEventListener(\"click\", event => {\n        if (!confirm(T.general.signout_confirmation)) {\n            event.preventDefault();\n        }\n    });\n};\n","import classNames from \"classnames\";\nimport { h } from \"preact\";\nimport * as CONFIG from \"~src/config\";\nimport { insertAtTheEnd, renderIn } from \"~src/operations/logic/render\";\nimport * as SITE from \"~src/site\";\nimport * as T from \"~src/text\";\nexport default (e) => {\n    renderIn(e.settingsNavigation, insertAtTheEnd, (h(\"li\", { title: T.general.preferences_link, class: SITE.CLASS.menuItem },\n        h(\"a\", { href: CONFIG.PATH.PREFERENCES.link(SITE.PATH.SETTINGS.link), class: classNames(SITE.CLASS.button, SITE.CLASS.link) },\n            h(\"span\", { class: SITE.CLASS.icon }),\n            \" \",\n            \" \",\n            h(\"span\", { class: SITE.CLASS.label }, T.general.preferences_link)))));\n};\n","export default \"<svg version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 32 32\\\">\\n    <rect x=\\\"1\\\" y=\\\"5\\\" width=\\\"30\\\" height=\\\"22\\\" stroke=\\\"#444\\\" fill=\\\"#d7d5d1\\\" stroke-width=\\\"2\\\"/>\\n    <polyline points=\\\"1,6  16,17  31,6\\\" stroke=\\\"#444\\\" fill=\\\"none\\\" stroke-width=\\\"2\\\"/>\\n</svg>\\n\";","import { isString } from \"ts-type-guards\";\nimport { log } from \"userscripter\";\nimport { P, Preferences } from \"~src/preferences\";\nexport default (e) => {\n    const cityInput = e.city;\n    const regionSelect = e.region;\n    if (cityInput.value === \"\") {\n        cityInput.value = Preferences.get(P.general._.location_city);\n    }\n    if (regionSelect.selectedIndex === 0) { // no actual selection\n        regionSelect.value = Preferences.get(P.general._.location_region).toString();\n    }\n    e.saveButton.addEventListener(\"click\", () => {\n        Preferences.set(P.general._.location_city, cityInput.value);\n        const parseResult = P.general._.location_region.fromString(regionSelect.value);\n        if (isString(parseResult)) {\n            log.error(parseResult);\n        }\n        else {\n            Preferences.set(P.general._.location_region, parseResult.value);\n        }\n    });\n};\n","import * as CONFIG from \"~src/config\";\nexport default () => {\n    for (const tagName of CONFIG.FOCUSABLE_ELEMENTS) {\n        for (const element of document.querySelectorAll(tagName)) {\n            element.classList.add(CONFIG.CLASS.mousetrap);\n        }\n    }\n};\n","import { Component, h, render } from \"preact\";\nimport * as Storage from \"ts-storage\";\nimport * as CONFIG from \"~src/config\";\nimport * as T from \"~src/text\";\nexport function logger(regularLogger, rootNode) {\n    const initOpen = Storage.get_session(CONFIG.KEY.developer_tools_open, false).value;\n    let devTools;\n    render(h(DevTools, { initOpen: initOpen, ref: self => { devTools = self; } }), rootNode);\n    return Object.assign(Object.assign({}, regularLogger), { error: (prefix, message) => {\n            devTools.log({ kind: \"error\", content: message });\n            regularLogger.error(prefix, message);\n        }, warn: (prefix, message) => {\n            devTools.log({ kind: \"warning\", content: message });\n            regularLogger.warn(prefix, message);\n        } });\n}\nclass DevTools extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            loggedMessages: [],\n            isOpen: props.initOpen,\n        };\n    }\n    log(message) {\n        this.setState(state => ({\n            loggedMessages: [...state.loggedMessages, message],\n        }));\n    }\n    render() {\n        const loggedMessages = this.state.loggedMessages;\n        const loggedWarnings = loggedMessages.filter(msg => msg.kind === \"warning\");\n        const loggedErrors = loggedMessages.filter(msg => msg.kind === \"error\");\n        return (h(\"footer\", { id: CONFIG.ID.developerTools, class: this.state.isOpen ? \"open\" : undefined, \"data-how-many\": loggedMessages.length },\n            h(\"a\", { onClick: _ => {\n                    this.setState(state => {\n                        const newOpenState = !state.isOpen;\n                        Storage.set_session(CONFIG.KEY.developer_tools_open, newOpenState);\n                        return Object.assign(Object.assign({}, state), { isOpen: newOpenState });\n                    });\n                } },\n                summary(loggedErrors.length, \"error\"),\n                summary(loggedWarnings.length, \"warning\")),\n            h(\"ol\", null, loggedMessages.length > 0\n                ? loggedMessages.map(msg => h(\"li\", { class: CONFIG.CLASS.developerTools[msg.kind] }, msg.content))\n                : h(\"li\", null, T.developer_mode.nothing_logged))));\n    }\n}\nfunction summary(howMany, what) {\n    const icon = {\n        error: \"\",\n        warning: \"\",\n    }[what];\n    return (h(\"strong\", { \"data-how-many\": howMany, class: CONFIG.CLASS.developerTools[what], title: T.developer_mode.tooltip[what](howMany) },\n        icon,\n        \"\\u00A0\\u00A0\",\n        howMany));\n}\n","import { compose } from \"@typed/compose\";\nimport { environment, errors, log, userscripter } from \"userscripter\";\nimport * as CONFIG from \"~src/config\";\nimport OPERATIONS from \"~src/operations\";\nimport * as Developer from \"~src/operations/developer-mode\";\nimport { P, Preferences } from \"~src/preferences\";\nimport * as SITE from \"~src/site\";\nimport STYLESHEETS from \"~src/stylesheets\";\nimport U from \"~src/userscript\";\nconst describeFailure = errors.failureDescriber({\n    siteName: SITE.NAME,\n    extensionName: U.name,\n    location: document.location,\n});\nlog.setLogger(Preferences.get(P.advanced._.developer_mode)\n    ? Developer.logger(console, document.documentElement.appendChild(document.createElement(\"div\")))\n    : console);\nuserscripter.run({\n    id: U.id,\n    name: U.name,\n    initialAction: () => log.log(`${U.name} ${U.version}`),\n    stylesheets: STYLESHEETS,\n    operationsPlan: {\n        operations: OPERATIONS,\n        interval: CONFIG.OPERATIONS_INTERVAL,\n        tryUntil: environment.DOMCONTENTLOADED,\n        extraTries: CONFIG.OPERATIONS_EXTRA_TRIES,\n        handleFailures: failures => failures.forEach(compose(log.error, describeFailure)),\n    },\n});\n"],"sourceRoot":""}