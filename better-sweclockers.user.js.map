{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/css-loader/dist/runtime/api.js","webpack:///./node_modules/classnames/index.js","webpack:///./node_modules/milliseconds/milliseconds.js","webpack:///./node_modules/mousetrap/mousetrap.js","webpack:///./node_modules/array-uniq/index.js","webpack:///./node_modules/escape-string-regexp/index.js","webpack:///./src/lib/proofreading/style.scss?fd88","webpack:///./src/stylesheets/developer-mode.scss?be19","webpack:///./src/stylesheets/doge.scss?0e6c","webpack:///./src/stylesheets/down-for-maintenance.scss?ab35","webpack:///./src/stylesheets/editing-tools.scss?59db","webpack:///./src/stylesheets/hide-footer.scss?84aa","webpack:///./src/stylesheets/highlight-own-posts.scss?4b96","webpack:///./src/stylesheets/improved-corrections.scss?71b8","webpack:///./src/stylesheets/improved-image-controls.scss?a60b","webpack:///./src/stylesheets/improved-pagination-buttons.scss?27ee","webpack:///./src/stylesheets/lock-heights.scss?1308","webpack:///./src/stylesheets/main.scss?637f","webpack:///./src/stylesheets/mention-everyone.scss?4a8b","webpack:///./src/stylesheets/preferences-link.scss?cad6","webpack:///./src/stylesheets/preferences-shortcut.scss?7bf5","webpack:///./src/stylesheets/preferences.scss?151e","webpack:///./src/stylesheets/replace-followed-threads-link.scss?a796","webpack:///./src/stylesheets/textarea-size-toggle.scss?3882","webpack:///./src/stylesheets/uninteresting-subforums.scss?dbbe","webpack:///./src/lib/proofreading/style.scss","webpack:///./src/stylesheets/developer-mode.scss","webpack:///./src/stylesheets/doge.scss","webpack:///./src/stylesheets/down-for-maintenance.scss","webpack:///./src/stylesheets/editing-tools.scss","webpack:///./src/stylesheets/hide-footer.scss","webpack:///./src/stylesheets/highlight-own-posts.scss","webpack:///./src/stylesheets/improved-corrections.scss","webpack:///./src/stylesheets/improved-image-controls.scss","webpack:///./src/stylesheets/improved-pagination-buttons.scss","webpack:///./src/stylesheets/lock-heights.scss","webpack:///./src/stylesheets/main.scss","webpack:///./src/stylesheets/mention-everyone.scss","webpack:///./src/stylesheets/preferences-link.scss","webpack:///./src/stylesheets/preferences-shortcut.scss","webpack:///./src/stylesheets/preferences.scss","webpack:///./src/stylesheets/replace-followed-threads-link.scss","webpack:///./src/stylesheets/textarea-size-toggle.scss","webpack:///./src/stylesheets/uninteresting-subforums.scss","webpack:///./node_modules/@typed/compose/lib.es2015/compose.js","webpack:///./node_modules/userscripter/lib/environment.mjs","webpack:///./node_modules/lines-unlines/dist/index.mjs","webpack:///./node_modules/userscripter/lib/errors.mjs","webpack:///./node_modules/userscripter/lib/log.mjs","webpack:///./node_modules/userscripter/lib/stylesheets.mjs","webpack:///./node_modules/ts-type-guards/dist/is.mjs","webpack:///./node_modules/userscripter/lib/operations.mjs","webpack:///./node_modules/userscripter/lib/userscripter.mjs","webpack:///./src/userscript.ts","webpack:///./src/utilities.ts","webpack:///./src/search-engines.ts","webpack:///./src/config.ts","webpack:///./src/site.ts","webpack:///./src/environment.ts","webpack:///./node_modules/ts-storage/dist/index.mjs","webpack:///./node_modules/ts-preferences/dist/Utilities.mjs","webpack:///./node_modules/ts-preferences/dist/preferences/Preference.mjs","webpack:///./node_modules/ts-preferences/dist/PreferenceManager.mjs","webpack:///./node_modules/userscripter/lib/preferences.mjs","webpack:///./node_modules/bbcode-tags/dist/index.mjs","webpack:///./src/browser.ts","webpack:///./src/text.ts","webpack:///./node_modules/ts-preferences/dist/preferences/BooleanPreference.mjs","webpack:///./node_modules/ts-preferences/dist/preferences/MultichoicePreference.mjs","webpack:///./node_modules/ts-preferences/dist/preferences/StringPreference.mjs","webpack:///./src/preferences/advanced.ts","webpack:///./src/preferences/customize-content.ts","webpack:///./node_modules/ts-preferences/dist/preferences/NumericPreference.mjs","webpack:///./node_modules/ts-preferences/dist/preferences/IntegerPreference.mjs","webpack:///./node_modules/ts-preferences/dist/preferences/RangePreference.mjs","webpack:///./node_modules/ts-preferences/dist/preferences/IntegerRangePreference.mjs","webpack:///./src/preferences/edit-mode.ts","webpack:///./node_modules/preact/dist/preact.module.js","webpack:///./node_modules/text-field-edit/index.js","webpack:///./src/operations/logic/textarea.ts","webpack:///./src/operations/actions/replace-spaces-with-nbsps.ts","webpack:///./src/operations/actions/search-link.ts","webpack:///./src/operations/actions/shibe.ts","webpack:///./src/operations/actions/split-quote.ts","webpack:///./src/operations/logic/smileys.ts","webpack:///./src/operations/logic/editing-tools.tsx","webpack:///./src/icons/search-link.svg","webpack:///./src/icons/quote.svg","webpack:///./src/icons/split-quote.svg","webpack:///./src/icons/expander.svg","webpack:///./src/operations/logic/render.ts","webpack:///./src/preferences/editing-tools.ts","webpack:///./src/preferences/forum-threads.ts","webpack:///./src/preferences/general.ts","webpack:///./node_modules/ts-preferences/dist/preferences/ListPreference.mjs","webpack:///./src/preferences/interests.ts","webpack:///./src/actions.ts","webpack:///./src/preferences/keyboard.ts","webpack:///./src/preferences.ts","webpack:///./src/selectors.ts","webpack:///./src/operations/draft-mode-toggle.ts","webpack:///./src/operations/editing-tools.tsx","webpack:///./src/operations/heading-toolbar-button.tsx","webpack:///./src/operations/improved-builtin-editing-tools-url.ts","webpack:///./src/operations/improved-corrections.ts","webpack:///./src/operations/prevent-accidental-unload.ts","webpack:///./src/operations/logic/click.ts","webpack:///./src/operations/keyboard-shortcuts/edit-mode.ts","webpack:///./src/operations/link-to-top.tsx","webpack:///./src/operations/edit-mode.ts","webpack:///./src/operations/mention-everyone.tsx","webpack:///./node_modules/ts-type-guards/dist/only.mjs","webpack:///./src/operations/pm-links.tsx","webpack:///./node_modules/ts-preferences/dist/preferences/DoublePreference.mjs","webpack:///./node_modules/ts-preferences/dist/preferences/DoubleRangePreference.mjs","webpack:///./src/preferences-menu.tsx","webpack:///./src/operations/preferences-menu.tsx","webpack:///./node_modules/highlight-mistakes/dist/utilities.mjs","webpack:///./node_modules/highlight-mistakes/dist/rules.mjs","webpack:///./node_modules/@alling/sweclockers-writing-rules/dist/index.mjs","webpack:///./node_modules/highlight-mistakes/dist/core.mjs","webpack:///./src/lib/proofreading/classes.ts","webpack:///./src/lib/proofreading/index.ts","webpack:///./src/stylesheets/hide.ts","webpack:///./src/time.ts","webpack:///./src/stylesheets.ts","webpack:///./src/operations/proofreading.ts","webpack:///./src/operations/quote-signature-buttons.tsx","webpack:///./src/operations/remove-mobile-site-disclaimer.ts","webpack:///./src/operations/replace-followed-threads-link.ts","webpack:///./src/operations/table-toolbar-button.tsx","webpack:///./src/operations/textarea-size-toggle.tsx","webpack:///./src/icons/textarea-small.svg","webpack:///./src/icons/textarea-large.svg","webpack:///./src/operations.ts","webpack:///./src/operations/uninteresting-subforums.ts","webpack:///./src/operations/caret-position.ts","webpack:///./src/operations/improved-builtin-editing-tools.ts","webpack:///./src/operations/preferences-shortcut.tsx","webpack:///./src/operations/prevent-accidental-signout.ts","webpack:///./src/operations/preferences-link.tsx","webpack:///./src/icons/pm.svg","webpack:///./src/operations/remember-location-in-market.ts","webpack:///./src/operations/mousetrap-preparations.ts","webpack:///./src/operations/developer-mode.tsx","webpack:///./src/main.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","useSourceMap","list","toString","this","map","item","content","cssMapping","btoa","sourceMapping","sourceMap","base64","unescape","encodeURIComponent","JSON","stringify","data","concat","sourceURLs","sources","source","sourceRoot","join","cssWithMappingToString","mediaQuery","dedupe","alreadyImportedModules","length","id","_i","push","hasOwn","classNames","classes","arguments","arg","argType","Array","isArray","inner","apply","default","calc","Math","round","seconds","minutes","hours","days","weeks","months","years","window","document","undefined","_REVERSE_MAP","_MAP","8","9","13","16","17","18","20","27","32","33","34","35","36","37","38","39","40","45","46","91","93","224","_KEYCODE_MAP","106","107","109","110","111","186","187","188","189","190","191","192","219","220","221","222","_SHIFT_MAP","_SPECIAL_ALIASES","test","navigator","platform","Mousetrap","keys","callback","action","_bindMultiple","unbind","trigger","_directMap","reset","_callbacks","stopCallback","e","element","className","indexOf","_belongsTo","ancestor","parentNode","target","composedPath","initialEventTarget","tagName","isContentEditable","handleKey","self","_handleKey","addKeycodes","init","documentMousetrap","method","charAt","_addEvent","type","addEventListener","attachEvent","_characterFromEvent","character","String","fromCharCode","which","shiftKey","toLowerCase","_isModifier","_pickBestAction","modifiers","_getReverseMap","_getKeyInfo","combination","replace","split","_keysFromString","targetElement","_resetTimer","_sequenceLevels","_ignoreNextKeyup","_ignoreNextKeypress","_nextExpectedAction","_resetSequences","doNotReset","activeSequences","_getMatches","sequenceName","level","modifiers1","modifiers2","matches","seq","metaKey","ctrlKey","sort","deleteCombo","combo","deleteSequence","splice","_fireCallback","sequence","srcElement","preventDefault","returnValue","_preventDefault","stopPropagation","cancelBubble","_stopPropagation","_handleKeyEvent","keyCode","altKey","_eventModifiers","_bindSequence","_increaseSequence","nextAction","clearTimeout","setTimeout","_callbackAndReset","wrappedCallback","_bindSingle","info","callbacks","maxLevel","processedSequenceCallback","max","ignoreThisKeypress","combinations","array","Set","matchOperatorsRe","str","TypeError","result","___CSS_LOADER_API_IMPORT___","locals","compose","_compose1","_compose2","_compose3","_compose4","_compose5","f","a","g","h","j","ALWAYS","NEVER","DOMCONTENTLOADED","state","LOAD","lines","unlines","ls","line","formatDependency","selector","explanation","failure","reason","dependencies","message","failureDescriber","context","operation","description","location","href","trim","siteName","extensionName","prefix","logger","console","setPrefix","setLogger","log","warning","warn","error","stylesheet","spec","stylesheets","fragment","createDocumentFragment","entries","forEach","_","sheet","style","createElement","textContent","css","media","condition","appendChild","documentElement","setMediaQuery","getElementById","setAttribute","enable","disable","TYPE_GUARDS_PRIMITIVE","isBoolean","isNumber","isString","isSymbol","isNull","isUndefined","x","isPrimitive","some","namedTypeGuard","creator","typeGuard","fun","writable","is","isLike","reference","referenceAsArray","every","constructor","includes","k","Function","tryToPerform","queryResults","querySelector","missingDependencies","filter","reduce","acc","userscript","attr","plan","hasAttribute","initialAction","recurse","operations","failures","triesLeft","lastTry","operationsToRunNow","remaining","readyState","deferUntil","tryUntil","extraTries","interval","handleFailures","operationsPlan","raw","fromMaybeUndefined","fallback","withMaybe","ma","assertExhausted","Error","SearchEngine","USERSCRIPT_ID","USERSCRIPT_NAME","PREFIX_ID","PREFIX_CLASS","ID","developerTools","preferenceIdPrefix","editingTools","editingToolsPreferences","interestsPreferences","proofreading","CLASS","mousetrap","disabled","iconButton","pmButton","quoteSignatureButton","mentionEveryoneButton","shibe","button_color","button_blockquote","button_spoiler","button_code","button_math","splitQuote","colorPalette","smileys","preference","preferenceDescription","inlinePreference","primaryInlinePreference","radioButtonPreference","labeledInput","subforum","textareaSize","codeInput","checkbox","uninteresting","PATH","link","sweclockersSettingsPath","check","RegExp","KEY","caret_position","developer_tools_open","draft_mode","CONTENT","indentation","shibeColor","shibeFont","splitQuoteEmptyLines","edit","doge","ICONS","BLOCKQUOTE","DOGE","FOCUSABLE_ELEMENTS","NAME","fieldset","button","icon","label","colorOrange","menuItem","settingsNavigation","forumPosts","forumPost","forumPostProfileDetails","forumPostSignature","forumPostControls","forumPostByCurrentUser","bbcode","bbDel","bbImage","bbIns","imgControls","notifications","proofDialog","socialMediaButtons","sideBox","smiley","subforums","toolbarGroup","toolbarButton","toolbarButtonIcon","toolbarHeadingButton","toolbarTableButton","FORM","csrfToken","recipients","title","preview","submit","EDIT_MODE_FORUM","EDIT_MODE_MARKET","EDIT_MODE_MARKET_CONTACT","EDIT_MODE_PM","EDIT_MODE_REPORT","EDIT_MODE_SIGNATURE","SETTINGS","FOLLOWED","MY_POSTS","SIGNIN","SIGNOUT","ARTICLE","GUIDE","NEWS","COMPETITION","TEST","TESTPILOT","FORUM_CATEGORY","FORUM","FORUM_THREADS_VIEW","PROFILE","userId","THREAD","POST","newPrivateMessage","sender","postID","TAG","toolbarIcon","position","position_toolbar_url","position_toolbar_img","settings","MOBILE_SITE_DISCLAIMER","sentFrom","mobileSiteDomain","getUserInfo","_a","_b","userID","session","_userid","tag","isOnBSCPreferencesPage","pathMatches","isOnSweclockersSettingsPage","isOnSomeProfilePage","pathname","isInForumThreadsView","isInEditMode_forum","isInEditMode_market","isInEditMode_marketContact","isInEditMode_PM","isInEditMode_report","isInEditMode_signature","isInEditMode","isReadingEditorialContent","isReadingThread","isReadingForumThread","startsWith","Status","LOCAL_STORAGE","localStorage","SESSION_STORAGE","sessionStorage","get_session","getFrom","set_session","setIn","storage","savedValue","DOMException","readValue","getItem","parsedValue","parse","readFrom","status","err","SyntaxError","stringifiedValue","_key","v","Number","isFinite","RangeError","setItem","saveIn","removeIn","removeItem","fromMaybe","replacer","isNaN","Infinity","prependConstraints","cs","constraints","getClassName","extras","validationResult","validate","invalidValue","len","constraint","requirement","SIMPLE_RESPONSE_HANDLER","summary","response","unknown","fromStorageStatus","assertUnreachable","parameter","empty","supportsUndo","userAgent","isGecko","isAndroid","general","loading","preferences_link","signout_confirmation","draft_mode_toggle_label","draft_mode_toggle_tooltip","draft_mode_enabled_tooltip","improved_url_button_url","improved_url_button_text","nbsps_confirm","generic_lines_confirm","quote_signature_label","quote_signature_tooltip","quote_signature_tooltip_no_signature","author","mention_everyone_label","mention_everyone_tooltip","uninteresting_subforum","subforumName","pm_link_label","go_to_post","link_to_top_tooltip","textarea_size_small","textarea_size_large","tooltip_h","tooltip_table","down_for_maintenance","my_posts","NO_LABEL","shortcut_label","back_to_sweclockers","save_notice","failed_to_fetch_categories","in_quick_reply_form","in_quick_reply_form_description","lock_heights","lock_heights_description","improved_corrections","improved_corrections_description","insert_preferences_shortcut","insert_preferences_shortcut_description","replace_followed_threads_link","replace_followed_threads_link_description","remember_location_in_market","remember_location_in_market_description","forum_threads","improved_pagination_buttons","improved_pagination_buttons_description","insert_link_to_top","insert_link_to_top_description","highlight_own_posts","highlight_own_posts_description","insert_pm_links","insert_pm_links_description","mention_everyone_button","mention_everyone_button_description","quote_signature_buttons","quote_signature_buttons_description","quote_signature_message","quote_signature_message_description","quote_signature_message_default","edit_mode","draft_mode_toggle","draft_mode_toggle_description","textarea_size_save","textarea_size_save_description","textarea_size_toggle","textarea_size_toggle_description","textarea_size_unit","monospace_font","monospace_font_description","keyboard_shortcuts","keyboard_shortcuts_description","insert_tab","insert_tab_description","insert_tab_spaces","insert_tab_tab","improved_builtin_editing_tools","improved_builtin_editing_tools_description","insert_heading_toolbar_button","insert_heading_toolbar_button_description","insert_table_toolbar_button","insert_table_toolbar_button_description","remember_caret_position","remember_caret_position_description","remove_mobile_site_disclaimer","remove_mobile_site_disclaimer_description","editing_tools","enable_description","above","below","special_characters","meta","code","math","whitespace","definitions","embed","search_engine","doge_description","color_palette","color_palette_description","customize_content","carousel","social_media","guides","popular_galleries","new_in_forum_side","new_in_market","new_in_test_lab","in_the_store","popular_at_prisjakt","new_tech_jobs","external_news","more_articles","latest_news","new_in_forum_main","footer","advanced","prevent_accidental_signout","prevent_accidental_signout_description","prevent_accidental_unload","prevent_accidental_unload_description","improved_image_controls","improved_image_controls_description","disable_scroll_restoration","disable_scroll_restoration_description","down_for_maintenance_description","proofread_articles","always","corrections","never","proofread_forum_posts","proofread_forum_posts_description","undo_support","replace_selected","keep_selected","developer_mode","developer_mode_description","custom_css_enable","custom_css_enable_description","custom_css_warning","keyboard","interests","size_label","size_tooltip","color_tooltip","font_tooltip","mark_label","mark_tooltip","abbr_label","abbr_tooltip","quote_tooltip","bq_label","bq_tooltip","spoiler_tooltip","expander_tooltip","noparse_tooltip","pre_tooltip","cmd_tooltip","code_tooltip","math_label","math_tooltip","sub_label","sub_tooltip","sup_label","sup_tooltip","nbsps_label","nbsps_tooltip","url_tooltip","img_tooltip","search_link_tooltip","shibe_label","shibe_tooltip","doge_label","doge_tooltip","split_quote_tooltip","edit_label","edit_tooltip","ins_label","ins_tooltip","del_label","del_tooltip","dl_label","dl_tooltip","dt_label","dt_tooltip","dd_label","dd_tooltip","insert","tooltip","nothing_logged","options","super","seenOptionValues","option","minLength","maxLength","CONSTRAINTS","multiline","truncated","substring","toValid","REGEX_LINE_BREAKS","custom_css_code","class","parsed","CONSTRAINT_INTEGER","parseInt","postParse","isInteger","min","dependencies_textarea_size_toggle","TAB","u","textarea_size","MAX_VALUE","implicit","suffix","monospace_font_in_quick_reply_form","keyboard_shortcuts_in_quick_reply","insert_tab_content","repeat","removeChild","children","defaultProps","props","ref","__k","__","__b","__e","__d","__c","__h","__v","vnode","base","__r","debounceRendering","__P","$","__n","ownerSVGElement","y","w","b","A","P","L","I","nextSibling","insertBefore","setProperty","C","cssText","slice","N","z","removeEventListener","removeAttributeNS","setAttributeNS","removeAttribute","event","contextType","__E","render","M","sub","__s","getDerivedStateFromProps","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","T","componentWillUpdate","componentDidUpdate","getChildContext","getSnapshotBeforeUpdate","H","diffed","nodeType","localName","createTextNode","createElementNS","childNodes","dangerouslySetInnerHTML","attributes","__html","innerHTML","checked","current","unmount","componentWillUnmount","O","getDerivedStateFromError","setState","componentDidCatch","forceUpdate","Promise","then","resolve","field","text","ownerDocument","initialFocus","activeElement","focus","execCommand","setRangeText","selectionStart","selectionEnd","dispatchEvent","InputEvent","inputType","isComposing","insertTextFirefox","body","blur","HTMLElement","indent","wrapIn","textarea","insertionResult","insertion","start","end","startOfInsertedText","textareaContent","string","startOfInserted","endOfInserted","insertPure","before","selectedTextIn","after","wrap","wrapEnd","selection","getSelection","cursor","placeCursorIn","selectRangeIn","wrap_verbatim","wrap_tag","spacing","block","parameterized","undoSupport","insertIn","setSelectionRange","CONSECUTIVE_SPACES","selected","startTag","engine","completePhrase","searchEngineURL","searchURL","shibeText","original","floor","random","lengthOfGuaranteedMatchIn","regexThatAlwaysMatches","match","SMILEYS","codeFor","classFor","BUTTON","nbsps","generalButton","selectedText","numberOfSelectedSpaces","numberOfSelectedSpaceSegments","confirmationNeeded","confirm","url","tagButton","image","img","imgify","search","selectedLines","nonEmptyLines","longestLineLength","shibeConfirmationNeeded","quote","beforeSelection","afterSelection","existingNewlinesBeforeSelection","existingNewlinesAfterSelection","trimRight","trimLeft","numberOfNewlinesToInsert","endTag","extraNewlineBeforeSelectionNeeded","extraNewlineAfterSelectionNeeded","expander","BUTTONS","searchEngine","COLORS","insertButton","colorButton","color","smileyButton","custom","onClick","renderIn","parent","placeholder","nodeProps","maxTotalLength","insertAtTheEnd","append","insertAtTheBeginning","prepend","insertAfter","buttonsDescription","buttons","connectedButtons","div","Position","more","dependencies_quote_signature","location_region","location_city","Action","uninteresting_subforums","shortcut","INSERT_LINK","SUBMIT","PREVIEW","INSERT_TAB","handler","changeListeners","subscribe","listener","add","unsubscribe","delete","preferences","subscriptable","saved","set","Preferences","localStoragePrefix","responseHandler","cache","Map","seenKeys","allPreferences","flatten","tree","values","node","dependency","getWith","setWith","getRaw","setRaw","getFromCacheOrThrowIfUnknown","cachedValue","textareaToolbarInner","textareaToolbarStrikeButton","textareaToolbarUnorderedListButton","proofDialogTextarea","threadTitle","moreArticles","actionButtons","quoteButton","previewButton","saveButton","saveButtonQuickReply","actionButtonsQuickReply","previewButtonQuickReply","forumPostContainer","replyButtonAfterForumPosts","cityInput","regionSelect","sideColumnGuides","sideColumnPopularGalleries","bbParagraph","forumLink","forumPostAuthorLink","linkedForumPost","pageNavigationAfterForumPosts","quickReplyForm","signoutButton","signinButtonOr","followedThreadsLinkText","proofDialogCloseButton","draftModeEnabled","insertBeforeOrAfter","parentElement","EditingTools","config","getEditingToolsConfig","connected","connectedTagButton","connectedInsertButton","connectedColorButton","connectedSmileyButton","headingToolbarButton","isUrlLike","shouldPreventUnload","handleBeforeUnload","preventUnload","enableListener","disableListener","clickOn","Event","click","keyboardShortcuts","bindKeyboardShortcut","insertLink","entry","mention","username","usersToMention","nameLinks","from","querySelectorAll","only","xs","REGEX_GENERATED_QUOTE","couldNotExtract","what","couldNotExtractFromPost","htmlId","parseFloat","PID","GENERATORS","Boolean","LabeledInput","onChange","fromStringEventHandler","Integer","Double","step","IntegerRange","DoubleRange","pow","log10","Multichoice","html","RadioButton","index","selectedIndex","fromString","referrer","src","alt","Entries","generators","ps","InputElement","for","Entry","input","isDefined","fetch","origin","responseContent","links","DOMParser","parseFromString","categories","HTMLAnchorElement","linkData","isSubforum","classList","contains","extractForumLinkData","catch","category","checkboxId","newUninteresting","literalRule","core","literal","mx","fmap","literalRegex","simpleRule","matchRule","bad","assign","regexRule","regex","DESC_NBSP","good","DESC_NBH","DESC_END","simpleNBSP","matchNBSP","regexNBSP","simpleNBH","matchNBH","simpleEND","NUMBER","RULES_NB_SPACE","RULES_NB_HYPHEN","RULES_EN_DASH","RULES_TIMES","GIBBERISH","RULES","RULES_SUP","proofreadWith","rules","markAll","markVerified","lookaround","markMistake","markMistakesAndVerifiedUsing","reduceRight","kind","mark","f_b","f_m","f_a","lookbehind","lookahead","group","whatToFind","whatToMark","fakeLookaround","markIn","found","rest","captured","findAndMarkUsing","markWith","isMistake","processSup","processNode","processNodeWith","sup","Node","TEXT_NODE","span","replaceChild","ELEMENT_NODE","nodeName","pattern","hideById","hideBySelector","timeIsWithin","time","date","startOfToday","Date","setHours","setMinutes","setSeconds","setMilliseconds","getTime","timeOfDay","STYLESHEETS","main","preferences_shortcut","textarea_size_toggle_textarea_height","custom_css","mention_everyone","customize_content_carousel","customize_content_social_media","hideByClass","customize_content_guides","customize_content_popular_galleries","customize_content_new_in_forum_side","customize_content_new_in_market","customize_content_new_in_test_lab","customize_content_in_the_store","customize_content_popular_at_prisjakt","customize_content_new_tech_jobs","customize_content_external_news","customize_content_more_articles","customize_content_latest_news","customize_content_new_in_forum_main","customize_content_footer","ELEMENTS_TO_GO_OUTSIDE","toUpperCase","Options","getProofDialogTextarea","addCorrection","correction","suggestion","scrollTo","MAX_SAFE_INTEGER","mistake","contextBefore","contextAfter","contextBeforeOrAfter","getSibling","combine","baseCase","maxChars","sibling","previousSibling","nextContext","userMessage","noSignature","signature","authorName","quoteURL","credentials","quoteTextarea","form","hidden","csrf","textToInsert","rawSignature","rawQuote","withSignatureAndUserMessage","END_TAG_QUOTE","disclaimer","Headings","TABLE_CONFIG","rows","columns","headings","tableToolbarButton","headingRow","tableRowLines","regularRow","theadLines","tbodyLines","replicate","table","cell_first","cell_rest","fill","size","height","shouldEnableImprovedBuiltinEditingTools","shouldInsertPreferencesShortcut","uninterestingSubforumIDs","selectors","improvedBuiltinEditingToolsDescription","Beta","Forms","Toolbar","Buttons","HyperlinkButton","insertTemplate","HTMLTextAreaElement","Taiga","Strings","sprintf","suggestedLinkUrl","suggestedLinkText","providedLinkUrl","prompt","providedLinkText","finalLinkUrl","finalLinkText","newSelectionStart","rel","yyyymmdd","getFullYear","getMonth","padStart","getDate","history","scrollRestoration","_actionButtons","changeListener","offsetParent","savedPosition","NaN","cursorPosition","placeCaretIn","wipeSavedPosition","savePositionIn","withoutDisclaimers","withoutFirstDisclaimer","Tanuki","Templates","Textarea","Helpers","setSelection","replacement","insertAtCaret","strikeButton","unorderedListButton","toolbarInner","notificationsBar","user","ourUserID","xlinkHref","getElementsByClassName","post","profileDetails","getCsrfToken","_c","controls","correctionsLink","stopImmediatePropagation","row","outerHTML","uninterestingIDs","closeButton","capture","passive","followedThreadsLinkTextOrSigninButton","remove","city","region","parseResult","replyButton","replyURL","getAttribute","toggle","insertAdjacentElement","loggedMessages","isOpen","initOpen","loggedWarnings","msg","loggedErrors","newOpenState","howMany","describeFailure","regularLogger","rootNode","devTools","run"],"mappings":"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","file":"better-sweclockers.user.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 47);\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || '').concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}","/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg) && arg.length) {\n\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\tif (inner) {\n\t\t\t\t\tclasses.push(inner);\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","function calc(m) {\n    return function(n) { return Math.round(n * m); };\n};\nmodule.exports = {\n    seconds: calc(1e3),\n    minutes: calc(6e4),\n    hours: calc(36e5),\n    days: calc(864e5),\n    weeks: calc(6048e5),\n    months: calc(26298e5),\n    years: calc(315576e5)\n};\n","/*global define:false */\n/**\n * Copyright 2012-2017 Craig Campbell\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * Mousetrap is a simple keyboard shortcut library for Javascript with\n * no external dependencies\n *\n * @version 1.6.3\n * @url craig.is/killing/mice\n */\n(function(window, document, undefined) {\n\n    // Check if mousetrap is used inside browser, if not, return\n    if (!window) {\n        return;\n    }\n\n    /**\n     * mapping of special keycodes to their corresponding keys\n     *\n     * everything in this dictionary cannot use keypress events\n     * so it has to be here to map to the correct keycodes for\n     * keyup/keydown events\n     *\n     * @type {Object}\n     */\n    var _MAP = {\n        8: 'backspace',\n        9: 'tab',\n        13: 'enter',\n        16: 'shift',\n        17: 'ctrl',\n        18: 'alt',\n        20: 'capslock',\n        27: 'esc',\n        32: 'space',\n        33: 'pageup',\n        34: 'pagedown',\n        35: 'end',\n        36: 'home',\n        37: 'left',\n        38: 'up',\n        39: 'right',\n        40: 'down',\n        45: 'ins',\n        46: 'del',\n        91: 'meta',\n        93: 'meta',\n        224: 'meta'\n    };\n\n    /**\n     * mapping for special characters so they can support\n     *\n     * this dictionary is only used incase you want to bind a\n     * keyup or keydown event to one of these keys\n     *\n     * @type {Object}\n     */\n    var _KEYCODE_MAP = {\n        106: '*',\n        107: '+',\n        109: '-',\n        110: '.',\n        111 : '/',\n        186: ';',\n        187: '=',\n        188: ',',\n        189: '-',\n        190: '.',\n        191: '/',\n        192: '`',\n        219: '[',\n        220: '\\\\',\n        221: ']',\n        222: '\\''\n    };\n\n    /**\n     * this is a mapping of keys that require shift on a US keypad\n     * back to the non shift equivelents\n     *\n     * this is so you can use keyup events with these keys\n     *\n     * note that this will only work reliably on US keyboards\n     *\n     * @type {Object}\n     */\n    var _SHIFT_MAP = {\n        '~': '`',\n        '!': '1',\n        '@': '2',\n        '#': '3',\n        '$': '4',\n        '%': '5',\n        '^': '6',\n        '&': '7',\n        '*': '8',\n        '(': '9',\n        ')': '0',\n        '_': '-',\n        '+': '=',\n        ':': ';',\n        '\\\"': '\\'',\n        '<': ',',\n        '>': '.',\n        '?': '/',\n        '|': '\\\\'\n    };\n\n    /**\n     * this is a list of special strings you can use to map\n     * to modifier keys when you specify your keyboard shortcuts\n     *\n     * @type {Object}\n     */\n    var _SPECIAL_ALIASES = {\n        'option': 'alt',\n        'command': 'meta',\n        'return': 'enter',\n        'escape': 'esc',\n        'plus': '+',\n        'mod': /Mac|iPod|iPhone|iPad/.test(navigator.platform) ? 'meta' : 'ctrl'\n    };\n\n    /**\n     * variable to store the flipped version of _MAP from above\n     * needed to check if we should use keypress or not when no action\n     * is specified\n     *\n     * @type {Object|undefined}\n     */\n    var _REVERSE_MAP;\n\n    /**\n     * loop through the f keys, f1 to f19 and add them to the map\n     * programatically\n     */\n    for (var i = 1; i < 20; ++i) {\n        _MAP[111 + i] = 'f' + i;\n    }\n\n    /**\n     * loop through to map numbers on the numeric keypad\n     */\n    for (i = 0; i <= 9; ++i) {\n\n        // This needs to use a string cause otherwise since 0 is falsey\n        // mousetrap will never fire for numpad 0 pressed as part of a keydown\n        // event.\n        //\n        // @see https://github.com/ccampbell/mousetrap/pull/258\n        _MAP[i + 96] = i.toString();\n    }\n\n    /**\n     * cross browser add event method\n     *\n     * @param {Element|HTMLDocument} object\n     * @param {string} type\n     * @param {Function} callback\n     * @returns void\n     */\n    function _addEvent(object, type, callback) {\n        if (object.addEventListener) {\n            object.addEventListener(type, callback, false);\n            return;\n        }\n\n        object.attachEvent('on' + type, callback);\n    }\n\n    /**\n     * takes the event and returns the key character\n     *\n     * @param {Event} e\n     * @return {string}\n     */\n    function _characterFromEvent(e) {\n\n        // for keypress events we should return the character as is\n        if (e.type == 'keypress') {\n            var character = String.fromCharCode(e.which);\n\n            // if the shift key is not pressed then it is safe to assume\n            // that we want the character to be lowercase.  this means if\n            // you accidentally have caps lock on then your key bindings\n            // will continue to work\n            //\n            // the only side effect that might not be desired is if you\n            // bind something like 'A' cause you want to trigger an\n            // event when capital A is pressed caps lock will no longer\n            // trigger the event.  shift+a will though.\n            if (!e.shiftKey) {\n                character = character.toLowerCase();\n            }\n\n            return character;\n        }\n\n        // for non keypress events the special maps are needed\n        if (_MAP[e.which]) {\n            return _MAP[e.which];\n        }\n\n        if (_KEYCODE_MAP[e.which]) {\n            return _KEYCODE_MAP[e.which];\n        }\n\n        // if it is not in the special map\n\n        // with keydown and keyup events the character seems to always\n        // come in as an uppercase character whether you are pressing shift\n        // or not.  we should make sure it is always lowercase for comparisons\n        return String.fromCharCode(e.which).toLowerCase();\n    }\n\n    /**\n     * checks if two arrays are equal\n     *\n     * @param {Array} modifiers1\n     * @param {Array} modifiers2\n     * @returns {boolean}\n     */\n    function _modifiersMatch(modifiers1, modifiers2) {\n        return modifiers1.sort().join(',') === modifiers2.sort().join(',');\n    }\n\n    /**\n     * takes a key event and figures out what the modifiers are\n     *\n     * @param {Event} e\n     * @returns {Array}\n     */\n    function _eventModifiers(e) {\n        var modifiers = [];\n\n        if (e.shiftKey) {\n            modifiers.push('shift');\n        }\n\n        if (e.altKey) {\n            modifiers.push('alt');\n        }\n\n        if (e.ctrlKey) {\n            modifiers.push('ctrl');\n        }\n\n        if (e.metaKey) {\n            modifiers.push('meta');\n        }\n\n        return modifiers;\n    }\n\n    /**\n     * prevents default for this event\n     *\n     * @param {Event} e\n     * @returns void\n     */\n    function _preventDefault(e) {\n        if (e.preventDefault) {\n            e.preventDefault();\n            return;\n        }\n\n        e.returnValue = false;\n    }\n\n    /**\n     * stops propogation for this event\n     *\n     * @param {Event} e\n     * @returns void\n     */\n    function _stopPropagation(e) {\n        if (e.stopPropagation) {\n            e.stopPropagation();\n            return;\n        }\n\n        e.cancelBubble = true;\n    }\n\n    /**\n     * determines if the keycode specified is a modifier key or not\n     *\n     * @param {string} key\n     * @returns {boolean}\n     */\n    function _isModifier(key) {\n        return key == 'shift' || key == 'ctrl' || key == 'alt' || key == 'meta';\n    }\n\n    /**\n     * reverses the map lookup so that we can look for specific keys\n     * to see what can and can't use keypress\n     *\n     * @return {Object}\n     */\n    function _getReverseMap() {\n        if (!_REVERSE_MAP) {\n            _REVERSE_MAP = {};\n            for (var key in _MAP) {\n\n                // pull out the numeric keypad from here cause keypress should\n                // be able to detect the keys from the character\n                if (key > 95 && key < 112) {\n                    continue;\n                }\n\n                if (_MAP.hasOwnProperty(key)) {\n                    _REVERSE_MAP[_MAP[key]] = key;\n                }\n            }\n        }\n        return _REVERSE_MAP;\n    }\n\n    /**\n     * picks the best action based on the key combination\n     *\n     * @param {string} key - character for key\n     * @param {Array} modifiers\n     * @param {string=} action passed in\n     */\n    function _pickBestAction(key, modifiers, action) {\n\n        // if no action was picked in we should try to pick the one\n        // that we think would work best for this key\n        if (!action) {\n            action = _getReverseMap()[key] ? 'keydown' : 'keypress';\n        }\n\n        // modifier keys don't work as expected with keypress,\n        // switch to keydown\n        if (action == 'keypress' && modifiers.length) {\n            action = 'keydown';\n        }\n\n        return action;\n    }\n\n    /**\n     * Converts from a string key combination to an array\n     *\n     * @param  {string} combination like \"command+shift+l\"\n     * @return {Array}\n     */\n    function _keysFromString(combination) {\n        if (combination === '+') {\n            return ['+'];\n        }\n\n        combination = combination.replace(/\\+{2}/g, '+plus');\n        return combination.split('+');\n    }\n\n    /**\n     * Gets info for a specific key combination\n     *\n     * @param  {string} combination key combination (\"command+s\" or \"a\" or \"*\")\n     * @param  {string=} action\n     * @returns {Object}\n     */\n    function _getKeyInfo(combination, action) {\n        var keys;\n        var key;\n        var i;\n        var modifiers = [];\n\n        // take the keys from this pattern and figure out what the actual\n        // pattern is all about\n        keys = _keysFromString(combination);\n\n        for (i = 0; i < keys.length; ++i) {\n            key = keys[i];\n\n            // normalize key names\n            if (_SPECIAL_ALIASES[key]) {\n                key = _SPECIAL_ALIASES[key];\n            }\n\n            // if this is not a keypress event then we should\n            // be smart about using shift keys\n            // this will only work for US keyboards however\n            if (action && action != 'keypress' && _SHIFT_MAP[key]) {\n                key = _SHIFT_MAP[key];\n                modifiers.push('shift');\n            }\n\n            // if this key is a modifier then add it to the list of modifiers\n            if (_isModifier(key)) {\n                modifiers.push(key);\n            }\n        }\n\n        // depending on what the key combination is\n        // we will try to pick the best event for it\n        action = _pickBestAction(key, modifiers, action);\n\n        return {\n            key: key,\n            modifiers: modifiers,\n            action: action\n        };\n    }\n\n    function _belongsTo(element, ancestor) {\n        if (element === null || element === document) {\n            return false;\n        }\n\n        if (element === ancestor) {\n            return true;\n        }\n\n        return _belongsTo(element.parentNode, ancestor);\n    }\n\n    function Mousetrap(targetElement) {\n        var self = this;\n\n        targetElement = targetElement || document;\n\n        if (!(self instanceof Mousetrap)) {\n            return new Mousetrap(targetElement);\n        }\n\n        /**\n         * element to attach key events to\n         *\n         * @type {Element}\n         */\n        self.target = targetElement;\n\n        /**\n         * a list of all the callbacks setup via Mousetrap.bind()\n         *\n         * @type {Object}\n         */\n        self._callbacks = {};\n\n        /**\n         * direct map of string combinations to callbacks used for trigger()\n         *\n         * @type {Object}\n         */\n        self._directMap = {};\n\n        /**\n         * keeps track of what level each sequence is at since multiple\n         * sequences can start out with the same sequence\n         *\n         * @type {Object}\n         */\n        var _sequenceLevels = {};\n\n        /**\n         * variable to store the setTimeout call\n         *\n         * @type {null|number}\n         */\n        var _resetTimer;\n\n        /**\n         * temporary state where we will ignore the next keyup\n         *\n         * @type {boolean|string}\n         */\n        var _ignoreNextKeyup = false;\n\n        /**\n         * temporary state where we will ignore the next keypress\n         *\n         * @type {boolean}\n         */\n        var _ignoreNextKeypress = false;\n\n        /**\n         * are we currently inside of a sequence?\n         * type of action (\"keyup\" or \"keydown\" or \"keypress\") or false\n         *\n         * @type {boolean|string}\n         */\n        var _nextExpectedAction = false;\n\n        /**\n         * resets all sequence counters except for the ones passed in\n         *\n         * @param {Object} doNotReset\n         * @returns void\n         */\n        function _resetSequences(doNotReset) {\n            doNotReset = doNotReset || {};\n\n            var activeSequences = false,\n                key;\n\n            for (key in _sequenceLevels) {\n                if (doNotReset[key]) {\n                    activeSequences = true;\n                    continue;\n                }\n                _sequenceLevels[key] = 0;\n            }\n\n            if (!activeSequences) {\n                _nextExpectedAction = false;\n            }\n        }\n\n        /**\n         * finds all callbacks that match based on the keycode, modifiers,\n         * and action\n         *\n         * @param {string} character\n         * @param {Array} modifiers\n         * @param {Event|Object} e\n         * @param {string=} sequenceName - name of the sequence we are looking for\n         * @param {string=} combination\n         * @param {number=} level\n         * @returns {Array}\n         */\n        function _getMatches(character, modifiers, e, sequenceName, combination, level) {\n            var i;\n            var callback;\n            var matches = [];\n            var action = e.type;\n\n            // if there are no events related to this keycode\n            if (!self._callbacks[character]) {\n                return [];\n            }\n\n            // if a modifier key is coming up on its own we should allow it\n            if (action == 'keyup' && _isModifier(character)) {\n                modifiers = [character];\n            }\n\n            // loop through all callbacks for the key that was pressed\n            // and see if any of them match\n            for (i = 0; i < self._callbacks[character].length; ++i) {\n                callback = self._callbacks[character][i];\n\n                // if a sequence name is not specified, but this is a sequence at\n                // the wrong level then move onto the next match\n                if (!sequenceName && callback.seq && _sequenceLevels[callback.seq] != callback.level) {\n                    continue;\n                }\n\n                // if the action we are looking for doesn't match the action we got\n                // then we should keep going\n                if (action != callback.action) {\n                    continue;\n                }\n\n                // if this is a keypress event and the meta key and control key\n                // are not pressed that means that we need to only look at the\n                // character, otherwise check the modifiers as well\n                //\n                // chrome will not fire a keypress if meta or control is down\n                // safari will fire a keypress if meta or meta+shift is down\n                // firefox will fire a keypress if meta or control is down\n                if ((action == 'keypress' && !e.metaKey && !e.ctrlKey) || _modifiersMatch(modifiers, callback.modifiers)) {\n\n                    // when you bind a combination or sequence a second time it\n                    // should overwrite the first one.  if a sequenceName or\n                    // combination is specified in this call it does just that\n                    //\n                    // @todo make deleting its own method?\n                    var deleteCombo = !sequenceName && callback.combo == combination;\n                    var deleteSequence = sequenceName && callback.seq == sequenceName && callback.level == level;\n                    if (deleteCombo || deleteSequence) {\n                        self._callbacks[character].splice(i, 1);\n                    }\n\n                    matches.push(callback);\n                }\n            }\n\n            return matches;\n        }\n\n        /**\n         * actually calls the callback function\n         *\n         * if your callback function returns false this will use the jquery\n         * convention - prevent default and stop propogation on the event\n         *\n         * @param {Function} callback\n         * @param {Event} e\n         * @returns void\n         */\n        function _fireCallback(callback, e, combo, sequence) {\n\n            // if this event should not happen stop here\n            if (self.stopCallback(e, e.target || e.srcElement, combo, sequence)) {\n                return;\n            }\n\n            if (callback(e, combo) === false) {\n                _preventDefault(e);\n                _stopPropagation(e);\n            }\n        }\n\n        /**\n         * handles a character key event\n         *\n         * @param {string} character\n         * @param {Array} modifiers\n         * @param {Event} e\n         * @returns void\n         */\n        self._handleKey = function(character, modifiers, e) {\n            var callbacks = _getMatches(character, modifiers, e);\n            var i;\n            var doNotReset = {};\n            var maxLevel = 0;\n            var processedSequenceCallback = false;\n\n            // Calculate the maxLevel for sequences so we can only execute the longest callback sequence\n            for (i = 0; i < callbacks.length; ++i) {\n                if (callbacks[i].seq) {\n                    maxLevel = Math.max(maxLevel, callbacks[i].level);\n                }\n            }\n\n            // loop through matching callbacks for this key event\n            for (i = 0; i < callbacks.length; ++i) {\n\n                // fire for all sequence callbacks\n                // this is because if for example you have multiple sequences\n                // bound such as \"g i\" and \"g t\" they both need to fire the\n                // callback for matching g cause otherwise you can only ever\n                // match the first one\n                if (callbacks[i].seq) {\n\n                    // only fire callbacks for the maxLevel to prevent\n                    // subsequences from also firing\n                    //\n                    // for example 'a option b' should not cause 'option b' to fire\n                    // even though 'option b' is part of the other sequence\n                    //\n                    // any sequences that do not match here will be discarded\n                    // below by the _resetSequences call\n                    if (callbacks[i].level != maxLevel) {\n                        continue;\n                    }\n\n                    processedSequenceCallback = true;\n\n                    // keep a list of which sequences were matches for later\n                    doNotReset[callbacks[i].seq] = 1;\n                    _fireCallback(callbacks[i].callback, e, callbacks[i].combo, callbacks[i].seq);\n                    continue;\n                }\n\n                // if there were no sequence matches but we are still here\n                // that means this is a regular match so we should fire that\n                if (!processedSequenceCallback) {\n                    _fireCallback(callbacks[i].callback, e, callbacks[i].combo);\n                }\n            }\n\n            // if the key you pressed matches the type of sequence without\n            // being a modifier (ie \"keyup\" or \"keypress\") then we should\n            // reset all sequences that were not matched by this event\n            //\n            // this is so, for example, if you have the sequence \"h a t\" and you\n            // type \"h e a r t\" it does not match.  in this case the \"e\" will\n            // cause the sequence to reset\n            //\n            // modifier keys are ignored because you can have a sequence\n            // that contains modifiers such as \"enter ctrl+space\" and in most\n            // cases the modifier key will be pressed before the next key\n            //\n            // also if you have a sequence such as \"ctrl+b a\" then pressing the\n            // \"b\" key will trigger a \"keypress\" and a \"keydown\"\n            //\n            // the \"keydown\" is expected when there is a modifier, but the\n            // \"keypress\" ends up matching the _nextExpectedAction since it occurs\n            // after and that causes the sequence to reset\n            //\n            // we ignore keypresses in a sequence that directly follow a keydown\n            // for the same character\n            var ignoreThisKeypress = e.type == 'keypress' && _ignoreNextKeypress;\n            if (e.type == _nextExpectedAction && !_isModifier(character) && !ignoreThisKeypress) {\n                _resetSequences(doNotReset);\n            }\n\n            _ignoreNextKeypress = processedSequenceCallback && e.type == 'keydown';\n        };\n\n        /**\n         * handles a keydown event\n         *\n         * @param {Event} e\n         * @returns void\n         */\n        function _handleKeyEvent(e) {\n\n            // normalize e.which for key events\n            // @see http://stackoverflow.com/questions/4285627/javascript-keycode-vs-charcode-utter-confusion\n            if (typeof e.which !== 'number') {\n                e.which = e.keyCode;\n            }\n\n            var character = _characterFromEvent(e);\n\n            // no character found then stop\n            if (!character) {\n                return;\n            }\n\n            // need to use === for the character check because the character can be 0\n            if (e.type == 'keyup' && _ignoreNextKeyup === character) {\n                _ignoreNextKeyup = false;\n                return;\n            }\n\n            self.handleKey(character, _eventModifiers(e), e);\n        }\n\n        /**\n         * called to set a 1 second timeout on the specified sequence\n         *\n         * this is so after each key press in the sequence you have 1 second\n         * to press the next key before you have to start over\n         *\n         * @returns void\n         */\n        function _resetSequenceTimer() {\n            clearTimeout(_resetTimer);\n            _resetTimer = setTimeout(_resetSequences, 1000);\n        }\n\n        /**\n         * binds a key sequence to an event\n         *\n         * @param {string} combo - combo specified in bind call\n         * @param {Array} keys\n         * @param {Function} callback\n         * @param {string=} action\n         * @returns void\n         */\n        function _bindSequence(combo, keys, callback, action) {\n\n            // start off by adding a sequence level record for this combination\n            // and setting the level to 0\n            _sequenceLevels[combo] = 0;\n\n            /**\n             * callback to increase the sequence level for this sequence and reset\n             * all other sequences that were active\n             *\n             * @param {string} nextAction\n             * @returns {Function}\n             */\n            function _increaseSequence(nextAction) {\n                return function() {\n                    _nextExpectedAction = nextAction;\n                    ++_sequenceLevels[combo];\n                    _resetSequenceTimer();\n                };\n            }\n\n            /**\n             * wraps the specified callback inside of another function in order\n             * to reset all sequence counters as soon as this sequence is done\n             *\n             * @param {Event} e\n             * @returns void\n             */\n            function _callbackAndReset(e) {\n                _fireCallback(callback, e, combo);\n\n                // we should ignore the next key up if the action is key down\n                // or keypress.  this is so if you finish a sequence and\n                // release the key the final key will not trigger a keyup\n                if (action !== 'keyup') {\n                    _ignoreNextKeyup = _characterFromEvent(e);\n                }\n\n                // weird race condition if a sequence ends with the key\n                // another sequence begins with\n                setTimeout(_resetSequences, 10);\n            }\n\n            // loop through keys one at a time and bind the appropriate callback\n            // function.  for any key leading up to the final one it should\n            // increase the sequence. after the final, it should reset all sequences\n            //\n            // if an action is specified in the original bind call then that will\n            // be used throughout.  otherwise we will pass the action that the\n            // next key in the sequence should match.  this allows a sequence\n            // to mix and match keypress and keydown events depending on which\n            // ones are better suited to the key provided\n            for (var i = 0; i < keys.length; ++i) {\n                var isFinal = i + 1 === keys.length;\n                var wrappedCallback = isFinal ? _callbackAndReset : _increaseSequence(action || _getKeyInfo(keys[i + 1]).action);\n                _bindSingle(keys[i], wrappedCallback, action, combo, i);\n            }\n        }\n\n        /**\n         * binds a single keyboard combination\n         *\n         * @param {string} combination\n         * @param {Function} callback\n         * @param {string=} action\n         * @param {string=} sequenceName - name of sequence if part of sequence\n         * @param {number=} level - what part of the sequence the command is\n         * @returns void\n         */\n        function _bindSingle(combination, callback, action, sequenceName, level) {\n\n            // store a direct mapped reference for use with Mousetrap.trigger\n            self._directMap[combination + ':' + action] = callback;\n\n            // make sure multiple spaces in a row become a single space\n            combination = combination.replace(/\\s+/g, ' ');\n\n            var sequence = combination.split(' ');\n            var info;\n\n            // if this pattern is a sequence of keys then run through this method\n            // to reprocess each pattern one key at a time\n            if (sequence.length > 1) {\n                _bindSequence(combination, sequence, callback, action);\n                return;\n            }\n\n            info = _getKeyInfo(combination, action);\n\n            // make sure to initialize array if this is the first time\n            // a callback is added for this key\n            self._callbacks[info.key] = self._callbacks[info.key] || [];\n\n            // remove an existing match if there is one\n            _getMatches(info.key, info.modifiers, {type: info.action}, sequenceName, combination, level);\n\n            // add this call back to the array\n            // if it is a sequence put it at the beginning\n            // if not put it at the end\n            //\n            // this is important because the way these are processed expects\n            // the sequence ones to come first\n            self._callbacks[info.key][sequenceName ? 'unshift' : 'push']({\n                callback: callback,\n                modifiers: info.modifiers,\n                action: info.action,\n                seq: sequenceName,\n                level: level,\n                combo: combination\n            });\n        }\n\n        /**\n         * binds multiple combinations to the same callback\n         *\n         * @param {Array} combinations\n         * @param {Function} callback\n         * @param {string|undefined} action\n         * @returns void\n         */\n        self._bindMultiple = function(combinations, callback, action) {\n            for (var i = 0; i < combinations.length; ++i) {\n                _bindSingle(combinations[i], callback, action);\n            }\n        };\n\n        // start!\n        _addEvent(targetElement, 'keypress', _handleKeyEvent);\n        _addEvent(targetElement, 'keydown', _handleKeyEvent);\n        _addEvent(targetElement, 'keyup', _handleKeyEvent);\n    }\n\n    /**\n     * binds an event to mousetrap\n     *\n     * can be a single key, a combination of keys separated with +,\n     * an array of keys, or a sequence of keys separated by spaces\n     *\n     * be sure to list the modifier keys first to make sure that the\n     * correct key ends up getting bound (the last key in the pattern)\n     *\n     * @param {string|Array} keys\n     * @param {Function} callback\n     * @param {string=} action - 'keypress', 'keydown', or 'keyup'\n     * @returns void\n     */\n    Mousetrap.prototype.bind = function(keys, callback, action) {\n        var self = this;\n        keys = keys instanceof Array ? keys : [keys];\n        self._bindMultiple.call(self, keys, callback, action);\n        return self;\n    };\n\n    /**\n     * unbinds an event to mousetrap\n     *\n     * the unbinding sets the callback function of the specified key combo\n     * to an empty function and deletes the corresponding key in the\n     * _directMap dict.\n     *\n     * TODO: actually remove this from the _callbacks dictionary instead\n     * of binding an empty function\n     *\n     * the keycombo+action has to be exactly the same as\n     * it was defined in the bind method\n     *\n     * @param {string|Array} keys\n     * @param {string} action\n     * @returns void\n     */\n    Mousetrap.prototype.unbind = function(keys, action) {\n        var self = this;\n        return self.bind.call(self, keys, function() {}, action);\n    };\n\n    /**\n     * triggers an event that has already been bound\n     *\n     * @param {string} keys\n     * @param {string=} action\n     * @returns void\n     */\n    Mousetrap.prototype.trigger = function(keys, action) {\n        var self = this;\n        if (self._directMap[keys + ':' + action]) {\n            self._directMap[keys + ':' + action]({}, keys);\n        }\n        return self;\n    };\n\n    /**\n     * resets the library back to its initial state.  this is useful\n     * if you want to clear out the current keyboard shortcuts and bind\n     * new ones - for example if you switch to another page\n     *\n     * @returns void\n     */\n    Mousetrap.prototype.reset = function() {\n        var self = this;\n        self._callbacks = {};\n        self._directMap = {};\n        return self;\n    };\n\n    /**\n     * should we stop this event before firing off callbacks\n     *\n     * @param {Event} e\n     * @param {Element} element\n     * @return {boolean}\n     */\n    Mousetrap.prototype.stopCallback = function(e, element) {\n        var self = this;\n\n        // if the element has the class \"mousetrap\" then no need to stop\n        if ((' ' + element.className + ' ').indexOf(' mousetrap ') > -1) {\n            return false;\n        }\n\n        if (_belongsTo(element, self.target)) {\n            return false;\n        }\n\n        // Events originating from a shadow DOM are re-targetted and `e.target` is the shadow host,\n        // not the initial event target in the shadow tree. Note that not all events cross the\n        // shadow boundary.\n        // For shadow trees with `mode: 'open'`, the initial event target is the first element in\n        // the events composed path. For shadow trees with `mode: 'closed'`, the initial event\n        // target cannot be obtained.\n        if ('composedPath' in e && typeof e.composedPath === 'function') {\n            // For open shadow trees, update `element` so that the following check works.\n            var initialEventTarget = e.composedPath()[0];\n            if (initialEventTarget !== e.target) {\n                element = initialEventTarget;\n            }\n        }\n\n        // stop for input, select, and textarea\n        return element.tagName == 'INPUT' || element.tagName == 'SELECT' || element.tagName == 'TEXTAREA' || element.isContentEditable;\n    };\n\n    /**\n     * exposes _handleKey publicly so it can be overwritten by extensions\n     */\n    Mousetrap.prototype.handleKey = function() {\n        var self = this;\n        return self._handleKey.apply(self, arguments);\n    };\n\n    /**\n     * allow custom key mappings\n     */\n    Mousetrap.addKeycodes = function(object) {\n        for (var key in object) {\n            if (object.hasOwnProperty(key)) {\n                _MAP[key] = object[key];\n            }\n        }\n        _REVERSE_MAP = null;\n    };\n\n    /**\n     * Init the global mousetrap functions\n     *\n     * This method is needed to allow the global mousetrap functions to work\n     * now that mousetrap is a constructor function.\n     */\n    Mousetrap.init = function() {\n        var documentMousetrap = Mousetrap(document);\n        for (var method in documentMousetrap) {\n            if (method.charAt(0) !== '_') {\n                Mousetrap[method] = (function(method) {\n                    return function() {\n                        return documentMousetrap[method].apply(documentMousetrap, arguments);\n                    };\n                } (method));\n            }\n        }\n    };\n\n    Mousetrap.init();\n\n    // expose mousetrap to the global object\n    window.Mousetrap = Mousetrap;\n\n    // expose as a common js module\n    if (typeof module !== 'undefined' && module.exports) {\n        module.exports = Mousetrap;\n    }\n\n    // expose mousetrap as an AMD module\n    if (typeof define === 'function' && define.amd) {\n        define(function() {\n            return Mousetrap;\n        });\n    }\n}) (typeof window !== 'undefined' ? window : null, typeof  window !== 'undefined' ? document : null);\n","'use strict';\n\nconst arrayUniq = array => [...new Set(array)];\n\nmodule.exports = arrayUniq;\n","'use strict';\n\nvar matchOperatorsRe = /[|\\\\{}()[\\]^$+*?.]/g;\n\nmodule.exports = function (str) {\n\tif (typeof str !== 'string') {\n\t\tthrow new TypeError('Expected a string');\n\t}\n\n\treturn str.replace(matchOperatorsRe, '\\\\$&');\n};\n","\n        var result = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../../node_modules/sass-loader/dist/cjs.js??ref--5-2!./style.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","\n        var result = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../node_modules/sass-loader/dist/cjs.js??ref--5-2!./developer-mode.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","\n        var result = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../node_modules/sass-loader/dist/cjs.js??ref--5-2!./doge.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","\n        var result = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../node_modules/sass-loader/dist/cjs.js??ref--5-2!./down-for-maintenance.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","\n        var result = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../node_modules/sass-loader/dist/cjs.js??ref--5-2!./editing-tools.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","\n        var result = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../node_modules/sass-loader/dist/cjs.js??ref--5-2!./hide-footer.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","\n        var result = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../node_modules/sass-loader/dist/cjs.js??ref--5-2!./highlight-own-posts.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","\n        var result = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../node_modules/sass-loader/dist/cjs.js??ref--5-2!./improved-corrections.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","\n        var result = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../node_modules/sass-loader/dist/cjs.js??ref--5-2!./improved-image-controls.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","\n        var result = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../node_modules/sass-loader/dist/cjs.js??ref--5-2!./improved-pagination-buttons.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","\n        var result = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../node_modules/sass-loader/dist/cjs.js??ref--5-2!./lock-heights.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","\n        var result = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../node_modules/sass-loader/dist/cjs.js??ref--5-2!./main.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","\n        var result = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../node_modules/sass-loader/dist/cjs.js??ref--5-2!./mention-everyone.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","\n        var result = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../node_modules/sass-loader/dist/cjs.js??ref--5-2!./preferences-link.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","\n        var result = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../node_modules/sass-loader/dist/cjs.js??ref--5-2!./preferences-shortcut.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","\n        var result = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../node_modules/sass-loader/dist/cjs.js??ref--5-2!./preferences.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","\n        var result = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../node_modules/sass-loader/dist/cjs.js??ref--5-2!./replace-followed-threads-link.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","\n        var result = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../node_modules/sass-loader/dist/cjs.js??ref--5-2!./textarea-size-toggle.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","\n        var result = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../node_modules/sass-loader/dist/cjs.js??ref--5-2!./uninteresting-subforums.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".proofread{white-space:pre}.mistake,.mistake .any{background-color:#f04600;background-clip:padding-box;border:4px solid rgba(240,70,0,.1);border-radius:2px;cursor:help;margin:-4px;position:relative;transition:border-color 250ms 100ms}.mistake:hover,.mistake .any:hover{border-color:rgba(240,70,0,.6);transition-delay:0ms}.verified,.verified .any{background-color:#55dc00}.any{background-color:#5582fa}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"proofread\": \"proofread\",\n\t\"mistake\": \"mistake\",\n\t\"any\": \"any\",\n\t\"verified\": \"verified\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"#better-sweclockers-developer-tools{background:#000;bottom:0;box-sizing:border-box;display:flex;flex-direction:column;max-height:50vh;outline:1px solid #444;position:fixed;z-index:9999}#better-sweclockers-developer-tools[data-how-many=\\\"0\\\"]:not(:hover):not(.open){opacity:.25}#better-sweclockers-developer-tools .better-sweclockers-error{color:#d00}#better-sweclockers-developer-tools .better-sweclockers-warning{color:#ec0}#better-sweclockers-developer-tools>a{display:block;padding:1em}#better-sweclockers-developer-tools>a:hover{background-color:rgba(255,255,255,.1);text-decoration:none}#better-sweclockers-developer-tools>a strong{display:inline-block;width:4em}#better-sweclockers-developer-tools>a strong[data-how-many=\\\"0\\\"]{opacity:.25}#better-sweclockers-developer-tools>a strong:not(:last-of-type){margin-right:1em}#better-sweclockers-developer-tools ol{background-color:rgba(255,255,255,.1);border:1px solid #444;color:#bbb;display:none;font-family:monospace;margin:0 1em 1em 1em;overflow-y:scroll;white-space:pre-wrap}#better-sweclockers-developer-tools ol li{border-color:#444;border-top-style:solid;border-width:1px;padding:.5em}#better-sweclockers-developer-tools ol li:first-of-type{border-top-style:none}#better-sweclockers-developer-tools ol li.error{background-color:rgba(221,0,0,.08);border-color:rgba(221,0,0,.3)}#better-sweclockers-developer-tools ol li.warning{background-color:rgba(238,204,0,.08);border-color:rgba(238,204,0,.3)}#better-sweclockers-developer-tools.open{opacity:1;width:100vw}#better-sweclockers-developer-tools.open ol{display:block}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"better-sweclockers-developer-tools\": \"better-sweclockers-developer-tools\",\n\t\"open\": \"open\",\n\t\"better-sweclockers-error\": \"better-sweclockers-error\",\n\t\"better-sweclockers-warning\": \"better-sweclockers-warning\",\n\t\"error\": \"error\",\n\t\"warning\": \"warning\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"#better-sweclockers-document .better-sweclockers-shibe,#better-sweclockers-document .better-sweclockers-shibe *{color:red;font-family:Comic Sans MS, Chalkboard SE, sans-serif;font-style:italic;white-space:pre}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"better-sweclockers-document\": \"better-sweclockers-document\",\n\t\"better-sweclockers-shibe\": \"better-sweclockers-shibe\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"body{padding:8px}body *{display:none !important}body::after{content:\\\"Nere fr underhll\\\";font:16px \\\"Courier New\\\",monospace}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"#better-sweclockers-document #better-sweclockers-editing-tools{margin:1px;line-height:0}#better-sweclockers-document #better-sweclockers-editing-tools>*{vertical-align:top;margin-top:0;margin-bottom:6px;margin-left:0}#better-sweclockers-document .better-sweclockers-editing-tools big{font-size:1.25em}#better-sweclockers-document .better-sweclockers-editing-tools small{font-size:.75em}#better-sweclockers-document .better-sweclockers-editing-tools .button{height:23px;box-sizing:border-box;margin:0 1px 0 0}#better-sweclockers-document .better-sweclockers-editing-tools .button *{line-height:0}#better-sweclockers-document .better-sweclockers-editing-tools .button:last-of-type{margin-right:0}#better-sweclockers-document .better-sweclockers-editing-tools fieldset{display:block;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}#better-sweclockers-document .better-sweclockers-editing-tools .better-sweclockers-color-palette{opacity:.5;transition:opacity 100ms linear}#better-sweclockers-document .better-sweclockers-editing-tools .better-sweclockers-color-palette>*{border:none;margin:0 !important;width:20px;height:20px}#better-sweclockers-document .better-sweclockers-editing-tools .better-sweclockers-color-palette>*:hover{width:24px;height:24px;margin:-2px !important;border-radius:3px;z-index:9}#better-sweclockers-document .better-sweclockers-editing-tools .better-sweclockers-color-palette:hover,#better-sweclockers-document .better-sweclockers-editing-tools .better-sweclockers-color-palette:active{opacity:1}#better-sweclockers-document .better-sweclockers-editing-tools .better-sweclockers-smileys>*{opacity:.5;padding:0 1px;transition:opacity 50ms linear}#better-sweclockers-document .better-sweclockers-editing-tools .better-sweclockers-smileys>*:hover,#better-sweclockers-document .better-sweclockers-editing-tools .better-sweclockers-smileys>*:active{opacity:1}#better-sweclockers-document .better-sweclockers-editing-tools .better-sweclockers-button-color{background:linear-gradient(to bottom, rgba(255, 255, 255, 0.1) 0%, rgba(0, 0, 0, 0.1) 100%),linear-gradient(to right, rgba(255, 0, 0, 0.7) 0%, rgba(255, 153, 50, 0.7) 16%, rgba(247, 227, 49, 0.7) 33%, rgba(62, 211, 42, 0.7) 49%, rgba(46, 117, 232, 0.7) 66%, rgba(90, 45, 226, 0.7) 83%, rgba(152, 25, 198, 0.7) 100%)}#better-sweclockers-document .better-sweclockers-editing-tools .better-sweclockers-button-color:hover,#better-sweclockers-document .better-sweclockers-editing-tools .better-sweclockers-button-color:focus{background:linear-gradient(to bottom, rgba(255, 255, 255, 0.2) 0%, rgba(100, 100, 100, 0.2) 100%),linear-gradient(to right, rgba(255, 0, 0, 0.7) 0%, rgba(255, 153, 50, 0.7) 16%, rgba(247, 227, 49, 0.7) 33%, rgba(62, 211, 42, 0.7) 49%, rgba(46, 117, 232, 0.7) 66%, rgba(90, 45, 226, 0.7) 83%, rgba(152, 25, 198, 0.7) 100%) !important}#better-sweclockers-document .better-sweclockers-editing-tools .better-sweclockers-button-color:active{background:linear-gradient(to top, rgba(255, 255, 255, 0.1) 0%, rgba(0, 0, 0, 0.1) 100%),linear-gradient(to right, rgba(255, 0, 0, 0.7) 0%, rgba(255, 153, 50, 0.7) 16%, rgba(247, 227, 49, 0.7) 33%, rgba(62, 211, 42, 0.7) 49%, rgba(46, 117, 232, 0.7) 66%, rgba(90, 45, 226, 0.7) 83%, rgba(152, 25, 198, 0.7) 100%) !important}#better-sweclockers-document .better-sweclockers-editing-tools .better-sweclockers-button-blockquote div{font-family:\\\"Georgia\\\",serif;font-size:30px;line-height:24px}#better-sweclockers-document .better-sweclockers-editing-tools .better-sweclockers-button-spoiler{background:linear-gradient(to bottom, rgba(255, 255, 255, 0.1) 0%, rgba(0, 0, 0, 0.1) 100%),#222;color:#eee;border-color:#000}#better-sweclockers-document .better-sweclockers-editing-tools .better-sweclockers-button-spoiler:hover,#better-sweclockers-document .better-sweclockers-editing-tools .better-sweclockers-button-spoiler:focus{background:linear-gradient(to bottom, rgba(255, 255, 255, 0.2) 0%, rgba(100, 100, 100, 0.2) 100%),#222 !important}#better-sweclockers-document .better-sweclockers-editing-tools .better-sweclockers-button-spoiler:active{box-shadow:inset 1px 1px 1px rgba(0,0,0,.25);background:linear-gradient(to top, rgba(255, 255, 255, 0.1) 0%, rgba(0, 0, 0, 0.1) 100%),#222 !important}#better-sweclockers-document .better-sweclockers-editing-tools .better-sweclockers-button-code{font-family:\\\"Courier New\\\",monospace;font-weight:normal;font-size:11px}#better-sweclockers-document .better-sweclockers-editing-tools .better-sweclockers-button-math{font-family:\\\"Times New Roman\\\",serif}#better-sweclockers-document .better-sweclockers-editing-tools .better-sweclockers-button-math span{opacity:.5}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"better-sweclockers-document\": \"better-sweclockers-document\",\n\t\"better-sweclockers-editing-tools\": \"better-sweclockers-editing-tools\",\n\t\"button\": \"button\",\n\t\"better-sweclockers-color-palette\": \"better-sweclockers-color-palette\",\n\t\"better-sweclockers-smileys\": \"better-sweclockers-smileys\",\n\t\"better-sweclockers-button-color\": \"better-sweclockers-button-color\",\n\t\"better-sweclockers-button-blockquote\": \"better-sweclockers-button-blockquote\",\n\t\"better-sweclockers-button-spoiler\": \"better-sweclockers-button-spoiler\",\n\t\"better-sweclockers-button-code\": \"better-sweclockers-button-code\",\n\t\"better-sweclockers-button-math\": \"better-sweclockers-button-math\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"#better-sweclockers-document .stickyFooter>.top>.inner{padding-bottom:0}#better-sweclockers-document .stickyFooter>.bottom{display:none}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"better-sweclockers-document\": \"better-sweclockers-document\",\n\t\"stickyFooter\": \"stickyFooter\",\n\t\"top\": \"top\",\n\t\"inner\": \"inner\",\n\t\"bottom\": \"bottom\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".forum-post.isReader .forum-post-header,.forum-post.isReader .forum-post-body{border-left-width:4px}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"forum-post\": \"forum-post\",\n\t\"isReader\": \"isReader\",\n\t\"forum-post-header\": \"forum-post-header\",\n\t\"forum-post-body\": \"forum-post-body\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"#better-sweclockers-document .proofDialog{position:fixed;height:100vh;width:100%;display:flex;align-items:center;top:0;left:0;pointer-events:none}#better-sweclockers-document .proofDialog .wndModalOverlay{display:none}#better-sweclockers-document .proofDialog .wndWindowArea{border:none;top:initial !important;opacity:.5;transition:opacity 200ms ease-in-out;pointer-events:initial;left:706px !important}@media screen and (min-width: 1012px)and (max-width: 1100px){#better-sweclockers-document .proofDialog .wndWindowArea{left:calc(50% + 206px) !important}}@media screen and (min-width: 1262px){#better-sweclockers-document .proofDialog .wndWindowArea{left:calc(50% + 81px) !important}}#better-sweclockers-document .proofDialog .wndWindowArea:hover,#better-sweclockers-document .proofDialog .wndWindowArea:focus-within{opacity:1}#better-sweclockers-document .proofDialog .wndWindowArea>.inner{box-shadow:0 0 20px #000;padding:0}#better-sweclockers-document .proofDialog .wndFrameDecorator{border-width:1px}#better-sweclockers-document .proofDialog .infoText{display:none}#better-sweclockers-document .proofDialog .tanukiTextarea textarea{height:240px}#better-sweclockers-document #proofArticle{background-color:#da6b0f;border-bottom-left-radius:6px;border-bottom-right-radius:6px;bottom:0;left:-1px;opacity:.3;padding:4px 8px;position:fixed;transform:rotate(-90deg);transform-origin:top left;z-index:100}#better-sweclockers-document #proofArticle:hover,#better-sweclockers-document #proofArticle:focus{opacity:1}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"better-sweclockers-document\": \"better-sweclockers-document\",\n\t\"proofDialog\": \"proofDialog\",\n\t\"wndModalOverlay\": \"wndModalOverlay\",\n\t\"wndWindowArea\": \"wndWindowArea\",\n\t\"inner\": \"inner\",\n\t\"wndFrameDecorator\": \"wndFrameDecorator\",\n\t\"infoText\": \"infoText\",\n\t\"tanukiTextarea\": \"tanukiTextarea\",\n\t\"proofArticle\": \"proofArticle\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".bbImage .imgControls{opacity:0;transition:opacity 250ms}.bbImage:hover .imgControls,.bbImage:focus .imgControls{opacity:1}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"bbImage\": \"bbImage\",\n\t\"imgControls\": \"imgControls\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".list-actions{margin-bottom:6px}.pages>a,.pages>span{align-items:center;box-sizing:border-box;display:flex;height:32px;justify-content:center;margin-right:0;width:32px}.pages>a>span,.pages>span>span{padding:0;height:1.2em}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"list-actions\": \"list-actions\",\n\t\"pages\": \"pages\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".ad.adInsider{height:370px;overflow:hidden}.adModule{height:341px;overflow:hidden}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"ad\": \"ad\",\n\t\"adInsider\": \"adInsider\",\n\t\"adModule\": \"adModule\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".better-sweclockers-icon-button{box-sizing:border-box;height:23px;padding:4px 6px}.better-sweclockers-icon-button img,.better-sweclockers-icon-button svg,.better-sweclockers-icon-button div{display:inline-block;height:16px;position:relative;top:-1px;vertical-align:top;width:16px}.better-sweclockers-pm-button{margin-left:8px;margin-bottom:0}.better-sweclockers-checkbox input{margin-right:4px;position:relative;top:-1px;vertical-align:middle}textarea.better-sweclockers-code-input,.better-sweclockers-code-input textarea{font-family:monospace}.forum-post .controls .better-sweclockers-quote-signature-button{float:right;margin-right:10px}.forum-post .controls .better-sweclockers-quote-signature-button>button{margin-right:0}.forum-post .controls .better-sweclockers-quote-signature-button>button[disabled]{pointer-events:unset}.mistake{border-color:rgba(240,70,0,.6)}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"better-sweclockers-icon-button\": \"better-sweclockers-icon-button\",\n\t\"better-sweclockers-pm-button\": \"better-sweclockers-pm-button\",\n\t\"better-sweclockers-checkbox\": \"better-sweclockers-checkbox\",\n\t\"better-sweclockers-code-input\": \"better-sweclockers-code-input\",\n\t\"forum-post\": \"forum-post\",\n\t\"controls\": \"controls\",\n\t\"better-sweclockers-quote-signature-button\": \"better-sweclockers-quote-signature-button\",\n\t\"mistake\": \"mistake\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".better-sweclockers-mention-everyone-button{display:inline;margin-right:8px}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"better-sweclockers-mention-everyone-button\": \"better-sweclockers-mention-everyone-button\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".menu-items{padding-bottom:21px}.menu-items .menu-item[title=\\\"Better SweClockers\\\"]{margin-bottom:-21px}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"menu-items\": \"menu-items\",\n\t\"menu-item\": \"menu-item\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"@media(max-width: 576.9px){.profile-nav__notifications{margin-left:-34px;z-index:10}}@media(min-width: 577px){.profile-nav__notifications{width:120px;justify-content:flex-end}}@media(min-width: 993px){.profile-nav__notifications{width:346px}}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"profile-nav__notifications\": \"profile-nav__notifications\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"body>*{display:none}form#better-sweclockers{width:640px;margin:32px auto;display:block}form#better-sweclockers img{max-width:100%}form#better-sweclockers aside,form#better-sweclockers #better-sweclockers-editing-tools{transition-property:opacity;transition-duration:250ms}form#better-sweclockers .better-sweclockers-preference{clear:left}form#better-sweclockers .better-sweclockers-preference>label::after{content:\\\":\\\"}form#better-sweclockers .better-sweclockers-preference>label.better-sweclockers-labeledInput::after{content:unset}form#better-sweclockers .better-sweclockers-preference input+label::after,form#better-sweclockers .better-sweclockers-preference select+label::after,form#better-sweclockers .better-sweclockers-preference textarea+label::after{content:unset}form#better-sweclockers .s5fieldset{padding:8px 16px;margin:16px 0 24px 0;border:1px solid gray;border-radius:4px}form#better-sweclockers .s5fieldset>legend{font-size:unset;margin-bottom:unset;padding:0 4px;width:unset}form#better-sweclockers .better-sweclockers-radioButtonPreference{display:inline-block;margin-bottom:unset;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}form#better-sweclockers .better-sweclockers-radioButtonPreference>label:first-child::after{content:\\\":\\\"}form#better-sweclockers .better-sweclockers-radioButtonPreference input[type=radio]{margin-left:16px}form#better-sweclockers textarea{box-sizing:border-box;display:block;height:6em;resize:vertical;width:100%}form#better-sweclockers .better-sweclockers-inline-preference{float:left}form#better-sweclockers .better-sweclockers-inline-preference:not(.better-sweclockers-primary-inline-preference){clear:unset}form#better-sweclockers .better-sweclockers-inline-preference>label::after{content:unset}form#better-sweclockers .better-sweclockers-inline-preference input[type=text],form#better-sweclockers .better-sweclockers-inline-preference input[type=number],form#better-sweclockers .better-sweclockers-inline-preference input[type=time]{margin:0}form#better-sweclockers .better-sweclockers-inline-preference:not(.better-sweclockers-primary-inline-preference) label::after,form#better-sweclockers .better-sweclockers-inline-preference:not(.better-sweclockers-primary-inline-preference) label:first-child::before{content:\\\"\\\"}form#better-sweclockers .better-sweclockers-inline-preference:not(.better-sweclockers-primary-inline-preference) input[type=checkbox]{margin-left:.75em}form#better-sweclockers input{vertical-align:middle}form#better-sweclockers label{display:inline-block;padding:6px 0;margin:0}form#better-sweclockers label kbd{font-family:monospace;background-color:rgba(160,160,160,.05);border:1px solid rgba(160,160,160,.15);border-radius:3px;padding:1px 2px}form#better-sweclockers input[type=checkbox],form#better-sweclockers input[type=radio]{margin:0;margin-right:.5em}form#better-sweclockers input[type=text],form#better-sweclockers input[type=number],form#better-sweclockers input[type=time]{margin:.33em 0;width:5em}form#better-sweclockers input[type=text]+label::before,form#better-sweclockers input[type=number]+label::before,form#better-sweclockers input[type=time]+label::before{content:\\\"\\\"}form#better-sweclockers aside{display:inline-block;margin-left:12px;opacity:0;pointer-events:none}form#better-sweclockers .better-sweclockers-preference:hover>aside{opacity:1;transition-duration:500ms}form#better-sweclockers #better-sweclockers-editing-tools{height:200px}form#better-sweclockers .better-sweclockers-code-input::after{color:#d00;content:\\\"Klistra aldrig in kod som du inte litar p!\\\";display:block;font-weight:bold;margin-top:.4em;opacity:0;transition:opacity 200ms 100ms}form#better-sweclockers .better-sweclockers-code-input:hover::after,form#better-sweclockers .better-sweclockers-code-input:focus-within::after{opacity:1}form#better-sweclockers #better-sweclockers-interests-preferences{columns:2}form#better-sweclockers #better-sweclockers-interests-preferences .better-sweclockers-subforum{padding-left:2em}form#better-sweclockers .better-sweclockers-disabled{opacity:.25;pointer-events:none}form#better-sweclockers footer{text-align:center;opacity:.8}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"better-sweclockers\": \"better-sweclockers\",\n\t\"better-sweclockers-editing-tools\": \"better-sweclockers-editing-tools\",\n\t\"better-sweclockers-preference\": \"better-sweclockers-preference\",\n\t\"better-sweclockers-labeledInput\": \"better-sweclockers-labeledInput\",\n\t\"s5fieldset\": \"s5fieldset\",\n\t\"better-sweclockers-radioButtonPreference\": \"better-sweclockers-radioButtonPreference\",\n\t\"better-sweclockers-inline-preference\": \"better-sweclockers-inline-preference\",\n\t\"better-sweclockers-primary-inline-preference\": \"better-sweclockers-primary-inline-preference\",\n\t\"better-sweclockers-code-input\": \"better-sweclockers-code-input\",\n\t\"better-sweclockers-interests-preferences\": \"better-sweclockers-interests-preferences\",\n\t\"better-sweclockers-subforum\": \"better-sweclockers-subforum\",\n\t\"better-sweclockers-disabled\": \"better-sweclockers-disabled\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"#header a[href=\\\"/forum/foljda\\\"].color-orange span{color:gray !important}#header a[href=\\\"/forum/foljda\\\"].color-orange svg,#header a[href=\\\"/forum/foljda\\\"].color-orange path{fill:gray !important}#header a[href=\\\"/profil/inlagg\\\"] svg+span{margin-right:6.5px !important}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"header\": \"header\",\n\t\"color-orange\": \"color-orange\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"#better-sweclockers-document .tbGroup.better-sweclockers-textarea-size{float:right}#better-sweclockers-document .tbGroup.better-sweclockers-textarea-size .btnIcon{background:none}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"better-sweclockers-document\": \"better-sweclockers-document\",\n\t\"tbGroup\": \"tbGroup\",\n\t\"better-sweclockers-textarea-size\": \"better-sweclockers-textarea-size\",\n\t\"btnIcon\": \"btnIcon\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".forumThread.better-sweclockers-uninteresting{opacity:.3;transition:opacity 200ms ease-out}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"forumThread\": \"forumThread\",\n\t\"better-sweclockers-uninteresting\": \"better-sweclockers-uninteresting\"\n};\nmodule.exports = exports;\n","export function compose() {\n    switch (arguments.length) {\n        case 1: return _compose1(arguments[0]);\n        case 2: return _compose2(arguments[0], arguments[1]);\n        case 3: return _compose3(arguments[0], arguments[1], arguments[2]);\n        case 4: return _compose4(arguments[0], arguments[1], arguments[2], arguments[3]);\n        case 5: return _compose5(arguments[0], arguments[1], arguments[2], arguments[3], arguments[4]);\n    }\n    ;\n}\nfunction _compose1(f) {\n    return function compose1Fn(a) {\n        return f(a);\n    };\n}\nfunction _compose2(g, f) {\n    return function compose2Fn(a) {\n        return g(f(a));\n    };\n}\nfunction _compose3(h, g, f) {\n    return function compose3Fn(a) {\n        return h(g(f(a)));\n    };\n}\nfunction _compose4(i, h, g, f) {\n    return function compose3Fn(a) {\n        return i(h(g(f(a))));\n    };\n}\nfunction _compose5(j, i, h, g, f) {\n    return function compose5Fn(a) {\n        return j(i(h(g(f(a)))));\n    };\n}\n//# sourceMappingURL=compose.js.map","export const ALWAYS = () => true;\nexport const NEVER = () => false;\nexport const DOMCONTENTLOADED = (state) => state !== \"loading\";\nexport const LOAD = (state) => state === \"complete\";\n","export function lines(s) {\n    return s === \"\" ? [] : s.replace(/\\n$/, \"\").split(\"\\n\");\n}\nexport function unlines(ls) {\n    return ls.map(line => line + \"\\n\").join(\"\");\n}\n//# sourceMappingURL=index.js.map","import { unlines } from \"lines-unlines\";\nconst INDENTATION = \"  \";\nfunction formatDependency(d) {\n    return INDENTATION + d.key + \": \" + d.selector;\n}\nexport function explanation(failure) {\n    switch (failure.result.reason) {\n        case 0:\n            return unlines([\n                `These dependencies were not found:`,\n                ``,\n                unlines(failure.result.dependencies.map(formatDependency)),\n            ]);\n        case 1:\n            return unlines([\n                `The operation failed with this error:`,\n                ``,\n                failure.result.message,\n            ]);\n    }\n}\nexport function failureDescriber(context) {\n    return failure => unlines([\n        `Could not ${failure.operation.description} on this page:`,\n        ``,\n        INDENTATION + location.href,\n        ``,\n        explanation(failure).trim(),\n        ``,\n        `This problem might be caused by ${context.siteName} changing its content/structure, in which case ${context.extensionName} needs to be updated accordingly. Otherwise, it's probably a bug in ${context.extensionName}.`,\n        ``,\n        `If you file a bug report, please include this message.`,\n    ]);\n}\n","let prefix = \"\";\nlet logger = console;\nexport function setPrefix(p) {\n    prefix = p;\n}\nexport function setLogger(l) {\n    logger = l;\n}\nexport function log(str) {\n    logger.log(prefix, str);\n}\nexport function info(str) {\n    logger.info(prefix, str);\n}\nexport function warning(str) {\n    logger.warn(prefix, str);\n}\nexport function error(str) {\n    logger.error(prefix, str);\n}\n","const MATCH_ALL = \"all\";\nconst MATCH_NONE = \"not all\";\nexport function stylesheet(spec) {\n    return spec;\n}\nexport function insert(stylesheets) {\n    const fragment = document.createDocumentFragment();\n    Object.entries(stylesheets).forEach(([_, sheet]) => {\n        const style = document.createElement(\"style\");\n        if (sheet.id !== undefined)\n            style.id = sheet.id;\n        style.textContent = sheet.css;\n        style.media = sheet.condition(window) ? MATCH_ALL : MATCH_NONE;\n        fragment.appendChild(style);\n    });\n    document.documentElement.appendChild(fragment);\n}\nconst setMediaQuery = (m) => (s) => {\n    const element = document.getElementById(s.id);\n    if (element !== null) {\n        element.setAttribute(\"media\", m);\n    }\n};\nexport const enable = setMediaQuery(MATCH_ALL);\nexport const disable = setMediaQuery(MATCH_NONE);\n","const TYPE_GUARDS_PRIMITIVE = [isBoolean, isNumber, isString, isSymbol, isNull, isUndefined];\nexport function isBoolean(x) {\n    return typeof x === \"boolean\";\n}\nexport function isNumber(x) {\n    return typeof x === \"number\";\n}\nexport function isString(x) {\n    return typeof x === \"string\";\n}\nexport function isSymbol(x) {\n    return typeof x === \"symbol\";\n}\nexport function isNull(x) {\n    return x === null;\n}\nexport function isUndefined(x) {\n    return x === undefined;\n}\nexport function isPrimitive(x) {\n    return TYPE_GUARDS_PRIMITIVE.some(f => f(x));\n}\nexport function isNonPrimitive(x) {\n    return !isPrimitive(x);\n}\nfunction namedFunction(name, fun) {\n    return Object.defineProperty(fun, \"name\", { value: name, writable: false });\n}\nfunction namedTypeGuard(creator, type, typeGuard) {\n    return namedFunction(`${creator.name}(${type.name})`, typeGuard);\n}\nexport function is(type) {\n    if (isPrimitive(type)) {\n        return (_) => false;\n    }\n    return namedTypeGuard(is, type, (x) => x instanceof type);\n}\nexport function isLike(reference) {\n    for (const f of TYPE_GUARDS_PRIMITIVE) {\n        if (f(reference)) {\n            return (x) => f(x);\n        }\n    }\n    if (is(Array)(reference)) {\n        const referenceAsArray = reference;\n        return (x) => is(Array)(x) && (referenceAsArray.length > 0 ? x.every(isLike(referenceAsArray[0])) : true);\n    }\n    if (reference.constructor === Object) {\n        return (x) => (![undefined, null].includes(x)\n            &&\n                Object.keys(reference).every(k => isLike(reference[k])(x[k])));\n    }\n    if (reference.constructor instanceof Function) {\n        return is(reference.constructor);\n    }\n    throw new TypeError(isLike.name + ` cannot use this object as reference because it has no constructor: ` + JSON.stringify(reference));\n}\n//# sourceMappingURL=is.js.map","import { isNull, isNumber, isString } from \"ts-type-guards\";\nconst SUCCESS = undefined;\nexport function operation(spec) {\n    return spec;\n}\nexport function run(plan) {\n    function recurse(operations, failures, triesLeft) {\n        const lastTry = isNumber(triesLeft) && triesLeft <= 0;\n        const operationsToRunNow = [];\n        const remaining = [];\n        const readyState = document.readyState;\n        for (const o of operations) {\n            const shouldRunNow = o.deferUntil === undefined || o.deferUntil(readyState);\n            (shouldRunNow ? operationsToRunNow : remaining).push(o);\n        }\n        for (const o of operationsToRunNow) {\n            const result = tryToPerform(o);\n            if (result !== SUCCESS) {\n                switch (result.reason) {\n                    case 0:\n                        if (lastTry) {\n                            failures.push({ result, operation: o });\n                        }\n                        else {\n                            remaining.push(o);\n                        }\n                        break;\n                    case 1:\n                        failures.push({ result, operation: o });\n                        break;\n                }\n            }\n        }\n        if (remaining.length > 0) {\n            setTimeout(() => recurse(remaining, failures, (isNumber(triesLeft)\n                ? triesLeft - 1\n                : plan.tryUntil(readyState) ? plan.extraTries : undefined)), plan.interval);\n        }\n        else if (failures.length > 0) {\n            plan.handleFailures(failures);\n        }\n    }\n    recurse(plan.operations.filter(o => o.condition(window)), []);\n}\nfunction tryToPerform(o) {\n    const dependencies = o.dependencies === undefined ? {} : o.dependencies;\n    const queryResults = Object.entries(dependencies).map(([key, selector]) => ({\n        key, selector,\n        element: document.querySelector(selector),\n    }));\n    const missingDependencies = queryResults.filter(x => isNull(x.element));\n    if (missingDependencies.length > 0) {\n        return { reason: 0, dependencies: missingDependencies };\n    }\n    const e = queryResults.reduce((acc, x) => Object.defineProperty(acc, x.key, { value: x.element }), {});\n    return fromActionResult(o.action(e));\n}\nfunction fromActionResult(r) {\n    return isString(r) ? { reason: 1, message: r } : SUCCESS;\n}\n","import * as log from \"./log\";\nimport * as operations from \"./operations\";\nimport * as stylesheets from \"./stylesheets\";\nexport function run(userscript) {\n    log.setPrefix(`[${userscript.name}]`);\n    const attr = attribute(userscript.id);\n    if (document.documentElement.hasAttribute(attr)) {\n        log.warning(`It looks as though ${userscript.name} has already run (because the attribute \"${attr}\" was found on <head>). Stopping.`);\n    }\n    else {\n        document.documentElement.setAttribute(attr, \"\");\n        userscript.initialAction();\n        stylesheets.insert(userscript.stylesheets);\n        operations.run(userscript.operationsPlan);\n    }\n}\nfunction attribute(id) {\n    return \"data-\" + id + \"-has-run\";\n}\n","export default {\n    id: \"better-sweclockers\",\n    name: \"Better SweClockers\",\n    version: \"TO_BE_REPLACED_DURING_BUILD\",\n    description: \"Extra functionality and improved usability for the SweClockers website.\",\n    author: \"Simon Alling\",\n    hostname: \"sweclockers.com\",\n    sitename: \"SweClockers\",\n    namespace: \"simonalling.se\",\n    runAt: \"document-start\",\n    noframes: true,\n    hostedAt: \"https://simonalling.github.io/better-sweclockers/\",\n};\n","export const r = String.raw;\nexport function fromMaybeUndefined(fallback, x) {\n    return x === undefined ? fallback : x;\n}\nexport function truncate(maxTotalLength, s) {\n    const REPLACEMENT = \"[]\";\n    return (s.length > maxTotalLength\n        ? s.slice(0, maxTotalLength - REPLACEMENT.length) + REPLACEMENT\n        : s);\n}\nexport function withMaybe(ma, f) {\n    if (ma !== null) {\n        f(ma);\n    }\n}\nexport function yyyymmdd(date) {\n    const yyyy = date.getFullYear();\n    const mm = (date.getMonth() + 1 /* 0-indexed */).toString().padStart(2, \"0\");\n    const dd = date.getDate().toString().padStart(2, \"0\");\n    return yyyy + mm + dd;\n}\nexport function assertExhausted(x) {\n    throw new Error(`assertExhausted: ${x}`);\n}\n","export var SearchEngine;\n(function (SearchEngine) {\n    // Be careful! These strings are used in the UI.\n    SearchEngine[\"GOOGLE\"] = \"Google\";\n    SearchEngine[\"DUCKDUCKGO\"] = \"DuckDuckGo\";\n})(SearchEngine || (SearchEngine = {}));\nfunction searchEngineURL(engine) {\n    switch (engine) {\n        case \"Google\" /* GOOGLE */: return \"https://google.com/search?q=\";\n        case \"DuckDuckGo\" /* DUCKDUCKGO */: return \"https://duckduckgo.com/?q=\";\n    }\n}\nexport function searchURL(engine, completePhrase) {\n    return searchEngineURL(engine) + completePhrase.trim().replace(/\\s+/g, \"+\");\n}\n","// This file cannot contain Webpack-resolved imports (e.g. \"~src/foo\").\nimport U from \"./userscript\";\nimport { r } from \"./utilities\";\nexport const USERSCRIPT_ID = U.id;\nexport const USERSCRIPT_NAME = U.name;\nexport const PREFIX_ID = USERSCRIPT_ID + \"-\";\nexport const PREFIX_CLASS = USERSCRIPT_ID + \"-\";\n// How long to wait between performing operations (DOM manipulation etc) during page load:\nexport const OPERATIONS_INTERVAL = 25; // ms\n// How many extra tries to perform after DOMContentLoaded before considering remaining operations failed:\nexport const OPERATIONS_EXTRA_TRIES = 3;\nconst i = (x) => PREFIX_ID + x;\nconst c = (x) => PREFIX_CLASS + x;\nexport const ID_STYLE_ELEMENT = i(\"main-style-element\");\nexport const EDITING_TOOLS_HEIGHT = \"200px\"; // to prevent jumping in preferences interface\n// distance between article and left side of improved corrections dialog\nexport const CORRECTIONS_DIALOG_OFFSET_PX = 20;\nexport const NBSP = \"\\u00A0\";\nexport const ID = {\n    developerTools: i(\"developer-tools\"),\n    document: i(\"document\"),\n    preferenceIdPrefix: i(\"preference-\"),\n    editingTools: i(\"editing-tools\"),\n    editingToolsPreferences: i(\"editing-tools-preferences\"),\n    interestsPreferences: i(\"interests-preferences\"),\n    style: {\n        proofreading: i(\"proofreading\"),\n    },\n};\nexport const CLASS = {\n    mousetrap: \"mousetrap\",\n    developerTools: {\n        error: i(\"error\"),\n        warning: i(\"warning\"),\n    },\n    disabled: c(\"disabled\"),\n    editingTools: c(\"editing-tools\"),\n    iconButton: c(\"icon-button\"),\n    pmButton: c(\"pm-button\"),\n    quoteSignatureButton: c(\"quote-signature-button\"),\n    mentionEveryoneButton: c(\"mention-everyone-button\"),\n    shibe: c(\"shibe\"),\n    button_color: c(\"button-color\"),\n    button_blockquote: c(\"button-blockquote\"),\n    button_spoiler: c(\"button-spoiler\"),\n    button_code: c(\"button-code\"),\n    button_math: c(\"button-math\"),\n    splitQuote: c(\"split-quote\"),\n    colorPalette: c(\"color-palette\"),\n    smileys: c(\"smileys\"),\n    preference: c(\"preference\"),\n    preferenceDescription: c(\"preference-description\"),\n    inlinePreference: c(\"inline-preference\"),\n    primaryInlinePreference: c(\"primary-inline-preference\"),\n    radioButtonPreference: c(\"radioButtonPreference\"),\n    labeledInput: c(\"labeledInput\"),\n    subforum: c(\"subforum\"),\n    textareaSize: c(\"textarea-size\"),\n    codeInput: c(\"code-input\"),\n    checkbox: c(\"checkbox\"),\n    uninteresting: c(\"uninteresting\"),\n};\nexport const PATH = {\n    PREFERENCES: {\n        // Used for creating a link to the preferences menu:\n        link: (sweclockersSettingsPath) => (sweclockersSettingsPath + \"/\" + USERSCRIPT_ID),\n        // Used for checking whether we should show the preferences menu:\n        check: (sweclockersSettingsPath) => (new RegExp(sweclockersSettingsPath.source + r `\\/` + USERSCRIPT_ID)),\n    },\n};\nexport const KEY = {\n    caret_position: i(\"caret_position_in_textarea\"),\n    developer_tools_open: i(\"developer_tools_open\"),\n    draft_mode: i(\"draft_mode\"),\n};\nexport const URL_LOGO = \"https://github.com/SimonAlling/better-sweclockers/raw/master/docs/logo.png\";\nexport const CONTENT = {\n    indentation: \"    \",\n    shibeColor: `red`,\n    shibeFont: `Comic Sans MS, Chalkboard SE, sans-serif`,\n    splitQuoteEmptyLines: 3,\n    edit: `[b]EDIT:[/b] `,\n    doge: `[img]https://i.imgur.com/2IGEruO.png[/img]`,\n};\nexport const ICONS = {\n    // Requiring an SVG file here throws when building.\n    BLOCKQUOTE: `<div></div>`,\n    DOGE: `https://i.imgur.com/2IGEruO.png`,\n};\nexport const FOCUSABLE_ELEMENTS = [\"textarea\", \"input\", \"select\"];\nexport { SearchEngine } from \"./search-engines\";\n","// This file cannot contain Webpack-resolved imports (e.g. \"~src/foo\").\nimport U from \"./userscript\";\nexport const NAME = U.sitename;\nexport const HOSTNAME = U.hostname;\nexport const HOSTNAME_MOBILE = `m.` + HOSTNAME;\nexport const STYLESHEET_URL = (yyyymmdd) => `/css/combine.min.sass.css?v=${yyyymmdd}`;\nexport const BANNER_HEIGHT_SIDE = `${370}px`; // default height of sidebar ad modules\nexport const BANNER_HEIGHT_MID = `${341}px`; // default height of front page inter-article ad modules\nexport const WRAPPER_WIDTH_WIDE_PX = 1250;\nexport const WRAPPER_WIDTH_NARROW_PX = 1000;\nexport const MAX_WIDTH_FOR_NARROW_LAYOUT_PX = 1100;\nexport const EXTRA_TAB_MARGIN = `${8}px`;\nexport const GUTTER_SIZE_PX = 6; // the small padding to the very left and right\nexport const ARTICLE_WIDTH_PX = 680;\nexport const WIDTH_WHERE_NARROW_LAYOUT_GOES_CENTERED = WRAPPER_WIDTH_NARROW_PX + 2 * GUTTER_SIZE_PX;\nexport const WIDTH_WHERE_WIDE_LAYOUT_GOES_CENTERED = WRAPPER_WIDTH_WIDE_PX + 2 * GUTTER_SIZE_PX;\nexport const ID = {\n    header: \"header\",\n    carousel: \"carousel\",\n    correctionsLink: \"proofArticle\",\n    postPreview: \"preview\",\n    latestNewsWidget: \"wdgtMainRecentNews\",\n    newInForumWidget_main: \"wdgtMainRecentThreads\",\n    newInForumWidget_side: \"wdgtSideRecentThreads\",\n    newInMarketWidget: \"wdgtSideRecentClassifieds\",\n    newInTestLabWidget: \"wdgtSideRecentReviews\",\n    inTheStoreWidget: \"wdgtSideGeeksShop\",\n    popularAtPrisjaktWidget: \"wdgtSidePopularProducts\",\n    newTechJobsWidget: \"wdgtSideMonsterJobs\",\n    externalNewsWidget: \"wdgtSideExternalFeeds\",\n};\nexport const CLASS = {\n    fieldset: \"s5fieldset\",\n    button: \"button\",\n    link: \"link\",\n    icon: \"icon\",\n    label: \"label\",\n    disabled: \"is-disabled\",\n    inner: \"inner\",\n    colorOrange: \"color-orange\",\n    menuItem: \"menu-item\",\n    settingsNavigation: \"menu-items\",\n    forumPosts: \"forum-posts\",\n    forumPost: \"forum-post\",\n    forumPostProfileDetails: \"details\",\n    forumPostSignature: \"signature\",\n    forumPostControls: \"controls\",\n    forumPostByCurrentUser: \"isReader\",\n    bbcode: \"bbcode\",\n    bbDel: \"bbDel\",\n    bbImage: \"bbImage\",\n    bbIns: \"bbIns\",\n    imgControls: \"imgControls\",\n    notifications: \"profile-nav__notifications\",\n    proofDialog: \"proofDialog\",\n    socialMediaButtons: [`threadShare`, `greyContentShare`, `sideShare`],\n    sideBox: \"sideBox\",\n    smiley: \"smiley\",\n    subforums: \"subforums\",\n    toolbarGroup: \"tbGroup\",\n    toolbarButton: \"tbButton iconButton noselect\",\n    toolbarButtonIcon: \"btnIcon\",\n    toolbarHeadingButton: \"header\",\n    toolbarTableButton: \"tbl\",\n};\nexport const FORM = {\n    name: {\n        action: \"action\",\n        csrfToken: \"csrf\",\n        message: \"message\",\n        recipients: \"rcpt[]\",\n        title: \"title\",\n    },\n    value: {\n        preview: \"doPreview\",\n        submit: \"doSubmit\",\n    },\n};\nexport const PATH = {\n    EDIT_MODE_FORUM: /^\\/forum\\/(.*\\/(svara(\\?citera)?|redigera)|ny-trad)/,\n    EDIT_MODE_MARKET: /^\\/marknad\\/(.+\\/(redigera|kontakt)|ny-annons)$/,\n    EDIT_MODE_MARKET_CONTACT: /^\\/marknad\\/.+\\/kontakt$/,\n    EDIT_MODE_PM: /^\\/medlem\\/\\d+\\/meddelanden\\/(?:nytt-meddelande|post\\/\\d+\\/(?:redigera|svara))/,\n    EDIT_MODE_REPORT: /^\\/(forum|marknad|medlem\\/\\d+\\/meddelanden)\\/.+\\/anmal$/,\n    EDIT_MODE_SIGNATURE: /^\\/medlem\\/\\d+\\/installningar\\/signatur$/,\n    SETTINGS: {\n        link: \"/profil/installningar\",\n        check: /^\\/medlem\\/\\d+\\/installningar/,\n    },\n    FOLLOWED: \"/forum/foljda\",\n    MY_POSTS: \"/profil/inlagg\",\n    SIGNIN: `/konto/logga-in`,\n    SIGNOUT: `/konto/logga-ut`,\n    ARTICLE: /^\\/artikel\\//,\n    GUIDE: /^\\/guide\\//,\n    NEWS: /^\\/nyhet\\//,\n    COMPETITION: /^\\/tavling\\//,\n    TEST: /^\\/test\\//,\n    TESTPILOT: /^\\/testpilot\\//,\n    FORUM_CATEGORY: /\\/forum\\/(\\d+)/,\n    FORUM: \"/forum\",\n    FORUM_THREADS_VIEW: /^\\/forum\\/(aktiva|obesvarade|foljda|skapade|lasta)$/,\n    PROFILE: (userId) => new RegExp(`^/medlem/${userId}$`),\n    THREAD: /^\\/(?:forum|medlem\\/\\d+\\/meddelanden)\\/trad\\//,\n    POST: /^\\/(?:forum|medlem\\/\\d+\\/meddelanden)\\/post\\//,\n    newPrivateMessage: (sender) => `/medlem/${sender}/meddelanden/nytt-meddelande`,\n    forumPost: (postID) => `/forum/post/${postID}`,\n};\nexport const TAG = {\n    abbr: \"abbr\",\n    b: \"b\",\n    bq: \"bq\",\n    cmd: \"cmd\",\n    code: \"code\",\n    color: \"color\",\n    del: \"del\",\n    dd: \"dd\",\n    dl: \"dl\",\n    dt: \"dt\",\n    expander: \"expander\",\n    font: \"font\",\n    h: \"h\",\n    i: \"i\",\n    img: \"img\",\n    ins: \"ins\",\n    mark: \"mark\",\n    math: \"math\",\n    noparse: \"noparse\",\n    pre: \"pre\",\n    quote: \"quote\",\n    size: \"size\",\n    spoiler: \"spoiler\",\n    sub: \"sub\",\n    sup: \"sup\",\n    u: \"u\",\n    url: \"url\",\n};\nconst URL_ICONS_TOOLBAR = \"/gfx/toolbar2x.png\";\nexport const ICONS = {\n    toolbarIcon: (position) => `<div style=\"background-image: url('${URL_ICONS_TOOLBAR}'); background-size: 500px auto; background-position: ${position};\"></div>`,\n    position_toolbar_url: \"0 -125px\",\n    position_toolbar_img: \"-50px -125px\",\n    settings: `<use xlink:href=\"/gfx/iconmap.svg#icon_settings\"></use>`,\n};\nexport const MOBILE_SITE_DISCLAIMER = {\n    sentFrom: `Skickades frn`,\n    mobileSiteDomain: HOSTNAME_MOBILE,\n};\nconst USER_ID_NOT_LOGGED_IN = 1;\nexport function getUserInfo() {\n    var _a, _b;\n    const userID = (_b = (_a = window) === null || _a === void 0 ? void 0 : _a.session) === null || _b === void 0 ? void 0 : _b._userid;\n    if (typeof userID !== \"number\") {\n        return { tag: \"CouldNotExtract\" };\n    }\n    return (userID === USER_ID_NOT_LOGGED_IN\n        ? { tag: \"NotLoggedIn\" }\n        : { tag: \"LoggedIn\", userID });\n}\n","import * as CONFIG from \"./config\";\nimport * as SITE from \"./site\";\n// NOTE: Be careful with document.head here, as it may be null at the time of\n// userscript execution (e.g. in a background tab in Firefox)!\nexport const isOnBSCPreferencesPage = pathMatches(CONFIG.PATH.PREFERENCES.check(SITE.PATH.SETTINGS.check));\nexport const isOnSweclockersSettingsPage = pathMatches(SITE.PATH.SETTINGS.check) && !isOnBSCPreferencesPage;\nexport const isOnSomeProfilePage = pathMatches(SITE.PATH.PROFILE(\"\\\\d+\"));\nfunction pathMatches(r) {\n    return r.test(document.location.pathname);\n}\nexport const isInForumThreadsView = pathMatches(SITE.PATH.FORUM_THREADS_VIEW);\nexport const isInEditMode_forum = pathMatches(SITE.PATH.EDIT_MODE_FORUM);\nexport const isInEditMode_market = pathMatches(SITE.PATH.EDIT_MODE_MARKET);\nexport const isInEditMode_marketContact = pathMatches(SITE.PATH.EDIT_MODE_MARKET_CONTACT);\nexport const isInEditMode_PM = pathMatches(SITE.PATH.EDIT_MODE_PM);\nexport const isInEditMode_report = pathMatches(SITE.PATH.EDIT_MODE_REPORT);\nexport const isInEditMode_signature = pathMatches(SITE.PATH.EDIT_MODE_SIGNATURE);\nexport const isInEditMode = [\n    isInEditMode_forum,\n    isInEditMode_market,\n    isInEditMode_PM,\n    isInEditMode_report,\n    isInEditMode_signature,\n].some(x => x);\nexport const isReadingEditorialContent = [\n    SITE.PATH.ARTICLE,\n    SITE.PATH.GUIDE,\n    SITE.PATH.NEWS,\n    SITE.PATH.COMPETITION,\n    SITE.PATH.TEST,\n    SITE.PATH.TESTPILOT,\n].some(pathMatches);\nexport const isReadingThread = !isInEditMode && [\n    SITE.PATH.THREAD,\n    SITE.PATH.POST,\n].some(pathMatches);\nexport const isReadingForumThread = isReadingThread && document.location.pathname.startsWith(SITE.PATH.FORUM);\n","import { is, isLike, isNull } from \"ts-type-guards\";\r\nexport var Status;\r\n(function (Status) {\r\n    Status[\"OK\"] = \"OK\";\r\n    Status[\"ABSENT\"] = \"ABSENT\";\r\n    Status[\"TYPE_ERROR\"] = \"TYPE_ERROR\";\r\n    Status[\"JSON_ERROR\"] = \"JSON_ERROR\";\r\n    Status[\"STORAGE_ERROR\"] = \"STORAGE_ERROR\";\r\n    Status[\"NUMBER_ERROR\"] = \"NUMBER_ERROR\";\r\n})(Status || (Status = {}));\r\nconst LOCAL_STORAGE = () => localStorage;\r\nconst SESSION_STORAGE = () => sessionStorage;\r\nexport function get(key, fallback) {\r\n    return getFrom(LOCAL_STORAGE, key, fallback);\r\n}\r\nexport function get_session(key, fallback) {\r\n    return getFrom(SESSION_STORAGE, key, fallback);\r\n}\r\nexport function set(key, value) {\r\n    return setIn(LOCAL_STORAGE, key, value);\r\n}\r\nexport function set_session(key, value) {\r\n    return setIn(SESSION_STORAGE, key, value);\r\n}\r\nexport function remove(key) {\r\n    return removeIn(LOCAL_STORAGE, key);\r\n}\r\nexport function remove_session(key) {\r\n    return removeIn(SESSION_STORAGE, key);\r\n}\r\nfunction getFrom(storage, key, fallback) {\r\n    try {\r\n        const savedValue = readFrom(storage(), key, fallback);\r\n        if (isNull(savedValue)) {\r\n            return {\r\n                status: \"ABSENT\",\r\n                value: fallback,\r\n            };\r\n        }\r\n        else {\r\n            return {\r\n                status: \"OK\",\r\n                value: savedValue,\r\n            };\r\n        }\r\n    }\r\n    catch (err) {\r\n        const status = (is(SyntaxError)(err) ? \"JSON_ERROR\"\r\n            :\r\n                is(TypeError)(err) ? \"TYPE_ERROR\"\r\n                    :\r\n                        \"STORAGE_ERROR\");\r\n        return {\r\n            status,\r\n            value: fallback,\r\n        };\r\n    }\r\n}\r\nfunction setIn(storage, key, value) {\r\n    try {\r\n        saveIn(storage(), key, value);\r\n        return {\r\n            status: \"OK\",\r\n            value,\r\n        };\r\n    }\r\n    catch (err) {\r\n        const status = (is(RangeError)(err) ? \"NUMBER_ERROR\"\r\n            :\r\n                is(SyntaxError)(err) || is(TypeError)(err) ? \"JSON_ERROR\"\r\n                    :\r\n                        \"STORAGE_ERROR\");\r\n        return {\r\n            status,\r\n            value,\r\n        };\r\n    }\r\n}\r\nfunction removeIn(storage, key) {\r\n    try {\r\n        storage().removeItem(key);\r\n        return {\r\n            status: \"OK\",\r\n            value: true,\r\n        };\r\n    }\r\n    catch (err) {\r\n        return {\r\n            status: \"STORAGE_ERROR\",\r\n            value: false,\r\n        };\r\n    }\r\n}\r\nfunction readFrom(storage, key, reference) {\r\n    if (storage === null) {\r\n        throw new DOMException();\r\n    }\r\n    const readValue = storage.getItem(key);\r\n    if (isNull(readValue)) {\r\n        return null;\r\n    }\r\n    const parsedValue = JSON.parse(readValue);\r\n    if (isLike(reference)(parsedValue)) {\r\n        return parsedValue;\r\n    }\r\n    throw new TypeError(`Saved value had wrong type.`);\r\n}\r\nfunction saveIn(storage, key, value) {\r\n    const replacer = (_key, v) => {\r\n        if (typeof v === \"number\" && !Number.isFinite(v)) {\r\n            throw new RangeError(v.toString());\r\n        }\r\n        return v;\r\n    };\r\n    const stringifiedValue = JSON.stringify(value, replacer);\r\n    if (storage === null) {\r\n        throw new DOMException();\r\n    }\r\n    storage.setItem(key, stringifiedValue);\r\n}\r\n//# sourceMappingURL=index.js.map","export function fromMaybe(fallback, x) {\r\n    return x === undefined ? fallback : x;\r\n}\r\nfunction replacer(key, value) {\r\n    switch (true) {\r\n        case Number.isNaN(value): return \"NaN\";\r\n        case value === Infinity: return \"Infinity\";\r\n        case value === -Infinity: return \"-Infinity\";\r\n        default: return value;\r\n    }\r\n}\r\nexport function stringify(x) {\r\n    return JSON.stringify(x, replacer);\r\n}\r\n//# sourceMappingURL=Utilities.js.map","import { isString } from \"ts-type-guards\";\r\nimport { fromMaybe, stringify, } from \"../Utilities\";\r\nexport function prependConstraints(cs, data) {\r\n    data.constraints = cs.concat(fromMaybe([], data.constraints));\r\n}\r\nexport class Preference {\r\n    constructor(data) {\r\n        if (data.key === \"\") {\r\n            throw new TypeError(`Empty preference key in this ${this.getClassName()}:\\n${stringify(data)}`);\r\n        }\r\n        this.key = data.key;\r\n        this.default = data.default;\r\n        this.label = data.label;\r\n        this.description = fromMaybe(\"\", data.description);\r\n        this.constraints = fromMaybe([], data.constraints);\r\n        this.dependencies = fromMaybe([], data.dependencies);\r\n        this.extras = fromMaybe({}, data.extras);\r\n        const validationResult = this.validate(data.default);\r\n        if (isString(validationResult)) {\r\n            this.invalidValue(data.default, validationResult);\r\n        }\r\n    }\r\n    validate(value) {\r\n        const constraints = this.constraints;\r\n        for (let i = 0, len = constraints.length; i < len; i++) {\r\n            const constraint = constraints[i];\r\n            if (!constraint.requirement(value)) {\r\n                return constraint.message(value);\r\n            }\r\n        }\r\n        return { value };\r\n    }\r\n    toValid(value) {\r\n        return isString(this.validate(value)) ? this.default : value;\r\n    }\r\n    toString() {\r\n        return `${this.getClassName()} '${this.key}'`;\r\n    }\r\n    invalidValue(value, message) {\r\n        throw new Error(`${stringify(value)} is not a valid value for ${this}. Reason: ${message}`);\r\n    }\r\n}\r\n//# sourceMappingURL=Preference.js.map","import * as Storage from \"ts-storage\";\r\nimport { is, isString } from \"ts-type-guards\";\r\nimport { Preference, } from \"./preferences/Preference\";\r\nimport { stringify } from \"./Utilities\";\r\nexport var Status;\r\n(function (Status) {\r\n    Status[Status[\"OK\"] = 0] = \"OK\";\r\n    Status[Status[\"INVALID_VALUE\"] = 1] = \"INVALID_VALUE\";\r\n    Status[Status[\"TYPE_ERROR\"] = 2] = \"TYPE_ERROR\";\r\n    Status[Status[\"JSON_ERROR\"] = 3] = \"JSON_ERROR\";\r\n    Status[Status[\"STORAGE_ERROR\"] = 4] = \"STORAGE_ERROR\";\r\n})(Status || (Status = {}));\r\nconst SIMPLE_RESPONSE_HANDLER = (summary, _) => summary.response;\r\nexport class PreferenceManager {\r\n    constructor(preferences, localStoragePrefix, responseHandler = SIMPLE_RESPONSE_HANDLER) {\r\n        this.localStoragePrefix = localStoragePrefix;\r\n        this.responseHandler = responseHandler;\r\n        this.cache = new Map();\r\n        const seenKeys = [];\r\n        const allPreferences = flatten(preferences);\r\n        allPreferences.forEach(p => {\r\n            const key = p.key;\r\n            if (seenKeys.includes(key)) {\r\n                throw new Error(`Duplicate preference key ${stringify(key)}.`);\r\n            }\r\n            this.cache.set(p, p.default);\r\n            seenKeys.push(key);\r\n        });\r\n        allPreferences.forEach(p => {\r\n            p.dependencies.forEach(dependency => {\r\n                if (this.cache.get(dependency.preference) === undefined) {\r\n                    throw new Error(`Dependency error in ${p}: ${unknown(dependency.preference)}`);\r\n                }\r\n            });\r\n        });\r\n    }\r\n    get(preference) {\r\n        return this.getWith(this.responseHandler, preference);\r\n    }\r\n    set(preference, value) {\r\n        this.setWith(this.responseHandler, preference, value);\r\n    }\r\n    getWith(responseHandler, preference) {\r\n        return responseHandler({\r\n            action: \"get\",\r\n            preference,\r\n            response: this.getRaw(preference),\r\n        }, this).value;\r\n    }\r\n    setWith(responseHandler, preference, value) {\r\n        responseHandler({\r\n            action: \"set\",\r\n            preference,\r\n            response: this.setRaw(preference, value),\r\n        }, this);\r\n    }\r\n    reset(preference) {\r\n        this.getFromCacheOrThrowIfUnknown(preference);\r\n        Storage.remove(this.localStoragePrefix + preference.key);\r\n    }\r\n    resetAll() {\r\n        for (const p of this.cache.keys()) {\r\n            this.reset(p);\r\n        }\r\n    }\r\n    shouldBeAvailable(p) {\r\n        const isMet = (d) => d.condition(this.getRaw(d.preference).value);\r\n        return p.dependencies.every(isMet);\r\n    }\r\n    getRaw(preference) {\r\n        const cachedValue = this.getFromCacheOrThrowIfUnknown(preference);\r\n        const response = Storage.get(this.localStoragePrefix + preference.key, preference.default);\r\n        if (response.status === \"OK\") {\r\n            const savedValue = response.value;\r\n            const validationResult = preference.validate(savedValue);\r\n            return (isString(validationResult)\r\n                ? {\r\n                    status: 1,\r\n                    value: preference.toValid(savedValue),\r\n                    saved: savedValue,\r\n                }\r\n                : {\r\n                    status: 0,\r\n                    value: savedValue,\r\n                });\r\n        }\r\n        return {\r\n            status: fromStorageStatus(response.status),\r\n            value: cachedValue,\r\n        };\r\n    }\r\n    setRaw(preference, value) {\r\n        this.getFromCacheOrThrowIfUnknown(preference);\r\n        if (isString(preference.validate(value))) {\r\n            return {\r\n                status: 1,\r\n                value,\r\n            };\r\n        }\r\n        this.cache.set(preference, value);\r\n        const response = Storage.set(this.localStoragePrefix + preference.key, value);\r\n        return {\r\n            status: fromStorageStatus(response.status),\r\n            value: response.value,\r\n        };\r\n    }\r\n    getFromCacheOrThrowIfUnknown(preference) {\r\n        const cachedValue = this.cache.get(preference);\r\n        if (cachedValue === undefined) {\r\n            throw new Error(unknown(preference));\r\n        }\r\n        return cachedValue;\r\n    }\r\n}\r\nfunction unknown(p) {\r\n    return `Unknown preference:\\n\\n${stringify(p)}.`;\r\n}\r\nfunction flatten(tree) {\r\n    return Object.values(tree).reduce((acc, node) => acc.concat(is(Preference)(node) ? node : flatten(node._)), []);\r\n}\r\nfunction fromStorageStatus(s) {\r\n    switch (s) {\r\n        case \"OK\": return 0;\r\n        case \"ABSENT\": return 0;\r\n        case \"NUMBER_ERROR\": return 1;\r\n        case \"TYPE_ERROR\": return 2;\r\n        case \"JSON_ERROR\": return 3;\r\n        case \"STORAGE_ERROR\": return 4;\r\n    }\r\n}\r\n//# sourceMappingURL=PreferenceManager.js.map","import * as log from \"./log\";\nexport function subscriptable(handler) {\n    const changeListeners = new Set();\n    return {\n        subscribe: (listener) => { changeListeners.add(listener); },\n        unsubscribe: (listener) => { changeListeners.delete(listener); },\n        handler: (summary, preferences) => {\n            if (summary.action === \"set\") {\n                changeListeners.forEach(f => f(summary.preference));\n            }\n            return handler(summary, preferences);\n        },\n    };\n}\nexport function loggingResponseHandler(summary, preferences) {\n    const response = summary.response;\n    switch (response.status) {\n        case 0:\n            return response;\n        case 1:\n            if (summary.action === \"get\") {\n                log.warning(`The saved value for preference '${summary.preference.key}' (${JSON.stringify(response.saved)}) was invalid. Replacing it with ${JSON.stringify(response.value)}.`);\n                preferences.set(summary.preference, response.value);\n            }\n            if (summary.action === \"set\") {\n                log.warning(`Could not set value ${JSON.stringify(response.value)} for preference '${summary.preference.key}' because it was invalid.`);\n            }\n            return response;\n        case 2:\n            if (summary.action === \"get\") {\n                log.warning(`The saved value for preference '${summary.preference.key}' had the wrong type. Replacing it with ${JSON.stringify(response.value)}.`);\n                preferences.set(summary.preference, response.value);\n            }\n            return response;\n        case 3:\n            if (summary.action === \"get\") {\n                log.warning(`The saved value for preference '${summary.preference.key}' could not be parsed. Replacing it with ${JSON.stringify(response.value)}.`);\n                preferences.set(summary.preference, response.value);\n            }\n            return response;\n        case 4:\n            switch (summary.action) {\n                case \"get\":\n                    log.error(`Could not read preference '${summary.preference.key}' because localStorage could not be accessed. Using value ${JSON.stringify(summary.preference.default)}.`);\n                    break;\n                case \"set\":\n                    log.error(`Could not save value ${JSON.stringify(summary.response.value)} for preference '${summary.preference.key}' because localStorage could not be accessed.`);\n                    break;\n                default:\n                    assertUnreachable(summary.action);\n            }\n            return response;\n        default:\n            return assertUnreachable(response.status);\n    }\n}\nexport function noopResponseHandler(summary, _) {\n    return summary.response;\n}\nfunction assertUnreachable(x) {\n    throw new Error(\"assertUnreachable: \" + x);\n}\n","export function start(tagName, parameter) {\r\n    return `[${tagName}${parameter === undefined ? \"\" : `=\"${parameter}\"`}]`;\r\n}\r\nexport function end(tagName) {\r\n    return `[/${tagName}]`;\r\n}\r\nexport function empty(tagName, parameter) {\r\n    return start(tagName, parameter) + end(tagName);\r\n}\r\n//# sourceMappingURL=index.js.map","export function supportsUndo(userAgent) {\n    /*\n    Hard to know for sure, but Gecko browsers don't support document.execCommand as of 2020-07-18 (Firefox 78).\n    https://bugzilla.mozilla.org/show_bug.cgi?id=1220696\n    \"Why not use feature detection?\" Because document.execCommand can't be feature-detected:\n\n        \"Note: Only returns true if part of a user interaction. Don't try using the return value to verify browser support before calling a command.\"\n\n    https://developer.mozilla.org/en-US/docs/Web/API/Document/execCommand#Return_value\n\n    Android doesn't support undo in general.\n    */\n    // Make sure the preference labels referencing this function match the implementation.\n    return ![\n        // Having functions, rather than their return values, in this list means we can reap the full benefits of short-circuiting (however important that may or may not be).\n        isGecko,\n        isAndroid,\n    ].some(f => f(userAgent));\n}\nexport function isGecko(userAgent) {\n    // Many browsers have \"Gecko\" in their user agent strings, but I believe only Gecko ones have the eight-digit suffix.\n    return /Gecko\\/\\d{8}/.test(userAgent);\n}\nexport function isAndroid(userAgent) {\n    return userAgent.includes(\"Android \");\n}\n","// This file cannot contain Webpack-resolved imports (e.g. \"~src/foo\").\nimport * as BB from \"bbcode-tags\";\nimport * as browser from \"./browser\";\nimport * as CONFIG from \"./config\";\nimport * as SITE from \"./site\";\nconst mention_everyone_label = `Nmn alla`;\nconst my_posts = `Mina inlgg`;\nconst down_for_maintenance = `Nere fr underhll`;\nconst draft_mode_toggle_label = `Utkast`;\nconst draft_mode_description = `Slipp posta ofrdiga inlgg av misstag`;\nconst OBVIOUS = `Som det lter`;\nexport const general = {\n    loading: `Laddar `,\n    preferences_link: CONFIG.USERSCRIPT_NAME,\n    signout_confirmation: `r du sker p att du vill logga ut?`,\n    draft_mode_toggle_label,\n    draft_mode_toggle_tooltip: draft_mode_description,\n    draft_mode_enabled_tooltip: `Kryssa ur \"${draft_mode_toggle_label}\" fr att posta`,\n    improved_url_button_url: `Adress (URL):`,\n    improved_url_button_text: `Lnktext:`,\n    nbsps_confirm: (n) => `${n} mellanslag kommer ersttas med hrda mellanslag. r du sker?`,\n    generic_lines_confirm: (n) => `${n} markerad${n > 1 ? \"e rader\" : \" rad\"} kommer formateras. r du sker?`,\n    quote_signature_label: `Citera med sign.`,\n    quote_signature_tooltip: `Citera inlgget och dess signatur`,\n    quote_signature_tooltip_no_signature: (author) => `${author} har ingen signatur`,\n    mention_everyone_label,\n    mention_everyone_tooltip: `Nmn alla trddeltagare p den hr sidan i ett nytt inlgg`,\n    uninteresting_subforum: (subforumName) => `Du har markerat kategorin ${subforumName} som ointressant.`,\n    pm_link_label: \"&nbsp;PM\",\n    go_to_post: `G till inlgget`,\n    link_to_top_tooltip: `G till toppen`,\n    textarea_size_small: `Liten textruta`,\n    textarea_size_large: `Stor textruta`,\n    tooltip_h: `Rubrik`,\n    tooltip_table: `Tabell`,\n    down_for_maintenance,\n    my_posts,\n};\nexport const preferences = {\n    _: {\n        NO_LABEL: ``,\n        shortcut_label: `BSC`,\n        title: `Instllningar fr Better SweClockers`,\n        back_to_sweclockers: `Tillbaka till ${SITE.NAME}`,\n        save_notice: `Instllningarna sparas automatiskt, men endast lokalt p den hr enheten.`,\n        failed_to_fetch_categories: `Kunde inte hmta forumkategorier.`,\n        in_quick_reply_form: `i formulret <em>Snabbsvar</em>`,\n        in_quick_reply_form_description: `Lngst ner i trdar`,\n    },\n    general: {\n        label: `Allmnt`,\n        lock_heights: `Ls hjden p reklam etc`,\n        lock_heights_description: `Frhindrar att sidans innehll hoppar nr t ex reklam laddas in`,\n        improved_corrections: `Bttre rttelsegrnssnitt`,\n        improved_corrections_description: `Gr det enklare att skicka in rttelser`,\n        insert_preferences_shortcut: `Genvg till instllningar fr ${CONFIG.USERSCRIPT_NAME}`,\n        insert_preferences_shortcut_description: `Visa en lnk till ${CONFIG.USERSCRIPT_NAME} instllningsmeny hgst upp`,\n        replace_followed_threads_link: `Erstt lnken <em>Fljda trdar</em> med <em>${my_posts}</em>`,\n        replace_followed_threads_link_description: OBVIOUS,\n        remember_location_in_market: `Kom ihg min plats i marknaden`,\n        remember_location_in_market_description: `Slipp fylla i ln och stad varje gng du skapar en annons`,\n    },\n    forum_threads: {\n        label: `Forumtrdar`,\n        improved_pagination_buttons: `Bttre blddringsknappar`,\n        improved_pagination_buttons_description: `Strre knappar som r lttare att klicka p`,\n        insert_link_to_top: `Lnk till toppen lngst ner`,\n        insert_link_to_top_description: OBVIOUS,\n        highlight_own_posts: `Framhv egna inlgg extra tydligt`,\n        highlight_own_posts_description: `Gr den orangea kanten p egna inlgg tjockare`,\n        insert_pm_links: `PM-knappar`,\n        insert_pm_links_description: `Skicka PM till en anvndare direkt frn deras inlgg`,\n        mention_everyone_button: `<em>${mention_everyone_label}</em>-knapp`,\n        mention_everyone_button_description: `Nmn alla trddeltagare p den aktuella sidan (framfrallt anvndbart i annonskommentarer)`,\n        quote_signature_buttons: `<em>Citera med signatur</em>-knappar`,\n        quote_signature_buttons_description: `Citera ett inlgg inklusive dess signatur`,\n        quote_signature_message: `Meddelande vid citering med signatur`,\n        quote_signature_message_description: `Fylls i automatiskt nr du citerar med signatur`,\n        quote_signature_message_default: `Nu bestr trdens vrde ven nr du byter signatur.`,\n    },\n    edit_mode: {\n        label: `Redigeringslge`,\n        draft_mode_toggle: `Kryssrutan <em>${draft_mode_toggle_label}</em>`,\n        draft_mode_toggle_description: draft_mode_description,\n        textarea_size_save: `Kom ihg textrutans storlek`,\n        textarea_size_save_description: `Behll samma storlek p textrutan mellan sidladdningar`,\n        textarea_size_toggle: `Knappar fr att vxla storlek p textrutan`,\n        textarea_size_toggle_description: `Toggla textrutans storlek precis ovanfr den`,\n        textarea_size_small: `mellan`,\n        textarea_size_large: `och`,\n        textarea_size_unit: `px`,\n        monospace_font: `<span style=\"font-family: monospace\">Monospace</span>-font i textrutan`,\n        monospace_font_description: `Underlttar formatering av kod och dylikt`,\n        keyboard_shortcuts: `Kortkommandon fr att skicka (<kbd>Ctrl</kbd> + <kbd>S</kbd>), frhandsgranska (<kbd>Ctrl</kbd> + <kbd>P</kbd>) och lnka (<kbd>Ctrl</kbd> + <kbd>K</kbd>)`,\n        keyboard_shortcuts_description: `Skicka, frhandsgranska och lnka med tangentbordet`,\n        insert_tab: `Tab-tangenten infogar`,\n        insert_tab_description: `Anvnd Tab-tangenten i textrutan`,\n        insert_tab_spaces: (n) => `${n} blanksteg`,\n        insert_tab_tab: `tabbtecken`,\n        improved_builtin_editing_tools: `Frbttrade inbyggda redigeringsverktyg`,\n        improved_builtin_editing_tools_description: `Mer intuitiv funktionalitet och ngra-std (i webblsare som stder det)`,\n        insert_heading_toolbar_button: `Knapp fr att formatera som rubrik`,\n        insert_heading_toolbar_button_description: `Knappen infogar BB-taggen ${BB.start(SITE.TAG.h)}`,\n        insert_table_toolbar_button: `Knapp fr att infoga tabell`,\n        insert_table_toolbar_button_description: `Knappen infogar en komplett tabell`,\n        remember_caret_position: `Kom ihg markrens position vid frhandsgranskning`,\n        remember_caret_position_description: `Fortstt skriva precis dr du var nr du frhandsgranskat ett inlgg`,\n        remove_mobile_site_disclaimer: `Ta bort <small><em>${SITE.MOBILE_SITE_DISCLAIMER.sentFrom} ${SITE.MOBILE_SITE_DISCLAIMER.mobileSiteDomain}</em></small>`,\n        remove_mobile_site_disclaimer_description: `Ta automatiskt bort ${SITE.MOBILE_SITE_DISCLAIMER.mobileSiteDomain}-disclaimern frn citat`,\n    },\n    editing_tools: {\n        label: `Utkade formateringsverktyg`,\n        enable: `Aktivera utkade formateringsverktyg`,\n        enable_description: `En hel samling extra formateringsverktyg fr att underltta inlggsskrivandet`,\n        position: {\n            label: `Placering`,\n            description: OBVIOUS,\n            above: `Ovanfr textfltet`,\n            below: `Under textfltet`,\n        },\n        special_characters: `Verktyg fr specialtecken`,\n        meta: `Verktyg fr tillagd och borttagen text`,\n        code: `Kodrelaterade verktyg`,\n        math: `Matematikrelaterade verktyg`,\n        whitespace: `Whitespaceverktyg`,\n        definitions: `Verktyg fr definitioner`,\n        embed: `Verktyg fr lnkar, bilder och skresultat`,\n        search_engine: {\n            label: `Skmotor`,\n            description: `Vilken skmotor som ska anvndas fr lnkar till skresultat`,\n        },\n        doge: `very doge buttons`,\n        doge_description: `            wow`,\n        color_palette: `Frgpaletten`,\n        color_palette_description: `ndra textfrg snabbt och enkelt`,\n        smileys: `Smileys`,\n    },\n    customize_content: {\n        label: `Anpassa innehll`,\n        carousel: `Bildspelsvyn hgst upp`,\n        social_media: `Knappar fr sociala medier`,\n        guides: `Guider`,\n        popular_galleries: `Bubblare i Galleriet`,\n        new_in_forum_side: `Nytt i forumet (till hger)`,\n        new_in_market: `Senaste privatannonserna`,\n        new_in_test_lab: `Nytt i testlabbet`,\n        in_the_store: `Just nu i butiken`,\n        popular_at_prisjakt: `Populrast p Prisjakt`,\n        new_tech_jobs: `Nya teknikjobb`,\n        external_news: `Externa nyheter`,\n        more_articles: `Fler artiklar (under varje artikel)`,\n        latest_news: `Senaste nyheterna (lngst ner)`,\n        new_in_forum_main: `Nytt i forumet (lngst ner)`,\n        footer: `Sidfot`,\n    },\n    advanced: {\n        label: `Avancerat`,\n        prevent_accidental_signout: `Frga vid utloggning`,\n        prevent_accidental_signout_description: `Undvik att logga ut av misstag`,\n        prevent_accidental_unload: `Frga vid navigering frn redigeringslge`,\n        prevent_accidental_unload_description: `Vrdefullt om du rkar klicka p fel lnk mitt i ett inlgg`,\n        improved_image_controls: `Bttre zoom- och lnkikoner i bilder`,\n        improved_image_controls_description: `Visa ikoner framfr bilder endast nr du hovrar ver dem`,\n        disable_scroll_restoration: `Frhindra webblsaren frn att komma ihg scrollning`,\n        disable_scroll_restoration_description: `Kan vara praktiskt fr tangentbordssurfare`,\n        down_for_maintenance: `${down_for_maintenance} varje natt mellan 4:30 och 5:10`,\n        down_for_maintenance_description: `Never forget!`,\n        proofread_articles: {\n            label: `Markera mjliga fel i artiklar`,\n            description: `Exempelvis hrda mellanslag och tankstreck`,\n            always: `Alltid`,\n            corrections: `I rttelsegrnssnittet`,\n            never: `Aldrig`,\n        },\n        proofread_forum_posts: `Markera mjliga fel i foruminlgg (i redigeringslge)`,\n        proofread_forum_posts_description: `Samma som ovan, fast i forumet`,\n        undo_support: (browser.supportsUndo, {\n            label: `Nr ett verktyg infogar text`,\n            description: `Om din webblsare inte lter dig ngra tgrder utfrda med redigeringsverktygen kan ${CONFIG.USERSCRIPT_NAME} skydda markerad text mot oavsiktlig radering om du rkar trycka p fel knapp`,\n            replace_selected: `Erstt markerad text  rekommenderas i alla webblsare med fullgott ngra-std`,\n            keep_selected: `Behll markerad text  rekommenderas i <a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=1220696\">Firefox/Gecko</a> samt p Android`,\n        }),\n        developer_mode: `Utvecklarlge`,\n        developer_mode_description: `Visa fel och varningar lngst ner p skrmen`,\n        custom_css_enable: `Infoga egen CSS:`,\n        custom_css_enable_description: `Anpassa layout och utseende precis som du vill`,\n        custom_css_warning: `Klistra aldrig in kod som du inte litar p!`,\n    },\n    keyboard: `Kortkommandon`,\n    interests: {\n        label: `Intressen`,\n    },\n};\nexport const editing_tools = {\n    size_label: `<big>A</big><small>A</small>`,\n    size_tooltip: `Textstorlek`,\n    color_tooltip: `Textfrg`,\n    font_tooltip: `Typsnitt`,\n    mark_label: `<mark>mark</mark>`,\n    mark_tooltip: `Markerad/framhvd text`,\n    abbr_label: SITE.TAG.abbr,\n    abbr_tooltip: `Frkortning`,\n    quote_tooltip: `Forumcitat`,\n    bq_label: `bq`,\n    bq_tooltip: `Allmnt blockcitat`,\n    spoiler_tooltip: `Spoilers`,\n    expander_tooltip: `Lnga textstycken`,\n    noparse_tooltip: `Inaktivera BB-kod i en viss del av texten`,\n    pre_tooltip: `Visa indrag och mellanrum som de r`,\n    cmd_tooltip: `Inlinekod`,\n    code_tooltip: `Kodstycke`,\n    math_label: `<big><i>x</i></big>`,\n    math_tooltip: `Matematiska formler och uttryck`,\n    sub_label: `<span></span><sub><i>x</i></sub>`,\n    sub_tooltip: `Nedsnkt text`,\n    sup_label: `<span></span><sup><i>x</i></sup>`,\n    sup_tooltip: `Upphjd text`,\n    nbsps_label: ``,\n    nbsps_tooltip: `Erstt alla mellanslag med hrda mellanslag i markerad text`,\n    url_tooltip: `Klickbar lnk`,\n    img_tooltip: `Bdda in bilder`,\n    search_link_tooltip: `Lnka till en skning p markerad text`,\n    shibe_label: `shibe`,\n    shibe_tooltip: `wow`,\n    doge_label: `doge`,\n    doge_tooltip: `pls click`,\n    split_quote_tooltip: `Splitta ett citat mitt i`,\n    edit_label: `Edit`,\n    edit_tooltip: `Infoga en redigeringsnotis`,\n    ins_label: `<ins class=\"${SITE.CLASS.bbIns}\">${SITE.TAG.ins}</ins>`,\n    ins_tooltip: `Tillagd text`,\n    del_label: `<del class=\"${SITE.CLASS.bbDel}\">${SITE.TAG.del}</del>`,\n    del_tooltip: `Borttagen text`,\n    dl_label: SITE.TAG.dl,\n    dl_tooltip: `Definitionslista`,\n    dt_label: SITE.TAG.dt,\n    dt_tooltip: `Term att definiera/beskriva (mste ligga inuti en ${BB.start(SITE.TAG.dl)})`,\n    dd_label: SITE.TAG.dd,\n    dd_tooltip: `Termens definition/beskrivning (mste ligga inuti en ${BB.start(SITE.TAG.dl)} och efter en ${BB.start(SITE.TAG.dt)})`,\n};\nexport const special_characters = [\n    { insert: \"\\u2011\", tooltip: \"Hrt bindestreck (tillter ej radbrytning)\" },\n    { insert: \"\", tooltip: \"Kort tankstreck (talstreck; intervall)\" },\n    { insert: \"\", tooltip: \"Lngt tankstreck\" },\n    { insert: \"\", tooltip: \"Uteslutningstecken (Ellipsis)\" },\n    { insert: \"\", tooltip: \"Ungefr lika med\" },\n    { insert: \"\", tooltip: \"Minustecken\" },\n    { insert: \"\", tooltip: \"Multiplikationstecken\" },\n    { insert: \"\", tooltip: \"Halvhg punkt (multiplikationstecken)\" },\n    { insert: \"\", tooltip: \"Gradtecken\" },\n    { insert: \"\\u202FC\", tooltip: \"Grader celsius (inkl. hrt blanksteg)\" },\n    { insert: CONFIG.NBSP, label: \"NBSP\", tooltip: \"Hrt blanksteg (tillter ej radbrytning)\" },\n    { insert: \"\\u202F\", label: \"NNBSP\", tooltip: \"Smalt hrt blanksteg (tillter ej radbrytning, anvnds som enhets- och tusentalsseparator)\" },\n    { insert: \"\", tooltip: \"Upphjd tva\" },\n    { insert: \"\", tooltip: \"Primtecken (fot; minuter)\" },\n    { insert: \"\", tooltip: \"Dubbelprimtecken (tum; sekunder)\" },\n    { insert: \"\", tooltip: \"Bock\" },\n    { insert: \"\", tooltip: \"Hgerpil\" },\n    { insert: \"\", tooltip: \"Varumrke (trademark)\" },\n];\nexport const developer_mode = {\n    nothing_logged: `Nothing has been logged.`,\n    tooltip: {\n        error: (n) => `${n} fel`,\n        warning: (n) => `${n} varning${n === 1 ? \"\" : \"ar\"}`,\n    },\n};\n","import { Preference } from \"./Preference\";\r\nexport class BooleanPreference extends Preference {\r\n    getClassName() { return \"BooleanPreference\"; }\r\n}\r\n//# sourceMappingURL=BooleanPreference.js.map","import { isString } from \"ts-type-guards\";\r\nimport { stringify } from \"../Utilities\";\r\nimport { Preference, prependConstraints, } from \"./Preference\";\r\nexport class MultichoicePreference extends Preference {\r\n    constructor(data) {\r\n        const options = data.options;\r\n        const CONSTRAINTS = [\r\n            {\r\n                requirement: v => options.some(o => o.value === v),\r\n                message: v => `${stringify(v)} is not among the available options.`,\r\n            },\r\n        ];\r\n        prependConstraints(CONSTRAINTS, data);\r\n        super(data);\r\n        if (options.length < 2) {\r\n            throw new Error(`Parameter 'options' has less than two elements in ${this}.`);\r\n        }\r\n        const seenOptionValues = [];\r\n        options.forEach(option => {\r\n            const validationResult = this.validate(option.value);\r\n            if (isString(validationResult)) {\r\n                throw new Error(`Option value ${stringify(option.value)} in ${this} is invalid. Reason: ${validationResult}`);\r\n            }\r\n            if (seenOptionValues.indexOf(option.value) > -1) {\r\n                throw new Error(`Multiple options with value ${stringify(option.value)} in ${this}.`);\r\n            }\r\n            seenOptionValues.push(option.value);\r\n        });\r\n        this.options = options;\r\n    }\r\n    getClassName() { return \"MultichoicePreference\"; }\r\n    toValid(value) {\r\n        return this.default;\r\n    }\r\n}\r\n//# sourceMappingURL=MultichoicePreference.js.map","import { fromMaybe } from \"../Utilities\";\r\nimport { Preference, prependConstraints, } from \"./Preference\";\r\nexport class StringPreference extends Preference {\r\n    constructor(data) {\r\n        const minLength = fromMaybe(0, data.minLength);\r\n        const maxLength = fromMaybe(Infinity, data.maxLength);\r\n        const CONSTRAINTS = [];\r\n        if (!data.multiline) {\r\n            CONSTRAINTS.push({\r\n                requirement: v => !v.includes(\"\\n\"),\r\n                message: v => `Line breaks are not allowed.`,\r\n            });\r\n        }\r\n        if (minLength > 0) {\r\n            CONSTRAINTS.push({\r\n                requirement: v => v.length >= minLength,\r\n                message: v => `Minimum length is ${minLength} characters.`,\r\n            });\r\n        }\r\n        if (maxLength < Infinity) {\r\n            CONSTRAINTS.push({\r\n                requirement: v => v.length <= maxLength,\r\n                message: v => `Maximum length ${maxLength} exceeded.`,\r\n            });\r\n        }\r\n        prependConstraints(CONSTRAINTS, data);\r\n        super(data);\r\n        if (minLength < 0) {\r\n            throw new Error(`Parameter 'minLength' cannot be negative, but it was ${minLength} in ${this}.`);\r\n        }\r\n        this.multiline = data.multiline;\r\n        this.maxLength = maxLength;\r\n        this.minLength = minLength;\r\n    }\r\n    getClassName() { return \"StringPreference\"; }\r\n    toValid(s) {\r\n        const truncated = s.substring(0, this.maxLength);\r\n        return super.toValid(this.multiline\r\n            ? truncated\r\n            : truncated.replace(StringPreference.REGEX_LINE_BREAKS, \" \"));\r\n    }\r\n    fromString(s) {\r\n        return this.validate(s);\r\n    }\r\n}\r\nStringPreference.REGEX_LINE_BREAKS = /\\n+/g;\r\n//# sourceMappingURL=StringPreference.js.map","import { BooleanPreference, MultichoicePreference, StringPreference, } from \"ts-preferences\";\nimport * as browser from \"~src/browser\";\nimport * as CONFIG from \"~src/config\";\nimport * as T from \"~src/text\";\nconst custom_css_enable = new BooleanPreference({\n    key: \"custom_css_enable\",\n    default: false,\n    label: T.preferences.advanced.custom_css_enable,\n    description: T.preferences.advanced.custom_css_enable_description,\n});\nexport default {\n    prevent_accidental_signout: new BooleanPreference({\n        key: \"prevent_accidental_signout\",\n        default: true,\n        label: T.preferences.advanced.prevent_accidental_signout,\n        description: T.preferences.advanced.prevent_accidental_signout_description,\n    }),\n    prevent_accidental_unload: new BooleanPreference({\n        key: \"prevent_accidental_unload\",\n        default: true,\n        label: T.preferences.advanced.prevent_accidental_unload,\n        description: T.preferences.advanced.prevent_accidental_unload_description,\n    }),\n    improved_image_controls: new BooleanPreference({\n        key: \"improved_image_controls\",\n        default: true,\n        label: T.preferences.advanced.improved_image_controls,\n        description: T.preferences.advanced.improved_image_controls_description,\n    }),\n    disable_scroll_restoration: new BooleanPreference({\n        key: \"disable_scroll_restoration\",\n        default: false,\n        label: T.preferences.advanced.disable_scroll_restoration,\n        description: T.preferences.advanced.disable_scroll_restoration_description,\n    }),\n    down_for_maintenance: new BooleanPreference({\n        key: \"down_for_maintenance\",\n        default: false,\n        label: T.preferences.advanced.down_for_maintenance,\n        description: T.preferences.advanced.down_for_maintenance_description,\n    }),\n    proofread_articles: new MultichoicePreference({\n        key: \"proofread_articles\",\n        default: 2 /* NEVER */,\n        label: T.preferences.advanced.proofread_articles.label,\n        description: T.preferences.advanced.proofread_articles.description,\n        options: [\n            {\n                value: 0 /* ALWAYS */,\n                label: T.preferences.advanced.proofread_articles.always,\n            },\n            {\n                value: 1 /* CORRECTIONS */,\n                label: T.preferences.advanced.proofread_articles.corrections,\n            },\n            {\n                value: 2 /* NEVER */,\n                label: T.preferences.advanced.proofread_articles.never,\n            },\n        ],\n    }),\n    proofread_forum_posts: new BooleanPreference({\n        key: \"proofread_forum_posts\",\n        default: false,\n        label: T.preferences.advanced.proofread_forum_posts,\n        description: T.preferences.advanced.proofread_forum_posts_description,\n    }),\n    undo_support: new MultichoicePreference({\n        // Could have been a BooleanPreference, but it was hard to come up with an understandable label and description then.\n        key: \"undo_support\",\n        default: browser.supportsUndo(navigator.userAgent),\n        label: T.preferences.advanced.undo_support.label,\n        description: T.preferences.advanced.undo_support.description,\n        options: [\n            {\n                value: true,\n                label: T.preferences.advanced.undo_support.replace_selected,\n            },\n            {\n                value: false,\n                label: T.preferences.advanced.undo_support.keep_selected,\n            },\n        ],\n    }),\n    developer_mode: new BooleanPreference({\n        key: \"developer_mode\",\n        default: false,\n        label: T.preferences.advanced.developer_mode,\n        description: T.preferences.advanced.developer_mode_description,\n    }),\n    custom_css_enable,\n    custom_css_code: new StringPreference({\n        key: \"custom_css_code\",\n        default: \"\",\n        label: T.preferences._.NO_LABEL,\n        description: T.preferences.advanced.custom_css_enable_description,\n        multiline: true,\n        extras: { class: CONFIG.CLASS.codeInput },\n        dependencies: [\n            {\n                preference: custom_css_enable,\n                condition: (v) => v,\n            },\n        ],\n    }),\n};\n","import { BooleanPreference, } from \"ts-preferences\";\nimport * as T from \"~src/text\";\nexport default {\n    carousel: new BooleanPreference({\n        key: \"customize_content_carousel\",\n        default: true,\n        label: T.preferences.customize_content.carousel,\n    }),\n    social_media: new BooleanPreference({\n        key: \"customize_content_social_media\",\n        default: true,\n        label: T.preferences.customize_content.social_media,\n    }),\n    guides: new BooleanPreference({\n        key: \"customize_content_guides\",\n        default: true,\n        label: T.preferences.customize_content.guides,\n    }),\n    popular_galleries: new BooleanPreference({\n        key: \"customize_content_popular_galleries\",\n        default: true,\n        label: T.preferences.customize_content.popular_galleries,\n    }),\n    new_in_forum_side: new BooleanPreference({\n        key: \"customize_content_new_in_forum_side\",\n        default: true,\n        label: T.preferences.customize_content.new_in_forum_side,\n    }),\n    new_in_market: new BooleanPreference({\n        key: \"customize_content_new_in_market\",\n        default: true,\n        label: T.preferences.customize_content.new_in_market,\n    }),\n    new_in_test_lab: new BooleanPreference({\n        key: \"customize_content_new_in_test_lab\",\n        default: true,\n        label: T.preferences.customize_content.new_in_test_lab,\n    }),\n    in_the_store: new BooleanPreference({\n        key: \"customize_content_in_the_store\",\n        default: true,\n        label: T.preferences.customize_content.in_the_store,\n    }),\n    popular_at_prisjakt: new BooleanPreference({\n        key: \"customize_content_popular_at_prisjakt\",\n        default: true,\n        label: T.preferences.customize_content.popular_at_prisjakt,\n    }),\n    new_tech_jobs: new BooleanPreference({\n        key: \"customize_content_new_tech_jobs\",\n        default: true,\n        label: T.preferences.customize_content.new_tech_jobs,\n    }),\n    external_news: new BooleanPreference({\n        key: \"customize_content_external_news\",\n        default: true,\n        label: T.preferences.customize_content.external_news,\n    }),\n    more_articles: new BooleanPreference({\n        key: \"customize_content_more_articles\",\n        default: true,\n        label: T.preferences.customize_content.more_articles,\n    }),\n    latest_news: new BooleanPreference({\n        key: \"customize_content_latest_news\",\n        default: true,\n        label: T.preferences.customize_content.latest_news,\n    }),\n    new_in_forum_main: new BooleanPreference({\n        key: \"customize_content_new_in_forum_main\",\n        default: true,\n        label: T.preferences.customize_content.new_in_forum_main,\n    }),\n    footer: new BooleanPreference({\n        key: \"customize_content_footer\",\n        default: true,\n        label: T.preferences.customize_content.footer,\n    }),\n};\n","import { isString } from \"ts-type-guards\";\r\nimport { Preference, prependConstraints, } from \"./Preference\";\r\nexport class NumericPreference extends Preference {\r\n    static postParse(p, parsed) {\r\n        return (isString(parsed)\r\n            ? parsed\r\n            : p.validate(parsed.value));\r\n    }\r\n    constructor(data) {\r\n        const CONSTRAINTS = [\r\n            {\r\n                requirement: Number.isFinite,\r\n                message: v => `${v} is not a finite number.`,\r\n            },\r\n        ];\r\n        prependConstraints(CONSTRAINTS, data);\r\n        super(data);\r\n    }\r\n}\r\n//# sourceMappingURL=NumericPreference.js.map","import { NumericPreference } from \"./NumericPreference\";\r\nimport { prependConstraints } from \"./Preference\";\r\nexport class IntegerPreference extends NumericPreference {\r\n    constructor(data) {\r\n        const CONSTRAINTS = [\r\n            IntegerPreference.CONSTRAINT_INTEGER,\r\n        ];\r\n        prependConstraints(CONSTRAINTS, data);\r\n        super(data);\r\n    }\r\n    getClassName() { return \"IntegerPreference\"; }\r\n    static parse(s) {\r\n        const parsed = parseInt(s, 10);\r\n        return (Number.isNaN(parsed)\r\n            ? `\"${s}\" is not an integer.`\r\n            : { value: parsed });\r\n    }\r\n    toValid(value) {\r\n        return super.toValid(Math.round(value));\r\n    }\r\n    fromString(s) {\r\n        return NumericPreference.postParse(this, IntegerPreference.parse(s));\r\n    }\r\n}\r\nIntegerPreference.CONSTRAINT_INTEGER = {\r\n    requirement: Number.isInteger,\r\n    message: v => `${v} is not an integer.`,\r\n};\r\n//# sourceMappingURL=IntegerPreference.js.map","import { NumericPreference } from \"./NumericPreference\";\r\nimport { prependConstraints, } from \"./Preference\";\r\nexport class RangePreference extends NumericPreference {\r\n    constructor(data) {\r\n        const min = data.min;\r\n        const max = data.max;\r\n        const CONSTRAINTS = [\r\n            {\r\n                requirement: v => v >= min,\r\n                message: v => `${v} is smaller than minimum value ${min}.`,\r\n            },\r\n            {\r\n                requirement: v => v <= max,\r\n                message: v => `${v} is greater than maximum value ${max}.`,\r\n            },\r\n        ];\r\n        prependConstraints(CONSTRAINTS, data);\r\n        super(data);\r\n        if (!(Number.isFinite(min) && Number.isFinite(max))) {\r\n            throw new Error(`Parameters 'min' and 'max' must be finite numbers, but they were ${min} and ${max} in ${this}.`);\r\n        }\r\n        if (min > max) {\r\n            throw new Error(`Parameter 'min' cannot be greater than parameter 'max', but they were ${min} and ${max} in ${this}.`);\r\n        }\r\n        this.min = min;\r\n        this.max = max;\r\n    }\r\n    toValid(value) {\r\n        return super.toValid(Math.max(this.min, Math.min(this.max, value)));\r\n    }\r\n}\r\n//# sourceMappingURL=RangePreference.js.map","import { IntegerPreference } from \"./IntegerPreference\";\r\nimport { NumericPreference } from \"./NumericPreference\";\r\nimport { prependConstraints } from \"./Preference\";\r\nimport { RangePreference } from \"./RangePreference\";\r\nexport class IntegerRangePreference extends RangePreference {\r\n    getClassName() { return \"IntegerRangePreference\"; }\r\n    constructor(data) {\r\n        const CONSTRAINTS = [\r\n            IntegerPreference.CONSTRAINT_INTEGER,\r\n        ];\r\n        prependConstraints(CONSTRAINTS, data);\r\n        super(data);\r\n        if (!Number.isInteger(data.min) || !Number.isInteger(data.max)) {\r\n            throw new TypeError(`Parameters 'min' and 'max' must be integers, but they were ${data.min} and ${data.max} in ${this}.`);\r\n        }\r\n    }\r\n    toValid(value) {\r\n        return super.toValid(Math.round(value));\r\n    }\r\n    fromString(s) {\r\n        return NumericPreference.postParse(this, IntegerPreference.parse(s));\r\n    }\r\n}\r\n//# sourceMappingURL=IntegerRangePreference.js.map","import { BooleanPreference, IntegerRangePreference, MultichoicePreference, } from \"ts-preferences\";\nimport * as CONFIG from \"~src/config\";\nimport * as T from \"~src/text\";\nconst textarea_size_toggle = new BooleanPreference({\n    key: \"textarea_size_toggle\",\n    default: true,\n    label: T.preferences.edit_mode.textarea_size_toggle,\n    description: T.preferences.edit_mode.textarea_size_toggle_description,\n    extras: { class: [CONFIG.CLASS.inlinePreference, CONFIG.CLASS.primaryInlinePreference] },\n});\nconst dependencies_textarea_size_toggle = [\n    {\n        preference: textarea_size_toggle,\n        condition: (v) => v,\n    },\n];\nconst DEFAULT_TEXTAREA_SIZE = 360;\nconst SPACE = \" \", TAB = \"\\t\";\nexport default {\n    draft_mode_toggle: new BooleanPreference({\n        key: \"draft_mode_toggle\",\n        default: true,\n        label: T.preferences.edit_mode.draft_mode_toggle,\n        description: T.preferences.edit_mode.draft_mode_toggle_description,\n    }),\n    textarea_size: new IntegerRangePreference({\n        key: \"textarea_size\",\n        default: DEFAULT_TEXTAREA_SIZE,\n        min: 0, max: Number.MAX_VALUE,\n        label: T.preferences._.NO_LABEL,\n        extras: { implicit: true },\n    }),\n    textarea_size_toggle,\n    textarea_size_small: new IntegerRangePreference({\n        key: \"textarea_size_small\",\n        default: 250,\n        min: 50, max: 2000,\n        label: T.preferences.edit_mode.textarea_size_small,\n        description: T.preferences.edit_mode.textarea_size_toggle_description,\n        dependencies: dependencies_textarea_size_toggle,\n        extras: { class: CONFIG.CLASS.inlinePreference },\n    }),\n    textarea_size_large: new IntegerRangePreference({\n        key: \"textarea_size_large\",\n        default: 750,\n        min: 50, max: 2000,\n        label: T.preferences.edit_mode.textarea_size_large,\n        description: T.preferences.edit_mode.textarea_size_toggle_description,\n        dependencies: dependencies_textarea_size_toggle,\n        extras: { class: CONFIG.CLASS.inlinePreference, suffix: T.preferences.edit_mode.textarea_size_unit },\n    }),\n    monospace_font: new BooleanPreference({\n        key: \"monospace_font\",\n        default: false,\n        label: T.preferences.edit_mode.monospace_font,\n        description: T.preferences.edit_mode.monospace_font_description,\n        extras: { class: [CONFIG.CLASS.inlinePreference, CONFIG.CLASS.primaryInlinePreference] },\n    }),\n    monospace_font_in_quick_reply_form: new BooleanPreference({\n        key: \"monospace_font_in_quick_reply_form\",\n        default: false,\n        label: T.preferences._.in_quick_reply_form,\n        description: T.preferences._.in_quick_reply_form_description,\n        extras: { class: CONFIG.CLASS.inlinePreference },\n    }),\n    improved_builtin_editing_tools: new BooleanPreference({\n        key: \"improved_builtin_editing_tools\",\n        default: true,\n        label: T.preferences.edit_mode.improved_builtin_editing_tools,\n        description: T.preferences.edit_mode.improved_builtin_editing_tools_description,\n    }),\n    insert_heading_toolbar_button: new BooleanPreference({\n        key: \"insert_heading_toolbar_button\",\n        default: true,\n        label: T.preferences.edit_mode.insert_heading_toolbar_button,\n        description: T.preferences.edit_mode.insert_heading_toolbar_button_description,\n    }),\n    insert_table_toolbar_button: new BooleanPreference({\n        key: \"insert_table_toolbar_button\",\n        default: true,\n        label: T.preferences.edit_mode.insert_table_toolbar_button,\n        description: T.preferences.edit_mode.insert_table_toolbar_button_description,\n    }),\n    keyboard_shortcuts: new BooleanPreference({\n        key: \"keyboard_shortcuts\",\n        default: false,\n        label: T.preferences.edit_mode.keyboard_shortcuts,\n        description: T.preferences.edit_mode.keyboard_shortcuts_description,\n        extras: { class: [CONFIG.CLASS.inlinePreference, CONFIG.CLASS.primaryInlinePreference] },\n    }),\n    keyboard_shortcuts_in_quick_reply: new BooleanPreference({\n        key: \"keyboard_shortcuts_in_quick_reply\",\n        default: false,\n        label: T.preferences._.in_quick_reply_form,\n        description: T.preferences._.in_quick_reply_form_description,\n        extras: { class: CONFIG.CLASS.inlinePreference },\n    }),\n    insert_tab: new BooleanPreference({\n        key: \"insert_tab\",\n        default: true,\n        label: T.preferences.edit_mode.insert_tab,\n        description: T.preferences.edit_mode.insert_tab_description,\n        extras: { class: [CONFIG.CLASS.inlinePreference, CONFIG.CLASS.primaryInlinePreference] },\n    }),\n    insert_tab_content: new MultichoicePreference({\n        key: \"insert_tab_content\",\n        default: TAB,\n        label: T.preferences._.NO_LABEL,\n        options: [\n            {\n                value: TAB,\n                label: T.preferences.edit_mode.insert_tab_tab,\n            },\n        ].concat([2, 3, 4].map(n => ({\n            value: SPACE.repeat(n),\n            label: T.preferences.edit_mode.insert_tab_spaces(n),\n        }))),\n        extras: { class: [CONFIG.CLASS.inlinePreference] },\n    }),\n    remember_caret_position: new BooleanPreference({\n        key: \"remember_caret_position\",\n        default: true,\n        label: T.preferences.edit_mode.remember_caret_position,\n        description: T.preferences.edit_mode.remember_caret_position_description,\n    }),\n    remove_mobile_site_disclaimer: new BooleanPreference({\n        key: \"remove_mobile_site_disclaimer\",\n        default: true,\n        label: T.preferences.edit_mode.remove_mobile_site_disclaimer,\n        description: T.preferences.edit_mode.remove_mobile_site_disclaimer_description,\n    }),\n};\n","var n,l,u,i,t,o,r,f={},e=[],c=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function s(n,l){for(var u in l)n[u]=l[u];return n}function a(n){var l=n.parentNode;l&&l.removeChild(n)}function v(n,l,u){var i,t,o,r=arguments,f={};for(o in l)\"key\"==o?i=l[o]:\"ref\"==o?t=l[o]:f[o]=l[o];if(arguments.length>3)for(u=[u],o=3;o<arguments.length;o++)u.push(r[o]);if(null!=u&&(f.children=u),\"function\"==typeof n&&null!=n.defaultProps)for(o in n.defaultProps)void 0===f[o]&&(f[o]=n.defaultProps[o]);return h(n,f,i,t,null)}function h(l,u,i,t,o){var r={type:l,props:u,key:i,ref:t,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==o?++n.__v:o};return null!=n.vnode&&n.vnode(r),r}function y(){return{current:null}}function p(n){return n.children}function d(n,l){this.props=n,this.context=l}function _(n,l){if(null==l)return n.__?_(n.__,n.__.__k.indexOf(n)+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?_(n):null}function w(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return w(n)}}function k(l){(!l.__d&&(l.__d=!0)&&u.push(l)&&!g.__r++||t!==n.debounceRendering)&&((t=n.debounceRendering)||i)(g)}function g(){for(var n;g.__r=u.length;)n=u.sort(function(n,l){return n.__v.__b-l.__v.__b}),u=[],n.some(function(n){var l,u,i,t,o,r,f;n.__d&&(r=(o=(l=n).__v).__e,(f=l.__P)&&(u=[],(i=s({},o)).__v=o.__v+1,t=$(f,o,i,l.__n,void 0!==f.ownerSVGElement,null!=o.__h?[r]:null,u,null==r?_(o):r,o.__h),j(u,o),t!=r&&w(o)))})}function m(n,l,u,i,t,o,r,c,s,v){var y,d,w,k,g,m,b,A=i&&i.__k||e,P=A.length;for(s==f&&(s=null!=r?r[0]:P?_(i,0):null),u.__k=[],y=0;y<l.length;y++)if(null!=(k=u.__k[y]=null==(k=l[y])||\"boolean\"==typeof k?null:\"string\"==typeof k||\"number\"==typeof k?h(null,k,null,null,k):Array.isArray(k)?h(p,{children:k},null,null,null):null!=k.__e||null!=k.__c?h(k.type,k.props,k.key,null,k.__v):k)){if(k.__=u,k.__b=u.__b+1,null===(w=A[y])||w&&k.key==w.key&&k.type===w.type)A[y]=void 0;else for(d=0;d<P;d++){if((w=A[d])&&k.key==w.key&&k.type===w.type){A[d]=void 0;break}w=null}g=$(n,k,w=w||f,t,o,r,c,s,v),(d=k.ref)&&w.ref!=d&&(b||(b=[]),w.ref&&b.push(w.ref,null,k),b.push(d,k.__c||g,k)),null!=g?(null==m&&(m=g),s=x(n,k,w,A,r,g,s),v||\"option\"!=u.type?\"function\"==typeof u.type&&(u.__d=s):n.value=\"\"):s&&w.__e==s&&s.parentNode!=n&&(s=_(w))}if(u.__e=m,null!=r&&\"function\"!=typeof u.type)for(y=r.length;y--;)null!=r[y]&&a(r[y]);for(y=P;y--;)null!=A[y]&&L(A[y],A[y]);if(b)for(y=0;y<b.length;y++)I(b[y],b[++y],b[++y])}function b(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(Array.isArray(n)?n.some(function(n){b(n,l)}):l.push(n)),l}function x(n,l,u,i,t,o,r){var f,e,c;if(void 0!==l.__d)f=l.__d,l.__d=void 0;else if(t==u||o!=r||null==o.parentNode)n:if(null==r||r.parentNode!==n)n.appendChild(o),f=null;else{for(e=r,c=0;(e=e.nextSibling)&&c<i.length;c+=2)if(e==o)break n;n.insertBefore(o,r),f=r}return void 0!==f?f:o.nextSibling}function A(n,l,u,i,t){var o;for(o in u)\"children\"===o||\"key\"===o||o in l||C(n,o,null,u[o],i);for(o in l)t&&\"function\"!=typeof l[o]||\"children\"===o||\"key\"===o||\"value\"===o||\"checked\"===o||u[o]===l[o]||C(n,o,l[o],u[o],i)}function P(n,l,u){\"-\"===l[0]?n.setProperty(l,u):n[l]=null==u?\"\":\"number\"!=typeof u||c.test(l)?u:u+\"px\"}function C(n,l,u,i,t){var o,r,f;if(t&&\"className\"==l&&(l=\"class\"),\"style\"===l)if(\"string\"==typeof u)n.style.cssText=u;else{if(\"string\"==typeof i&&(n.style.cssText=i=\"\"),i)for(l in i)u&&l in u||P(n.style,l,\"\");if(u)for(l in u)i&&u[l]===i[l]||P(n.style,l,u[l])}else\"o\"===l[0]&&\"n\"===l[1]?(o=l!==(l=l.replace(/Capture$/,\"\")),(r=l.toLowerCase())in n&&(l=r),l=l.slice(2),n.l||(n.l={}),n.l[l+o]=u,f=o?N:z,u?i||n.addEventListener(l,f,o):n.removeEventListener(l,f,o)):\"list\"!==l&&\"tagName\"!==l&&\"form\"!==l&&\"type\"!==l&&\"size\"!==l&&\"download\"!==l&&\"href\"!==l&&!t&&l in n?n[l]=null==u?\"\":u:\"function\"!=typeof u&&\"dangerouslySetInnerHTML\"!==l&&(l!==(l=l.replace(/xlink:?/,\"\"))?null==u||!1===u?n.removeAttributeNS(\"http://www.w3.org/1999/xlink\",l.toLowerCase()):n.setAttributeNS(\"http://www.w3.org/1999/xlink\",l.toLowerCase(),u):null==u||!1===u&&!/^ar/.test(l)?n.removeAttribute(l):n.setAttribute(l,u))}function z(l){this.l[l.type+!1](n.event?n.event(l):l)}function N(l){this.l[l.type+!0](n.event?n.event(l):l)}function T(n,l,u){var i,t;for(i=0;i<n.__k.length;i++)(t=n.__k[i])&&(t.__=n,t.__e&&(\"function\"==typeof t.type&&t.__k.length>1&&T(t,l,u),l=x(u,t,t,n.__k,null,t.__e,l),\"function\"==typeof n.type&&(n.__d=l)))}function $(l,u,i,t,o,r,f,e,c){var a,v,h,y,_,w,k,g,b,x,A,P=u.type;if(void 0!==u.constructor)return null;null!=i.__h&&(c=i.__h,e=u.__e=i.__e,u.__h=null,r=[e]),(a=n.__b)&&a(u);try{n:if(\"function\"==typeof P){if(g=u.props,b=(a=P.contextType)&&t[a.__c],x=a?b?b.props.value:a.__:t,i.__c?k=(v=u.__c=i.__c).__=v.__E:(\"prototype\"in P&&P.prototype.render?u.__c=v=new P(g,x):(u.__c=v=new d(g,x),v.constructor=P,v.render=M),b&&b.sub(v),v.props=g,v.state||(v.state={}),v.context=x,v.__n=t,h=v.__d=!0,v.__h=[]),null==v.__s&&(v.__s=v.state),null!=P.getDerivedStateFromProps&&(v.__s==v.state&&(v.__s=s({},v.__s)),s(v.__s,P.getDerivedStateFromProps(g,v.__s))),y=v.props,_=v.state,h)null==P.getDerivedStateFromProps&&null!=v.componentWillMount&&v.componentWillMount(),null!=v.componentDidMount&&v.__h.push(v.componentDidMount);else{if(null==P.getDerivedStateFromProps&&g!==y&&null!=v.componentWillReceiveProps&&v.componentWillReceiveProps(g,x),!v.__e&&null!=v.shouldComponentUpdate&&!1===v.shouldComponentUpdate(g,v.__s,x)||u.__v===i.__v){v.props=g,v.state=v.__s,u.__v!==i.__v&&(v.__d=!1),v.__v=u,u.__e=i.__e,u.__k=i.__k,v.__h.length&&f.push(v),T(u,e,l);break n}null!=v.componentWillUpdate&&v.componentWillUpdate(g,v.__s,x),null!=v.componentDidUpdate&&v.__h.push(function(){v.componentDidUpdate(y,_,w)})}v.context=x,v.props=g,v.state=v.__s,(a=n.__r)&&a(u),v.__d=!1,v.__v=u,v.__P=l,a=v.render(v.props,v.state,v.context),v.state=v.__s,null!=v.getChildContext&&(t=s(s({},t),v.getChildContext())),h||null==v.getSnapshotBeforeUpdate||(w=v.getSnapshotBeforeUpdate(y,_)),A=null!=a&&a.type==p&&null==a.key?a.props.children:a,m(l,Array.isArray(A)?A:[A],u,i,t,o,r,f,e,c),v.base=u.__e,u.__h=null,v.__h.length&&f.push(v),k&&(v.__E=v.__=null),v.__e=!1}else null==r&&u.__v===i.__v?(u.__k=i.__k,u.__e=i.__e):u.__e=H(i.__e,u,i,t,o,r,f,c);(a=n.diffed)&&a(u)}catch(l){u.__v=null,(c||null!=r)&&(u.__e=e,u.__h=!!c,r[r.indexOf(e)]=null),n.__e(l,u,i)}return u.__e}function j(l,u){n.__c&&n.__c(u,l),l.some(function(u){try{l=u.__h,u.__h=[],l.some(function(n){n.call(u)})}catch(l){n.__e(l,u.__v)}})}function H(n,l,u,i,t,o,r,c){var s,a,v,h,y,p=u.props,d=l.props;if(t=\"svg\"===l.type||t,null!=o)for(s=0;s<o.length;s++)if(null!=(a=o[s])&&((null===l.type?3===a.nodeType:a.localName===l.type)||n==a)){n=a,o[s]=null;break}if(null==n){if(null===l.type)return document.createTextNode(d);n=t?document.createElementNS(\"http://www.w3.org/2000/svg\",l.type):document.createElement(l.type,d.is&&{is:d.is}),o=null,c=!1}if(null===l.type)p===d||c&&n.data===d||(n.data=d);else{if(null!=o&&(o=e.slice.call(n.childNodes)),v=(p=u.props||f).dangerouslySetInnerHTML,h=d.dangerouslySetInnerHTML,!c){if(null!=o)for(p={},y=0;y<n.attributes.length;y++)p[n.attributes[y].name]=n.attributes[y].value;(h||v)&&(h&&(v&&h.__html==v.__html||h.__html===n.innerHTML)||(n.innerHTML=h&&h.__html||\"\"))}A(n,d,p,t,c),h?l.__k=[]:(s=l.props.children,m(n,Array.isArray(s)?s:[s],l,u,i,\"foreignObject\"!==l.type&&t,o,r,f,c)),c||(\"value\"in d&&void 0!==(s=d.value)&&(s!==n.value||\"progress\"===l.type&&!s)&&C(n,\"value\",s,p.value,!1),\"checked\"in d&&void 0!==(s=d.checked)&&s!==n.checked&&C(n,\"checked\",s,p.checked,!1))}return n}function I(l,u,i){try{\"function\"==typeof l?l(u):l.current=u}catch(l){n.__e(l,i)}}function L(l,u,i){var t,o,r;if(n.unmount&&n.unmount(l),(t=l.ref)&&(t.current&&t.current!==l.__e||I(t,null,u)),i||\"function\"==typeof l.type||(i=null!=(o=l.__e)),l.__e=l.__d=void 0,null!=(t=l.__c)){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(l){n.__e(l,u)}t.base=t.__P=null}if(t=l.__k)for(r=0;r<t.length;r++)t[r]&&L(t[r],u,i);null!=o&&a(o)}function M(n,l,u){return this.constructor(n,u)}function O(l,u,i){var t,r,c;n.__&&n.__(l,u),r=(t=i===o)?null:i&&i.__k||u.__k,l=v(p,null,[l]),c=[],$(u,(t?u:i||u).__k=l,r||f,f,void 0!==u.ownerSVGElement,i&&!t?[i]:r?null:u.childNodes.length?e.slice.call(u.childNodes):null,c,i||f,t),j(c,l)}function S(n,l){O(n,l,o)}function q(n,l,u){var i,t,o,r=arguments,f=s({},n.props);for(o in l)\"key\"==o?i=l[o]:\"ref\"==o?t=l[o]:f[o]=l[o];if(arguments.length>3)for(u=[u],o=3;o<arguments.length;o++)u.push(r[o]);return null!=u&&(f.children=u),h(n.type,f,i||n.key,t||n.ref,null)}function B(n,l){var u={__c:l=\"__cC\"+r++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n,u,i){return this.getChildContext||(u=[],(i={})[l]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.some(k)},this.sub=function(n){u.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u.splice(u.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Provider.__=u.Consumer.contextType=u}n={__e:function(n,l){for(var u,i,t,o=l.__h;l=l.__;)if((u=l.__c)&&!u.__)try{if((i=u.constructor)&&null!=i.getDerivedStateFromError&&(u.setState(i.getDerivedStateFromError(n)),t=u.__d),null!=u.componentDidCatch&&(u.componentDidCatch(n),t=u.__d),t)return l.__h=o,u.__E=u}catch(l){n=l}throw n},__v:0},l=function(n){return null!=n&&void 0===n.constructor},d.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=s({},this.state),\"function\"==typeof n&&(n=n(s({},u),this.props)),n&&s(u,n),null!=n&&this.__v&&(l&&this.__h.push(l),k(this))},d.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),k(this))},d.prototype.render=p,u=[],i=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,g.__r=0,o=f,r=0;export{O as render,S as hydrate,v as createElement,v as h,p as Fragment,y as createRef,l as isValidElement,d as Component,q as cloneElement,B as createContext,b as toChildArray,L as __u,n as options};\n//# sourceMappingURL=preact.module.js.map\n","function insertTextFirefox(field, text) {\n    // Found on https://www.everythingfrontend.com/posts/insert-text-into-textarea-at-cursor-position.html \n    field.setRangeText(text, field.selectionStart || 0, field.selectionEnd || 0, 'end' // Without this, the cursor is either at the beginning or `text` remains selected\n    );\n    field.dispatchEvent(new InputEvent('input', {\n        data: text,\n        inputType: 'insertText',\n        isComposing: false // TODO: fix @types/jsdom, this shouldn't be required\n    }));\n}\n/** Inserts `text` at the cursors position, replacing any selection, with **undo** support and by firing the `input` event. */\nexport function insert(field, text) {\n    var document = field.ownerDocument;\n    var initialFocus = document.activeElement;\n    if (initialFocus !== field) {\n        field.focus();\n    }\n    if (!document.execCommand('insertText', false, text)) {\n        insertTextFirefox(field, text);\n    }\n    if (initialFocus === document.body) {\n        field.blur();\n    }\n    else if (initialFocus instanceof HTMLElement && initialFocus !== field) {\n        initialFocus.focus();\n    }\n}\n/** Replaces the entire content, equivalent to `field.value = text` but with **undo** support and by firing the `input` event. */\nexport function set(field, text) {\n    field.select();\n    insert(field, text);\n}\n/** Get the selected text in a field or an empty string if nothing is selected. */\nexport function getSelection(field) {\n    return field.value.slice(field.selectionStart, field.selectionEnd);\n}\n/** Adds the `wrappingText` before and after fields selection (or cursor). If `endWrappingText` is provided, it will be used instead of `wrappingText` at on the right. */\nexport function wrapSelection(field, wrap, wrapEnd) {\n    var selectionStart = field.selectionStart, selectionEnd = field.selectionEnd;\n    var selection = getSelection(field);\n    insert(field, wrap + selection + (wrapEnd !== null && wrapEnd !== void 0 ? wrapEnd : wrap));\n    // Restore the selection around the previously-selected text\n    field.selectionStart = selectionStart + wrap.length;\n    field.selectionEnd = selectionEnd + wrap.length;\n}\n/** Finds and replaces strings and regex in the fields value, like `field.value = field.value.replace()` but better */\nexport function replace(field, searchValue, replacer) {\n    /** Remembers how much each match offset should be adjusted */\n    var drift = 0;\n    field.value.replace(searchValue, function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        // Select current match to replace it later\n        var matchStart = drift + args[args.length - 2];\n        var matchLength = args[0].length;\n        field.selectionStart = matchStart;\n        field.selectionEnd = matchStart + matchLength;\n        var replacement = typeof replacer === 'string' ? replacer : replacer.apply(void 0, args);\n        insert(field, replacement);\n        // Select replacement. Without this, the cursor would be after the replacement\n        field.selectionStart = matchStart;\n        drift += replacement.length - matchLength;\n        return replacement;\n    });\n}\n","import * as BB from \"bbcode-tags\";\nimport * as textFieldEdit from \"text-field-edit\";\nimport { isNumber } from \"ts-type-guards\";\nimport * as CONFIG from \"~src/config\";\nexport function indent(s) {\n    return CONFIG.CONTENT.indentation + s;\n}\nexport function wrapIn(textarea, w) {\n    const replacement = w.before + selectedTextIn(textarea) + w.after;\n    // Since wrapping doesn't delete any text, undo support is not relevant and replacing is always safe.\n    const insertionResult = insertPure(textarea, { string: replacement, replace: true });\n    // We must use textFieldEdit.wrapSelection, because if we use insertPure + textFieldEdit.set, the entire textarea content gets selected when the user issues an undo command.\n    textFieldEdit.wrapSelection(textarea, w.before, w.after);\n    // Since we use the insertion result here, it must represent the same modification of the textarea content as textFieldEdit.wrapSelection.\n    if (isNumber(w.cursor)) {\n        placeCursorIn(textarea, insertionResult.startOfInserted + w.cursor);\n    }\n    else {\n        selectRangeIn(textarea, insertionResult.startOfInserted + w.before.length, insertionResult.endOfInserted - w.after.length);\n    }\n}\nexport function wrap_verbatim(w) {\n    return (textarea, _) => wrapIn(textarea, w);\n}\nexport function wrap_tag(w) {\n    const spacing = w.block ? \"\\n\" : \"\";\n    return wrap_verbatim({\n        before: BB.start(w.tag, w.parameterized ? \"\" : undefined) + spacing,\n        after: spacing + BB.end(w.tag),\n        cursor: (w.parameterized\n            ? 1 + w.tag.length + 2 // 1 for '[', 2 for '=\"'\n            : \"KEEP_SELECTION\"),\n    });\n}\nexport function selectedTextIn(textarea) {\n    return textarea.value.substring(textarea.selectionStart, textarea.selectionEnd);\n}\n// Simple insertion. Selected text is kept in the absence of undo support to protect against accidental deletion.\nexport function insert(str) {\n    return (textarea, undoSupport) => insertIn(textarea, { string: str, replace: undoSupport });\n}\nexport function insertIn(textarea, insertion) {\n    // The caller of this function is fully responsible for deciding whether to replace selected text or not.\n    // textFieldEdit.insert replaces selected text, so if that's not desired, we'll first unselect it such that the insertion is done after the selection.\n    if (!insertion.replace) {\n        placeCursorIn(textarea, textarea.selectionEnd);\n    }\n    // We must use textFieldEdit.insert, because if we use insertPure + textFieldEdit.set, the entire textarea content gets selected when the user issues an undo command.\n    textFieldEdit.insert(textarea, insertion.string);\n    textarea.focus();\n}\nfunction insertPure(textarea, insertion) {\n    const text = textarea.value;\n    const start = textarea.selectionStart;\n    const end = textarea.selectionEnd;\n    const startOfInsertedText = insertion.replace ? start : end;\n    return {\n        textareaContent: text.substring(0, startOfInsertedText) + insertion.string + text.substring(end),\n        startOfInserted: startOfInsertedText,\n        endOfInserted: startOfInsertedText + insertion.string.length,\n    };\n}\nexport function placeCursorIn(textarea, position) {\n    selectRangeIn(textarea, position, position);\n}\nexport function selectRangeIn(textarea, start, end) {\n    textarea.setSelectionRange(start, end);\n    textarea.focus(); // Must be after setSelectionRange to avoid scrolling to the bottom of the textarea in Chrome.\n}\n","import * as CONFIG from \"~src/config\";\nimport * as T from \"~src/text\";\nimport { insertIn, selectedTextIn } from \"../logic/textarea\";\nconst SPACE = / /g;\nconst CONSECUTIVE_SPACES = / +/g;\nexport default function (textarea, undoSupport) {\n    const selectedText = selectedTextIn(textarea);\n    let n; // Lets us short-circuit with undo support.\n    if (undoSupport || (n = confirmationNeeded(selectedText), n === false) || confirm(T.general.nbsps_confirm(n))) { // `confirm` is problematic in Chrome (see docs/dialogs.md), but Chrome has full undo support.\n        insertIn(textarea, {\n            string: selectedText.replace(SPACE, CONFIG.NBSP),\n            replace: true,\n        });\n    }\n}\n// A heuristic intended to catch cases when the user likely didn't mean to replace spaces with NBSPs and/or it would be cumbersome to restore the change without undo support.\nfunction confirmationNeeded(selectedText) {\n    var _a, _b;\n    const numberOfSelectedSpaces = ((_a = selectedText.match(SPACE)) === null || _a === void 0 ? void 0 : _a.length) || 0;\n    const numberOfSelectedSpaceSegments = ((_b = selectedText.match(CONSECUTIVE_SPACES)) === null || _b === void 0 ? void 0 : _b.length) || 0;\n    // Replacing a large number of spread-out spaces with NBSPs is both uncommon and time-consuming to restore.\n    const confirmationNeeded = numberOfSelectedSpaces > 10 && numberOfSelectedSpaceSegments > 3;\n    return confirmationNeeded ? numberOfSelectedSpaces : false;\n}\n","import * as BB from \"bbcode-tags\";\nimport { searchURL } from \"~src/search-engines\";\nimport * as SITE from \"~src/site\";\nimport { selectedTextIn, wrapIn } from \"../logic/textarea\";\nexport default (engine) => (textarea, _) => {\n    const tagName = SITE.TAG.url;\n    const selected = selectedTextIn(textarea);\n    const startTag = BB.start(tagName, searchURL(engine, selected));\n    wrapIn(textarea, {\n        before: startTag,\n        after: BB.end(tagName),\n        cursor: selected === \"\" ? startTag.length - 2 /* for \"] */ : \"KEEP_SELECTION\",\n    });\n};\n","import * as BB from \"bbcode-tags\";\nimport { lines, unlines } from \"lines-unlines\";\nimport * as CONFIG from \"~src/config\";\nimport * as SITE from \"~src/site\";\nimport * as T from \"~src/text\";\nimport { insertIn, selectedTextIn } from \"../logic/textarea\";\nexport default function (textarea, undoSupport) {\n    const selectedText = selectedTextIn(textarea);\n    const selectedLines = lines(selectedText);\n    if (undoSupport || !shibeConfirmationNeeded(selectedLines) || confirm(T.general.generic_lines_confirm(selectedLines.length))) { // `confirm` is problematic in Chrome (see docs/dialogs.md), but Chrome has full undo support.\n        insertIn(textarea, {\n            string: shibeText(selectedText),\n            replace: true,\n        });\n    }\n}\n// A heuristic intended to catch cases when the user likely didn't mean to apply shibe formatting and/or it would be cumbersome to restore the change without undo support.\nfunction shibeConfirmationNeeded(selectedLines) {\n    const nonEmptyLines = selectedLines.filter(line => line !== \"\");\n    const longestLineLength = Math.max(...nonEmptyLines.map(line => line.length));\n    // Shibe formatting is usually applied to a few short lines of text (\"wow\" etc), and content worth protecting tends to have more and/or longer lines.\n    return nonEmptyLines.length > 5 || longestLineLength > 15;\n}\nfunction shibeText(original) {\n    const MAX = 100;\n    return unlines(lines(original).map(line => [\n        BB.start(SITE.TAG.font, CONFIG.CONTENT.shibeFont),\n        BB.start(SITE.TAG.color, CONFIG.CONTENT.shibeColor),\n        BB.start(SITE.TAG.i),\n        CONFIG.NBSP.repeat(randomIntBetween(0, Math.max(0, MAX - line.length))),\n        line,\n        BB.end(SITE.TAG.i),\n        BB.end(SITE.TAG.color),\n        BB.end(SITE.TAG.font),\n    ].join(\"\")));\n}\nfunction randomIntBetween(min, max) {\n    return Math.floor(Math.random() * (max - min + 1)) + min;\n}\n","import * as BB from \"bbcode-tags\";\nimport * as CONFIG from \"~src/config\";\nimport * as SITE from \"~src/site\";\nimport { r } from \"~src/utilities\";\nimport { insertIn, placeCursorIn } from \"../logic/textarea\";\nexport default function (textarea, undoSupport) {\n    // Yes, this code is hard to understand. It was conceived using a considerable amount of trial and error.\n    const beforeSelection = textarea.value.substring(0, textarea.selectionStart);\n    const afterSelection = textarea.value.substring(textarea.selectionEnd);\n    const existingNewlinesBeforeSelection = lengthOfGuaranteedMatchIn(beforeSelection, /\\n*$/);\n    const existingNewlinesAfterSelection = lengthOfGuaranteedMatchIn(afterSelection, /^\\n*/);\n    const cursorIsBetweenTwoExistingQuotes = (new RegExp(r `\\[\\/${SITE.TAG.quote}\\]$`, \"i\").test(beforeSelection.trimRight())\n        &&\n            new RegExp(r `^\\[${SITE.TAG.quote}`, \"i\").test(afterSelection.trimLeft()));\n    if (cursorIsBetweenTwoExistingQuotes) {\n        // Just insert empty lines and place the cursor accordingly.\n        const numberOfNewlinesToInsert = Math.max(0, // Using a negative value with String.prototype.repeat is a RangeError.\n        CONFIG.CONTENT.splitQuoteEmptyLines + 1 - existingNewlinesBeforeSelection - existingNewlinesAfterSelection);\n        // If there are more newlines than we'd like between the quotes, they will be left untouched, because we don't want to mess with deleting content.\n        insertIn(textarea, {\n            string: \"\\n\".repeat(numberOfNewlinesToInsert),\n            replace: undoSupport,\n        });\n        placeCursorIn(textarea, beforeSelection.length - existingNewlinesBeforeSelection + 1); // + 1 to get past the first line break\n    }\n    else {\n        // Add quote tags and place cursor.\n        const startTag = BB.start(SITE.TAG.quote);\n        const endTag = BB.end(SITE.TAG.quote);\n        const extraNewlineBeforeSelectionNeeded = existingNewlinesBeforeSelection === 0;\n        const extraNewlineAfterSelectionNeeded = existingNewlinesAfterSelection === 0;\n        insertIn(textarea, { string: [\n                extraNewlineBeforeSelectionNeeded ? \"\\n\" : \"\",\n                endTag,\n                \"\\n\".repeat(CONFIG.CONTENT.splitQuoteEmptyLines + 1),\n                startTag,\n                extraNewlineAfterSelectionNeeded ? \"\\n\" : \"\",\n            ].join(\"\"), replace: undoSupport });\n        placeCursorIn(textarea, beforeSelection.length + (extraNewlineBeforeSelectionNeeded ? 1 : 0) + endTag.length + 1); // + 1 to get past a line break\n    }\n}\nfunction lengthOfGuaranteedMatchIn(s, regexThatAlwaysMatches) {\n    // This function should only be used with regexes that always match (which can't be statically checked).\n    return s.match(regexThatAlwaysMatches)[0].length;\n}\n","export const SMILEYS = [\n    // Pairs of BBCode code and CSS class:\n    [\":)\", \"smiley-smile\"],\n    [\";)\", \"smiley-wink\"],\n    [\":D\", \"smiley-biggrin\"],\n    [\":P\", \"smiley-tongue\"],\n    [\":O\", \"smiley-surprised\"],\n    [\":(\", \"smiley-frown\"],\n    [\";(\", \"smiley-cry\"],\n    [\":|\", \"smiley-speechless\"],\n    [\":arrow:\", \"smiley-arrow\"],\n    [\":up:\", \"smiley-up\"],\n    [\":down:\", \"smiley-down\"],\n    [\":confused:\", \"smiley-confused\"],\n    [\":mad:\", \"smiley-mad\"],\n    [\":lol:\", \"smiley-lol\"],\n    [\":joyful:\", \"smiley-joyful\"],\n    [\":cool:\", \"smiley-cool\"],\n    [\":ninja:\", \"smiley-ninja\"],\n    [\":innocent:\", \"smiley-innocent\"],\n    [\":rolleyes:\", \"smiley-rolleyes\"],\n];\nexport function codeFor(smiley) {\n    return smiley[0];\n}\nexport function classFor(smiley) {\n    return smiley[1];\n}\n","import * as BB from \"bbcode-tags\";\nimport classNames from \"classnames\";\nimport { lines, unlines } from \"lines-unlines\";\nimport { h } from \"preact\";\nimport * as CONFIG from \"~src/config\";\nimport iconExpander from \"~src/icons/expander.svg\";\nimport iconQuote from \"~src/icons/quote.svg\";\nimport iconSearchLink from \"~src/icons/search-link.svg\";\nimport iconSplitQuote from \"~src/icons/split-quote.svg\";\nimport * as SITE from \"~src/site\";\nimport * as T from \"~src/text\";\nimport { fromMaybeUndefined } from \"~src/utilities\";\nimport ACTION_REPLACE_SPACES_WITH_NBSPS from \"../actions/replace-spaces-with-nbsps\";\nimport ACTION_SEARCH_LINK from \"../actions/search-link\";\nimport ACTION_SHIBE from \"../actions/shibe\";\nimport ACTION_SPLIT_QUOTE from \"../actions/split-quote\";\nimport * as Smileys from \"./smileys\";\nimport { insert, insertIn, selectedTextIn, wrap_tag, wrap_verbatim } from \"./textarea\";\nexport const BUTTON = {\n    nbsps: generalButton({\n        label: T.editing_tools.nbsps_label,\n        tooltip: T.editing_tools.nbsps_tooltip,\n        action: ACTION_REPLACE_SPACES_WITH_NBSPS,\n    }),\n    url: tagButton({\n        tag: SITE.TAG.url,\n        parameterized: true,\n        tooltip: T.editing_tools.url_tooltip,\n        icon: { type: \"RAW\", image: SITE.ICONS.toolbarIcon(SITE.ICONS.position_toolbar_url) },\n    }),\n    img: generalButton({\n        tooltip: T.editing_tools.img_tooltip,\n        action: ACTION_IMG,\n        icon: { type: \"RAW\", image: SITE.ICONS.toolbarIcon(SITE.ICONS.position_toolbar_img) },\n    }),\n    search: (engine) => generalButton({\n        tooltip: T.editing_tools.search_link_tooltip,\n        action: ACTION_SEARCH_LINK(engine),\n        icon: { type: \"RAW\", image: iconSearchLink },\n    }),\n    shibe: generalButton({\n        label: T.editing_tools.shibe_label,\n        tooltip: T.editing_tools.shibe_tooltip,\n        class: CONFIG.CLASS.shibe,\n        action: ACTION_SHIBE,\n    }),\n    doge: generalButton({\n        tooltip: T.editing_tools.doge_tooltip,\n        action: insert(CONFIG.CONTENT.doge),\n        icon: { type: \"URL\", image: CONFIG.ICONS.DOGE },\n    }),\n    quote: tagButton({\n        tag: SITE.TAG.quote,\n        parameterized: true,\n        block: true,\n        tooltip: T.editing_tools.quote_tooltip,\n        icon: { type: \"RAW\", image: iconQuote },\n    }),\n    splitQuote: generalButton({\n        tooltip: T.editing_tools.split_quote_tooltip,\n        action: ACTION_SPLIT_QUOTE,\n        icon: { type: \"RAW\", image: iconSplitQuote },\n    }),\n    expander: tagButton({\n        tag: SITE.TAG.expander,\n        tooltip: T.editing_tools.expander_tooltip,\n        block: true,\n        icon: { type: \"RAW\", image: iconExpander },\n    }),\n};\nexport const BUTTONS = {\n    meta: [\n        tagButton({ tag: SITE.TAG.ins, label: T.editing_tools.ins_label, tooltip: T.editing_tools.ins_tooltip }),\n        tagButton({ tag: SITE.TAG.del, label: T.editing_tools.del_label, tooltip: T.editing_tools.del_tooltip }),\n    ],\n    code: [\n        tagButton({ tag: SITE.TAG.noparse, tooltip: T.editing_tools.noparse_tooltip, class: CONFIG.CLASS.button_code }),\n        tagButton({ tag: SITE.TAG.pre, tooltip: T.editing_tools.pre_tooltip, block: true, class: CONFIG.CLASS.button_code }),\n        tagButton({ tag: SITE.TAG.cmd, tooltip: T.editing_tools.cmd_tooltip, class: CONFIG.CLASS.button_code }),\n        tagButton({ tag: SITE.TAG.code, tooltip: T.editing_tools.code_tooltip, block: true, class: CONFIG.CLASS.button_code }),\n    ],\n    math: [\n        tagButton({ tag: SITE.TAG.math, label: T.editing_tools.math_label, tooltip: T.editing_tools.math_tooltip, class: CONFIG.CLASS.button_math }),\n        tagButton({ tag: SITE.TAG.sub, label: T.editing_tools.sub_label, tooltip: T.editing_tools.sub_tooltip, class: CONFIG.CLASS.button_math }),\n        tagButton({ tag: SITE.TAG.sup, label: T.editing_tools.sup_label, tooltip: T.editing_tools.sup_tooltip, class: CONFIG.CLASS.button_math }),\n    ],\n    whitespace: [\n        BUTTON.nbsps,\n    ],\n    definitions: [\n        tagButton({ tag: SITE.TAG.dl, label: T.editing_tools.dl_label, tooltip: T.editing_tools.dl_tooltip, block: true }),\n        tagButton({ tag: SITE.TAG.dt, label: T.editing_tools.dt_label, tooltip: T.editing_tools.dt_tooltip }),\n        tagButton({ tag: SITE.TAG.dd, label: T.editing_tools.dd_label, tooltip: T.editing_tools.dd_tooltip }),\n    ],\n    embed: (searchEngine) => [\n        BUTTON.url,\n        BUTTON.img,\n        BUTTON.search(searchEngine),\n    ],\n    doge: [\n        BUTTON.shibe,\n        BUTTON.doge,\n    ],\n};\nexport const COLORS = [\n    \"#D00\",\n    \"#C15200\",\n    \"#EE8500\",\n    \"#EC0\",\n    \"#20A000\",\n    \"#789922\",\n    \"#106400\",\n    \"#0BC\",\n    \"#24F\",\n    \"#1525D0\",\n    \"#9000B5\",\n    \"black\",\n    \"gray\",\n    \"white\",\n    \"red\",\n    \"yellow\",\n    \"lime\",\n    \"green\",\n    \"aqua\",\n    \"blue\",\n    \"magenta\",\n];\nexport function tagButton(button) {\n    return generalButton({\n        label: fromMaybeUndefined(button.icon === undefined ? button.tag : \"\", button.label),\n        tooltip: button.tooltip,\n        class: button.class,\n        icon: button.icon,\n        action: wrap_tag({\n            tag: button.tag,\n            parameterized: fromMaybeUndefined(false, button.parameterized),\n            block: fromMaybeUndefined(false, button.block),\n        }),\n    });\n}\nexport function insertButton(button) {\n    return generalButton({\n        label: fromMaybeUndefined(button.insert, button.label),\n        tooltip: button.tooltip,\n        action: insert(button.insert),\n    });\n}\nexport function colorButton(color) {\n    return generalButton({\n        label: \"\",\n        tooltip: color,\n        style: `background: ${color};`,\n        action: wrap_verbatim({\n            before: BB.start(SITE.TAG.color, color),\n            after: BB.end(SITE.TAG.color),\n            cursor: \"KEEP_SELECTION\",\n        }),\n    });\n}\nexport function smileyButton(smiley) {\n    return generalButton({\n        label: \"\",\n        tooltip: Smileys.codeFor(smiley),\n        custom: true,\n        class: classNames(SITE.CLASS.smiley, Smileys.classFor(smiley)),\n        action: insert(\" \" + Smileys.codeFor(smiley) + \" \"),\n    });\n}\nexport function generalButton(button) {\n    return (textarea, undoSupport) => {\n        const icon = button.icon;\n        const label = (icon === undefined ? \"\" : icon.type === \"URL\" ? `<img src=\"${icon.image}\" />` : icon.image) + fromMaybeUndefined(\"\", button.label);\n        const className = [\n            button.class || \"\",\n            button.custom ? \"\" : SITE.CLASS.button,\n            icon === undefined ? \"\" : \" \" + CONFIG.CLASS.iconButton,\n        ].join(\" \").trim();\n        return (h(\"a\", { dangerouslySetInnerHTML: { __html: label }, title: button.tooltip, class: className, style: button.style, onClick: () => button.action(textarea, undoSupport), href: \"javascript:void(0)\" }));\n    };\n}\nexport function toolbarButton(button) {\n    return (textarea, undoSupport) => (h(\"div\", { title: button.tooltip, class: [SITE.CLASS.toolbarButton, button.class || \"\"].join(\" \").trim(), style: button.style },\n        h(\"div\", { class: SITE.CLASS.inner, onClick: () => button.action(textarea, undoSupport) },\n            h(\"div\", { class: SITE.CLASS.toolbarButtonIcon }))));\n}\nfunction ACTION_IMG(textarea, undoSupport) {\n    const selection = selectedTextIn(textarea);\n    if (!selection.includes(\"\\n\")) {\n        wrap_tag({ tag: SITE.TAG.img, parameterized: false, block: false })(textarea, undoSupport);\n    }\n    else {\n        const imgify = (line) => line.trim() === \"\" ? \"\" : BB.start(SITE.TAG.img) + line.trim() + BB.end(SITE.TAG.img);\n        insertIn(textarea, { string: unlines(lines(selection).map(imgify)), replace: true });\n    }\n}\n","export default \"<svg version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 64 64\\\">\\n    <circle stroke=\\\"#888\\\" stroke-width=\\\"5\\\" r=\\\"20\\\" cx=\\\"41\\\" cy=\\\"23\\\" fill=\\\"none\\\"/>\\n    <line x1=\\\"4\\\" y1=\\\"60\\\" x2=\\\"28\\\" y2=\\\"36\\\" stroke=\\\"#888\\\" stroke-width=\\\"10\\\" />\\n</svg>\\n\";","export default \"<svg version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 32 32\\\">\\n    <rect x=\\\"1\\\" y=\\\"1\\\" width=\\\"30\\\" height=\\\"30\\\" stroke=\\\"#444\\\" fill=\\\"#d7d5d1\\\" stroke-width=\\\"2\\\"/>\\n    <text x=\\\"4\\\" y=\\\"18\\\" style=\\\"fill: #444; font-family: Georgia, serif; font-size: 20px\\\"></text>\\n    <text       y=\\\"13\\\" style=\\\"fill: #444; font-family: sans-serif; font-size: 4px\\\">\\n        <tspan x=\\\"4\\\" dy=\\\"1.2em\\\">Dumheter</tspan>\\n        <tspan x=\\\"4\\\" dy=\\\"1.2em\\\">som mste</tspan>\\n        <tspan x=\\\"4\\\" dy=\\\"1.2em\\\">besvaras.</tspan>\\n    </text>\\n</svg>\\n\";","export default \"<svg version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 32 32\\\">\\n    <rect x=\\\"1\\\" y=\\\"-3\\\" width=\\\"30\\\" height=\\\"10\\\" stroke=\\\"#444\\\" fill=\\\"#d7d5d1\\\" stroke-width=\\\"2\\\"/>\\n    <rect x=\\\"1\\\" y=\\\"19\\\" width=\\\"30\\\" height=\\\"22\\\" stroke=\\\"#444\\\" fill=\\\"#d7d5d1\\\" stroke-width=\\\"2\\\"/>\\n    <text x=\\\"0\\\" y=\\\"13\\\" style=\\\"fill: #444; font-family: sans-serif; font-size: 4px\\\">Du har fel.</text>\\n    <text x=\\\"4\\\" y=\\\"36\\\" style=\\\"fill: #444; font-family: Georgia, serif; font-size: 20px\\\"></text>\\n</svg>\\n\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 32 32\\\">\\n    <rect x=\\\"1\\\" y=\\\"1\\\" width=\\\"30\\\" height=\\\"30\\\" stroke=\\\"#888\\\" stroke-width=\\\"2\\\" fill=\\\"#d7d5d1\\\"/>\\n    <polyline points=\\\"0,0  8,4  0,8\\\" fill=\\\"black\\\" transform=\\\"translate(6, 4)\\\"/>\\n    <line x1=\\\"4\\\" x2=\\\"28\\\" y1=\\\"0\\\" y2=\\\"0\\\" transform=\\\"translate(0, 15)\\\" stroke=\\\"#888\\\" stroke-width=\\\"2\\\"/>\\n    <g transform=\\\"translate(10, 23)\\\">\\n        <circle id=\\\"circle\\\" cx=\\\"0\\\" cy=\\\"0\\\" r=\\\"2\\\" fill=\\\"#444\\\"/>\\n        <use href=\\\"#circle\\\" xlink:href=\\\"#circle\\\" transform=\\\"translate(6,0)\\\"/>\\n        <use href=\\\"#circle\\\" xlink:href=\\\"#circle\\\" transform=\\\"translate(12,0)\\\"/>\\n    </g>\\n</svg>\\n\";","import { render } from \"preact\";\nimport { isString } from \"ts-type-guards\";\nimport { log } from \"userscripter\";\nimport { truncate } from \"~src/utilities\";\n/**\n * Renders a virtual node at a specific position in a parent element.\n * @param parent The element to render inside.\n * @param insert A function describing where in the parent element the rendered element should be inserted. It will be given `{ parent, placeholder }` and will be assumed to actually insert `placeholder` directly under `parent`.\n * @param vnode The virtual node to render.\n */\nexport function renderIn(parent, insert, vnode) {\n    const placeholder = document.createTextNode(\"\"); // Doesn't matter what type of node we use here, because it will be replaced by the rendered element.\n    insert({ parent, placeholder });\n    if (placeholder.parentNode === parent) { // \"If the optional replaceNode parameter is provided, it must be a child of containerNode.\" https://preactjs.com/guide/v10/api-reference/\n        render(vnode, parent, placeholder);\n    }\n    else {\n        const nodeType = isString(vnode.type) ? ` \"${vnode.type}\"` : \"\"; // Cluttered message if it's not a string.\n        const nodeProps = truncate(200, JSON.stringify(vnode.props)); // Cluttered message if it's too long.\n        log.error(`Placeholder for virtual${nodeType} node with properties\\n\\n    ${nodeProps}\\n\\nwas not inserted directly under the intended parent element.`);\n    }\n}\nexport const insertAtTheEnd = (({ parent, placeholder }) => {\n    parent.append(placeholder);\n});\nexport const insertAtTheBeginning = (({ parent, placeholder }) => {\n    parent.prepend(placeholder);\n});\nexport const insertBefore = (reference => ({ parent, placeholder }) => {\n    parent.insertBefore(placeholder, reference);\n});\nexport const insertAfter = (reference => ({ parent, placeholder }) => {\n    parent.insertBefore(placeholder, reference.nextSibling); // If reference.nextSibling is null, reference is the last child and placeholder will be inserted after it.\n});\n","import { BooleanPreference, MultichoicePreference, } from \"ts-preferences\";\nimport * as CONFIG from \"~src/config\";\nimport { BUTTONS, insertButton } from \"~src/operations/logic/editing-tools\";\nimport { insertAtTheEnd, renderIn } from \"~src/operations/logic/render\";\nimport * as T from \"~src/text\";\nfunction buttonsDescription(buttons) {\n    const textarea = document.createElement(\"textarea\");\n    const undoSupport = true; // The buttons are only used for illustrative purposes, not actual text editing.\n    const connectedButtons = buttons.map(b => b(textarea, undoSupport));\n    const div = document.createElement(\"div\");\n    for (const b of connectedButtons) {\n        renderIn(div, insertAtTheEnd, b);\n    }\n    return div.innerHTML;\n}\nconst enable = new BooleanPreference({\n    key: \"editing_tools\",\n    default: true,\n    label: T.preferences.editing_tools.enable,\n    description: T.preferences.editing_tools.enable_description,\n    extras: { class: [CONFIG.CLASS.inlinePreference, CONFIG.CLASS.primaryInlinePreference] },\n});\nconst dependencies = [\n    {\n        preference: enable,\n        condition: (v) => v,\n    },\n];\nexport var Position;\n(function (Position) {\n    Position[\"ABOVE\"] = \"above\";\n    Position[\"BELOW\"] = \"below\";\n})(Position || (Position = {}));\nexport default {\n    enable,\n    in_quick_reply_form: new BooleanPreference({\n        key: \"editing_tools_in_quick_reply_form\",\n        default: true,\n        label: T.preferences._.in_quick_reply_form,\n        description: T.preferences._.in_quick_reply_form_description,\n        extras: { class: CONFIG.CLASS.inlinePreference },\n    }),\n    position: new MultichoicePreference({\n        key: \"editing_tools_position\",\n        default: \"below\" /* BELOW */,\n        label: T.preferences.editing_tools.position.label,\n        description: T.preferences.editing_tools.position.description,\n        options: [\n            {\n                value: \"above\" /* ABOVE */,\n                label: T.preferences.editing_tools.position.above,\n            },\n            {\n                value: \"below\" /* BELOW */,\n                label: T.preferences.editing_tools.position.below,\n            },\n        ],\n        dependencies,\n    }),\n    special_characters: new BooleanPreference({\n        key: \"editing_tools_special_characters\",\n        default: true,\n        label: T.preferences.editing_tools.special_characters,\n        extras: {\n            more: buttonsDescription(T.special_characters.slice(0, 5).map(insertButton)) + \"\",\n            class: CONFIG.CLASS.editingTools,\n        },\n        dependencies,\n    }),\n    meta: new BooleanPreference({\n        key: \"editing_tools_meta\",\n        default: true,\n        label: T.preferences.editing_tools.meta,\n        extras: {\n            more: buttonsDescription(BUTTONS.meta),\n            class: CONFIG.CLASS.editingTools,\n        },\n        dependencies,\n    }),\n    code: new BooleanPreference({\n        key: \"editing_tools_code\",\n        default: true,\n        label: T.preferences.editing_tools.code,\n        extras: {\n            more: buttonsDescription(BUTTONS.code),\n            class: CONFIG.CLASS.editingTools,\n        },\n        dependencies,\n    }),\n    math: new BooleanPreference({\n        key: \"editing_tools_math\",\n        default: true,\n        label: T.preferences.editing_tools.math,\n        extras: {\n            more: buttonsDescription(BUTTONS.math),\n            class: CONFIG.CLASS.editingTools,\n        },\n        dependencies,\n    }),\n    whitespace: new BooleanPreference({\n        key: \"editing_tools_whitespace\",\n        default: true,\n        label: T.preferences.editing_tools.whitespace,\n        extras: {\n            more: buttonsDescription(BUTTONS.whitespace),\n            class: CONFIG.CLASS.editingTools,\n        },\n        dependencies,\n    }),\n    definitions: new BooleanPreference({\n        key: \"editing_tools_definitions\",\n        default: true,\n        label: T.preferences.editing_tools.definitions,\n        extras: {\n            more: buttonsDescription(BUTTONS.definitions),\n            class: CONFIG.CLASS.editingTools,\n        },\n        dependencies,\n    }),\n    embed: new BooleanPreference({\n        key: \"editing_tools_embed\",\n        default: true,\n        label: T.preferences.editing_tools.embed,\n        extras: {\n            more: buttonsDescription(BUTTONS.embed(\"Google\" /* GOOGLE */)),\n            class: CONFIG.CLASS.editingTools,\n        },\n        dependencies,\n    }),\n    search_engine: new MultichoicePreference({\n        key: \"search_engine\",\n        default: \"Google\" /* GOOGLE */,\n        label: T.preferences.editing_tools.search_engine.label,\n        description: T.preferences.editing_tools.search_engine.description,\n        options: [\n            {\n                value: \"Google\" /* GOOGLE */,\n                label: \"Google\" /* GOOGLE */,\n            },\n            {\n                value: \"DuckDuckGo\" /* DUCKDUCKGO */,\n                label: \"DuckDuckGo\" /* DUCKDUCKGO */,\n            },\n        ],\n    }),\n    doge: new BooleanPreference({\n        key: \"editing_tools_doge\",\n        default: false,\n        label: T.preferences.editing_tools.doge,\n        extras: {\n            more: T.preferences.editing_tools.doge_description,\n            class: [CONFIG.CLASS.shibe, CONFIG.CLASS.editingTools].join(\" \"),\n        },\n        dependencies,\n    }),\n    color_palette: new BooleanPreference({\n        key: \"editing_tools_color_palette\",\n        default: true,\n        label: T.preferences.editing_tools.color_palette,\n        description: T.preferences.editing_tools.color_palette_description,\n        extras: { class: CONFIG.CLASS.editingTools },\n        dependencies,\n    }),\n    smileys: new BooleanPreference({\n        key: \"editing_tools_smileys\",\n        default: true,\n        label: T.preferences.editing_tools.smileys,\n        extras: { class: CONFIG.CLASS.editingTools },\n        dependencies,\n    }),\n};\n","import { BooleanPreference, StringPreference, } from \"ts-preferences\";\nimport * as T from \"~src/text\";\nconst quote_signature_buttons = new BooleanPreference({\n    key: \"quote_signature_buttons\",\n    default: true,\n    label: T.preferences.forum_threads.quote_signature_buttons,\n    description: T.preferences.forum_threads.quote_signature_buttons_description,\n});\nconst dependencies_quote_signature = [\n    {\n        preference: quote_signature_buttons,\n        condition: (v) => v,\n    },\n];\nexport default {\n    improved_pagination_buttons: new BooleanPreference({\n        key: \"improved_pagination_buttons\",\n        default: true,\n        label: T.preferences.forum_threads.improved_pagination_buttons,\n        description: T.preferences.forum_threads.improved_pagination_buttons_description,\n    }),\n    insert_link_to_top: new BooleanPreference({\n        key: \"insert_link_to_top\",\n        default: true,\n        label: T.preferences.forum_threads.insert_link_to_top,\n        description: T.preferences.forum_threads.insert_link_to_top_description,\n    }),\n    highlight_own_posts: new BooleanPreference({\n        key: \"highlight_own_posts\",\n        default: true,\n        label: T.preferences.forum_threads.highlight_own_posts,\n        description: T.preferences.forum_threads.highlight_own_posts_description,\n    }),\n    insert_pm_links: new BooleanPreference({\n        key: \"insert_pm_links\",\n        default: true,\n        label: T.preferences.forum_threads.insert_pm_links,\n        description: T.preferences.forum_threads.insert_pm_links_description,\n    }),\n    mention_everyone_button: new BooleanPreference({\n        key: \"mention_everyone_button\",\n        default: false,\n        label: T.preferences.forum_threads.mention_everyone_button,\n        description: T.preferences.forum_threads.mention_everyone_button_description,\n    }),\n    quote_signature_buttons,\n    quote_signature_message: new StringPreference({\n        key: \"quote_signature_message\",\n        default: T.preferences.forum_threads.quote_signature_message_default,\n        label: T.preferences.forum_threads.quote_signature_message,\n        description: T.preferences.forum_threads.quote_signature_message_description,\n        multiline: true,\n        dependencies: dependencies_quote_signature,\n    }),\n};\n","import { BooleanPreference, IntegerPreference, StringPreference, } from \"ts-preferences\";\nimport * as T from \"~src/text\";\nexport default {\n    lock_heights: new BooleanPreference({\n        key: \"lock_heights\",\n        default: true,\n        label: T.preferences.general.lock_heights,\n        description: T.preferences.general.lock_heights_description,\n    }),\n    improved_corrections: new BooleanPreference({\n        key: \"improved_corrections\",\n        default: true,\n        label: T.preferences.general.improved_corrections,\n        description: T.preferences.general.improved_corrections_description,\n    }),\n    insert_preferences_shortcut: new BooleanPreference({\n        key: \"insert_preferences_shortcut\",\n        default: true,\n        label: T.preferences.general.insert_preferences_shortcut,\n        description: T.preferences.general.insert_preferences_shortcut_description,\n    }),\n    replace_followed_threads_link: new BooleanPreference({\n        key: \"replace_followed_threads_link\",\n        default: false,\n        label: T.preferences.general.replace_followed_threads_link,\n        description: T.preferences.general.replace_followed_threads_link_description,\n    }),\n    remember_location_in_market: new BooleanPreference({\n        key: \"remember_location_in_market\",\n        default: true,\n        label: T.preferences.general.remember_location_in_market,\n        description: T.preferences.general.remember_location_in_market_description,\n    }),\n    location_region: new IntegerPreference({\n        key: \"location_region\",\n        default: 0,\n        label: T.preferences._.NO_LABEL,\n        extras: { implicit: true },\n    }),\n    location_city: new StringPreference({\n        key: \"location_city\",\n        default: \"\",\n        label: T.preferences._.NO_LABEL,\n        multiline: false,\n        extras: { implicit: true },\n    }),\n};\n","import { Preference } from \"./Preference\";\r\nexport class ListPreference extends Preference {\r\n    getClassName() { return \"ListPreference\"; }\r\n}\r\n//# sourceMappingURL=ListPreference.js.map","import { ListPreference } from \"ts-preferences\";\nimport * as T from \"~src/text\";\nexport default {\n    uninteresting_subforums: new ListPreference({\n        key: \"interests_uninteresting_subforums\",\n        label: T.preferences._.NO_LABEL,\n        default: [],\n    }),\n};\n","export var Action;\n(function (Action) {\n    Action[\"PREVIEW\"] = \"preview\";\n    Action[\"SUBMIT\"] = \"submit\";\n    Action[\"INSERT_TAB\"] = \"insert_tab\";\n    Action[\"INSERT_LINK\"] = \"insert_link\";\n})(Action || (Action = {}));\n","import { ListPreference } from \"ts-preferences\";\nimport { Action } from \"~src/actions\";\nimport * as T from \"~src/text\";\nexport default new ListPreference({\n    key: \"keyboard\",\n    label: T.preferences._.NO_LABEL,\n    default: [\n        { shortcut: \"mod+k\", action: Action.INSERT_LINK },\n        { shortcut: \"mod+s\", action: Action.SUBMIT },\n        { shortcut: \"mod+p\", action: Action.PREVIEW },\n        { shortcut: \"tab\", action: Action.INSERT_TAB },\n    ],\n    extras: { implicit: true },\n});\n","import { PreferenceManager } from \"ts-preferences\";\nimport { loggingResponseHandler, subscriptable } from \"userscripter/lib/preferences\";\nimport * as CONFIG from \"~src/config\";\nimport * as T from \"~src/text\";\nimport U from \"~src/userscript\";\nimport advancedPreferences from \"./preferences/advanced\";\nimport customizeContentPreferences from \"./preferences/customize-content\";\nimport editModePreferences from \"./preferences/edit-mode\";\nimport editingToolsPreferences from \"./preferences/editing-tools\";\nimport forumThreadsPreferences from \"./preferences/forum-threads\";\nimport generalPreferences from \"./preferences/general\";\nimport interestsPreferences from \"./preferences/interests\";\nimport keyboardPreferences from \"./preferences/keyboard\";\nexport const P = {\n    general: {\n        label: T.preferences.general.label,\n        _: generalPreferences,\n    },\n    forum_threads: {\n        label: T.preferences.forum_threads.label,\n        _: forumThreadsPreferences,\n    },\n    edit_mode: {\n        label: T.preferences.edit_mode.label,\n        _: editModePreferences,\n    },\n    editing_tools: {\n        label: T.preferences.editing_tools.label,\n        _: editingToolsPreferences,\n        extras: { id: CONFIG.ID.editingToolsPreferences },\n    },\n    advanced: {\n        label: T.preferences.advanced.label,\n        _: advancedPreferences,\n    },\n    customize_content: {\n        label: T.preferences.customize_content.label,\n        _: customizeContentPreferences,\n    },\n    keyboard: keyboardPreferences,\n    interests: {\n        label: T.preferences.interests.label,\n        _: interestsPreferences,\n    },\n};\nexport const responseHandler = subscriptable(loggingResponseHandler);\nexport const Preferences = new PreferenceManager(P, U.id + \"-preference-\", responseHandler.handler);\n","import * as SITE from \"~src/site\";\nconst C = SITE.CLASS;\nconst settingsNavigation = `ul.${C.settingsNavigation}`;\nconst actionButtons = `button[name=action]`;\nconst actionButtonsQuickReply = `#quickreply .controls button`;\nconst forumPostContainer = \".\" + SITE.CLASS.forumPosts;\nconst signoutButton = `a[href=\"${SITE.PATH.SIGNOUT}\"]`;\nconst textareaToolbarInner = `form .toolbar .tbInner`;\nexport default {\n    textarea: \"textarea[name=message]\",\n    textareaToolbarInner,\n    textareaToolbarStrikeButton: textareaToolbarInner + ` .strike`,\n    textareaToolbarUnorderedListButton: textareaToolbarInner + ` .ul`,\n    proofDialogTextarea: `.${SITE.CLASS.proofDialog} textarea`,\n    threadTitle: `h1`,\n    moreArticles: `.mainContent ~ .mainContent`,\n    settingsNavigation,\n    actionButtons,\n    quoteButton: \"a.button.quote\",\n    previewButton: actionButtons + `[value=${SITE.FORM.value.preview}]`,\n    saveButton: actionButtons + `[value=${SITE.FORM.value.submit}]`,\n    saveButtonQuickReply: actionButtonsQuickReply + `:nth-of-type(1)`,\n    previewButtonQuickReply: actionButtonsQuickReply + `:nth-of-type(2)`,\n    forumPostContainer,\n    replyButtonAfterForumPosts: `${forumPostContainer} ~ * .replyToThread`,\n    cityInput: `input[name=\"city\"]`,\n    regionSelect: `select[name=\"location\"]`,\n    sideColumnGuides: `.videoPush.${C.sideBox}`,\n    sideColumnPopularGalleries: `.popularGalleries.${C.sideBox}`,\n    bbParagraph: `.bbParagraph`,\n    forumLink: `.subForums td:first-child > * a[href^=\"/forum/\"]`,\n    forumPost: \".\" + SITE.CLASS.forumPost,\n    forumPostAuthorLink: `a.name[itemprop=\"author\"]`,\n    linkedForumPost: `.` + SITE.CLASS.forumPost + `.is-linked`,\n    pageNavigationAfterForumPosts: `${forumPostContainer} ~ * .pages`,\n    quickReplyForm: `#quickreply form`,\n    signoutButton,\n    signinButtonOr: (selector) => `a[href=\"${SITE.PATH.SIGNIN}\"], ${selector}`,\n    followedThreadsLinkText: `#${SITE.ID.header} a[href=\"${SITE.PATH.FOLLOWED}\"] span`,\n    proofDialogCloseButton: \".\" + SITE.CLASS.proofDialog + \" .cntClose\",\n};\n","import * as Storage from \"ts-storage\";\nimport * as CONFIG from \"~src/config\";\nimport * as T from \"~src/text\";\nexport default (e) => {\n    const saveButton = e.saveButton; // Selector should ensure this.\n    const checkbox = document.createElement(\"input\");\n    checkbox.type = \"checkbox\";\n    const label = document.createElement(\"label\");\n    label.classList.add(CONFIG.CLASS.checkbox);\n    label.title = T.general.draft_mode_toggle_tooltip;\n    label.appendChild(checkbox);\n    const text = document.createTextNode(T.general.draft_mode_toggle_label);\n    label.appendChild(text);\n    const response = Storage.get_session(CONFIG.KEY.draft_mode, false);\n    if (![\"ABSENT\" /* ABSENT */, \"OK\" /* OK */].includes(response.status)) {\n        return `Could not read draft mode state (error type: ${response.status}).`;\n    }\n    const draftModeEnabled = response.value;\n    checkbox.checked = draftModeEnabled;\n    checkbox.addEventListener(\"change\", toggle(checkbox, saveButton));\n    (e.previewButton).insertAdjacentElement(\"afterend\", label);\n    apply(draftModeEnabled, saveButton);\n};\nfunction toggle(checkbox, saveButton) {\n    return _ => {\n        const draftModeEnabled = checkbox.checked;\n        Storage.set_session(CONFIG.KEY.draft_mode, draftModeEnabled);\n        apply(draftModeEnabled, saveButton);\n    };\n}\nfunction apply(draftModeEnabled, saveButton) {\n    saveButton.disabled = draftModeEnabled;\n    saveButton.title = draftModeEnabled ? T.general.draft_mode_enabled_tooltip : \"\";\n}\n","import { compose } from \"@typed/compose\";\nimport classNames from \"classnames\";\nimport { h } from \"preact\";\nimport * as CONFIG from \"~src/config\";\nimport { insertAfter, insertBefore, renderIn } from \"~src/operations/logic/render\";\nimport { P, Preferences } from \"~src/preferences\";\nimport * as SITE from \"~src/site\";\nimport * as T from \"~src/text\";\nimport { BUTTON, BUTTONS, COLORS, colorButton, insertButton, smileyButton, tagButton } from \"./logic/editing-tools\";\nimport { SMILEYS } from \"./logic/smileys\";\nexport default (undoSupport) => (e) => {\n    const textarea = e.textarea;\n    const position = Preferences.get(P.editing_tools._.position);\n    const insertBeforeOrAfter = position === \"above\" /* ABOVE */ ? insertBefore : insertAfter;\n    const textareaParent = textarea.parentElement;\n    renderIn(textareaParent, insertBeforeOrAfter(textarea), (h(EditingTools, { textarea: textarea, config: getEditingToolsConfig(), undoSupport: undoSupport })));\n};\n// Needs to be a function because it's used \"live\" in the preferences menu:\nexport function getEditingToolsConfig() {\n    return {\n        special_characters: Preferences.get(P.editing_tools._.special_characters),\n        meta: Preferences.get(P.editing_tools._.meta),\n        code: Preferences.get(P.editing_tools._.code),\n        math: Preferences.get(P.editing_tools._.math),\n        whitespace: Preferences.get(P.editing_tools._.whitespace),\n        definitions: Preferences.get(P.editing_tools._.definitions),\n        embed: Preferences.get(P.editing_tools._.embed),\n        doge: Preferences.get(P.editing_tools._.doge),\n        color_palette: Preferences.get(P.editing_tools._.color_palette),\n        smileys: Preferences.get(P.editing_tools._.smileys),\n    };\n}\nexport function EditingTools(props) {\n    // A \"connected\" button has been connected to the textarea.\n    const connected = (b) => b(props.textarea, props.undoSupport);\n    const connectedTagButton = compose(connected, tagButton);\n    const connectedInsertButton = compose(connected, insertButton);\n    const connectedColorButton = compose(connected, colorButton);\n    const connectedSmileyButton = compose(connected, smileyButton);\n    return (h(\"div\", { id: CONFIG.ID.editingTools, class: classNames(CONFIG.CLASS.editingTools, { [CONFIG.CLASS.disabled]: props.disabled }, SITE.CLASS.bbcode) },\n        props.config.special_characters ? (h(\"fieldset\", null, T.special_characters.map(connectedInsertButton))) : null,\n        connectedTagButton({ tag: SITE.TAG.size, label: T.editing_tools.size_label, tooltip: T.editing_tools.size_tooltip, parameterized: true }),\n        connectedTagButton({ tag: SITE.TAG.color, parameterized: true, tooltip: T.editing_tools.color_tooltip, class: CONFIG.CLASS.button_color }),\n        connectedTagButton({ tag: SITE.TAG.font, tooltip: T.editing_tools.font_tooltip, parameterized: true }),\n        connectedTagButton({ tag: SITE.TAG.mark, label: T.editing_tools.mark_label, tooltip: T.editing_tools.mark_tooltip }),\n        connectedTagButton({ tag: SITE.TAG.abbr, label: T.editing_tools.abbr_label, parameterized: true, tooltip: T.editing_tools.abbr_tooltip }),\n        connected(BUTTON.quote),\n        connected(BUTTON.splitQuote),\n        connectedTagButton({ tag: SITE.TAG.bq, label: \"\", tooltip: T.editing_tools.bq_tooltip, block: true, icon: { type: \"RAW\", image: CONFIG.ICONS.BLOCKQUOTE }, class: CONFIG.CLASS.button_blockquote }),\n        connected(BUTTON.expander),\n        connectedTagButton({ tag: SITE.TAG.spoiler, tooltip: T.editing_tools.spoiler_tooltip, block: true, class: CONFIG.CLASS.button_spoiler }),\n        connectedInsertButton({ insert: CONFIG.CONTENT.edit, tooltip: T.editing_tools.edit_tooltip, label: T.editing_tools.edit_label }),\n        props.config.meta ? BUTTONS.meta.map(connected) : [],\n        props.config.code ? BUTTONS.code.map(connected) : [],\n        props.config.math ? BUTTONS.math.map(connected) : [],\n        props.config.whitespace ? BUTTONS.whitespace.map(connected) : [],\n        props.config.definitions ? BUTTONS.definitions.map(connected) : [],\n        props.config.embed ? BUTTONS.embed(Preferences.get(P.editing_tools._.search_engine)).map(connected) : [],\n        props.config.doge ? BUTTONS.doge.map(connected) : [],\n        props.config.color_palette ? (h(\"fieldset\", { class: CONFIG.CLASS.colorPalette }, COLORS.map(connectedColorButton))) : null,\n        props.config.smileys ? (h(\"fieldset\", { class: CONFIG.CLASS.smileys }, SMILEYS.map(connectedSmileyButton))) : null));\n}\n","import { insertAtTheEnd, renderIn } from \"~src/operations/logic/render\";\nimport * as SITE from \"~src/site\";\nimport * as T from \"~src/text\";\nimport { toolbarButton } from \"./logic/editing-tools\";\nimport { wrap_tag } from \"./logic/textarea\";\nexport default (undoSupport) => (e) => {\n    const parent = e.strikeButton.parentElement;\n    renderIn(parent, insertAtTheEnd, (headingToolbarButton(e.textarea, undoSupport)));\n};\nconst headingToolbarButton = toolbarButton({\n    action: wrap_tag({ tag: SITE.TAG.h, parameterized: false, block: false }),\n    class: SITE.CLASS.toolbarHeadingButton,\n    tooltip: T.general.tooltip_h,\n    style: \"background: none;\",\n});\n","import * as BB from \"bbcode-tags\";\nimport { lines, unlines } from \"lines-unlines\";\nimport { is } from \"ts-type-guards\";\nimport { log } from \"userscripter\";\nimport { insertIn, selectRangeIn, selectedTextIn } from \"~src/operations/logic/textarea\";\nimport SELECTOR from \"~src/selectors\";\nimport * as SITE from \"~src/site\";\nimport * as T from \"~src/text\";\nexport default (undoSupport) => () => {\n    /*\n    This operation must run \"early\" (before DOMContentLoaded), because otherwise it can't override the default action for the URL button.\n    However, it should not run _too_ early, because it fails if SweClockers' script hasn't yet defined Beta.\n\n    I haven't managed to make this operation work at all in Firefox; the default action is just not overridden.\n    */\n    try { // If SweClockers change their \"API\", we want to fail gracefully.\n        Beta.Forms.Toolbar.Buttons.HyperlinkButton.prototype.insertTemplate = () => {\n            const textarea = document.querySelector(SELECTOR.textarea);\n            if (!is(HTMLTextAreaElement)(textarea)) {\n                log.error(`Could not find textarea.`);\n                return;\n            }\n            const selectedText = selectedTextIn(textarea);\n            const selectedLines = lines(selectedText);\n            if (selectedLines.length > 1) {\n                // Multiline mode (closely resembling SweClockers' native behavior).\n                let n; // Lets us short-circuit with undo support.\n                if (undoSupport || (n = confirmationNeeded(selectedLines), n === false) || confirm(T.general.generic_lines_confirm(n))) {\n                    const formattedLines = selectedLines.map(line => (Taiga.Strings.sprintf(BB.start(SITE.TAG.url) + \"%s\" + BB.end(SITE.TAG.url), Taiga.Strings.trim(line))));\n                    insertIn(textarea, {\n                        string: unlines(formattedLines),\n                        replace: true,\n                    });\n                }\n            }\n            else {\n                const suggestedLinkUrl = isUrlLike(selectedText) ? selectedText : \"\"; // Same behavior as SweClockers.\n                const suggestedLinkText = selectedText;\n                const providedLinkUrl = prompt(T.general.improved_url_button_url, suggestedLinkUrl);\n                if (providedLinkUrl === null) {\n                    return; // Canceling altogether if the user cancels the prompt feels intuitive.\n                }\n                const providedLinkText = prompt(T.general.improved_url_button_text, suggestedLinkText);\n                if (providedLinkText === null) {\n                    return; // Canceling altogether if the user cancels the prompt feels intuitive.\n                }\n                const finalLinkUrl = providedLinkUrl;\n                const finalLinkText = providedLinkText === \"\" ? finalLinkUrl : providedLinkText;\n                const selectionStart = textarea.selectionStart; // Must be calculated before any modification is made.\n                const startTag = BB.start(SITE.TAG.url, finalLinkUrl);\n                // We _could_ just wrap if the final link text equals the selectedText text, but AFAICT it wouldn't give us any benefits versus inserting and then selecting.\n                insertIn(textarea, {\n                    string: startTag + finalLinkText + BB.end(SITE.TAG.url),\n                    replace: true,\n                });\n                const newSelectionStart = selectionStart + startTag.length;\n                const newSelectionEnd = newSelectionStart + finalLinkText.length;\n                selectRangeIn(textarea, newSelectionStart, newSelectionEnd);\n            }\n        };\n    }\n    catch (err) {\n        return err.toString(); // String conversion is necessary for the error to be handled properly by Userscripter.\n    }\n};\n// A heuristic intended to catch cases when the user likely didn't mean to format links and/or it would be cumbersome to restore the change without undo support.\nfunction confirmationNeeded(selectedLines) {\n    return (selectedLines.length > 5 && !selectedLines.every(isUrlLike)\n        ? selectedLines.length\n        : false);\n}\nfunction isUrlLike(s) {\n    // The regex is copied from SweClockers.\n    return /^([a-z]+:\\/\\/|www\\.)/i.test(s);\n}\n","import * as SITE from \"~src/site\";\nimport { withMaybe } from \"~src/utilities\";\nexport default (e) => {\n    e.correctionsLink.addEventListener(\"click\", event => {\n        withMaybe(document.querySelector(\".\" + SITE.CLASS.proofDialog), proofDialog => {\n            event.stopImmediatePropagation();\n            const textarea = proofDialog.querySelector(\"textarea\");\n            if (textarea instanceof HTMLElement) {\n                textarea.focus();\n            }\n        });\n    }, true);\n};\n","import SELECTOR from \"~src/selectors\";\nimport * as SITE from \"~src/site\";\nimport { withMaybe } from \"~src/utilities\";\n// mousedown because it must be guaranteed to fire before beforeunload:\nexport const BUTTON_CLICK_EVENT = \"mousedown\";\n// I prefer this to fiddling with event listeners:\nlet shouldPreventUnload = false;\nexport function postOrMessage(e) {\n    // We need to prevent unload if the user has modified the content of the\n    // textarea or if they came here by clicking the preview button.\n    window.addEventListener(\"beforeunload\", handleBeforeUnload);\n    const textarea = e.textarea;\n    const changeListener = () => {\n        enableListener();\n        textarea.removeEventListener(\"input\", changeListener);\n    };\n    textarea.addEventListener(\"input\", changeListener);\n    for (const button of document.querySelectorAll(SELECTOR.actionButtons)) {\n        button.addEventListener(BUTTON_CLICK_EVENT, disableListener);\n    }\n    // If a post preview exists, then the user came here by previewing, so there\n    // is information to be lost even before they have touched the textarea:\n    withMaybe(document.getElementById(SITE.ID.postPreview), enableListener);\n}\nexport function corrections() {\n    // This function cannot take the corrections textarea as part of its `e`\n    // parameter, because said textarea does not exist until user requests it.\n    // We will prevent unload if the textarea exists and has some content; that\n    // should be good enough.\n    window.addEventListener(\"beforeunload\", event => {\n        const textarea = document.querySelector(`.${SITE.CLASS.proofDialog} textarea`);\n        // If the correction has been submitted, the textarea is not visible\n        // anymore because one of its ancestors has display: none, in which case\n        // textarea.offsetParent === null.\n        if (textarea !== null && textarea.value !== \"\" && textarea.offsetParent !== null) {\n            preventUnload(event);\n        }\n    });\n}\nfunction handleBeforeUnload(event) {\n    if (shouldPreventUnload)\n        preventUnload(event);\n}\nfunction preventUnload(event) {\n    event.preventDefault();\n    return event.returnValue = true;\n}\nfunction enableListener() {\n    shouldPreventUnload = true;\n}\nfunction disableListener() {\n    shouldPreventUnload = false;\n}\n","import { BUTTON_CLICK_EVENT } from \"~src/operations/prevent-accidental-unload\";\nexport function clickOn(element) {\n    // Prevent accidental unload listens for these events:\n    element.dispatchEvent(new Event(BUTTON_CLICK_EVENT));\n    // click() is necessary for the button to be triggered; dispatching\n    // mousedown and then mouseup is not.\n    element.click();\n}\n","import * as Mousetrap from \"mousetrap\";\nimport { Action } from \"~src/actions\";\nimport { clickOn } from \"~src/operations/logic/click\";\nimport { P, Preferences } from \"~src/preferences\";\nimport * as SITE from \"~src/site\";\nimport { insertIn, wrap_tag } from \"../logic/textarea\";\nconst keyboardShortcuts = Preferences.get(P.keyboard);\nexport function submit(e) {\n    bindKeyboardShortcut(Action.SUBMIT, _ => clickOn(e.saveButton), { preventDefault: true });\n}\nexport function preview(e) {\n    bindKeyboardShortcut(Action.PREVIEW, _ => clickOn(e.previewButton), { preventDefault: true });\n}\nexport const insertLink = (undoSupport) => (e) => {\n    bindKeyboardShortcut(Action.INSERT_LINK, _ => wrap_tag({ tag: SITE.TAG.url, parameterized: true, block: false })(e.textarea, undoSupport), { preventDefault: true });\n};\nexport const insertTab = (content, undoSupport) => (e) => {\n    bindKeyboardShortcut(Action.INSERT_TAB, event => {\n        if (document.activeElement === e.textarea) {\n            event.preventDefault();\n            insertIn(e.textarea, { string: content, replace: undoSupport });\n        }\n    }, { preventDefault: false });\n};\nfunction bindKeyboardShortcut(action, handler, options) {\n    for (const entry of keyboardShortcuts) {\n        if (entry.action === action) {\n            Mousetrap.bind(entry.shortcut, event => {\n                if (options.preventDefault) {\n                    event.preventDefault();\n                }\n                handler(event);\n            });\n        }\n    }\n}\n","import { h } from \"preact\";\nimport { insertAtTheEnd, renderIn } from \"~src/operations/logic/render\";\nimport * as SITE from \"~src/site\";\nimport * as T from \"~src/text\";\nexport default (e) => {\n    renderIn(e.parent, insertAtTheEnd, (h(\"a\", { href: \"javascript:window.scrollTo(0, 0)\", title: T.general.link_to_top_tooltip },\n        h(\"svg\", { class: SITE.CLASS.icon, style: \"transform: rotate(-90deg);\" },\n            h(\"use\", { xlinkHref: \"/gfx/iconmap.svg?v=20221125#icon_double_arrow_right\" })))));\n};\n","export function mention(username) {\n    // It's non-trivial to write a sound and complete predicate that decides whether a username needs quotes or not.\n    // One complicating factor is that some disallowed usernames have been allowed before (e.g. \"simon.alling\").\n    // To avoid having to deal with this, we'll just always add quotes.\n    return `@\"${username}\"`;\n}\n","import unique from \"array-uniq\";\nimport { h } from \"preact\";\nimport * as CONFIG from \"~src/config\";\nimport { mention } from \"~src/operations/edit-mode\";\nimport { insertBefore, renderIn } from \"~src/operations/logic/render\";\nimport SELECTOR from \"~src/selectors\";\nimport * as SITE from \"~src/site\";\nimport * as T from \"~src/text\";\nexport default (e) => {\n    const button = mentionEveryoneButton({\n        message: usersToMention(e.forumPostContainer).map(mention).join(\" \"),\n        replyURL: e.quickReplyForm.getAttribute(\"action\") || \"\",\n        csrf: session.getCsrfToken(),\n    });\n    if (document.querySelector(`${SELECTOR.forumPost} ${SELECTOR.forumPostAuthorLink}`) === null) {\n        // Broken thread participant detection.\n        return \"Could not detect thread participants\";\n    }\n    renderIn(e.replyButton.parentElement, insertBefore(e.replyButton), button);\n};\nfunction usersToMention(forumPostContainer) {\n    const postBySomeoneElse = SELECTOR.forumPost + `:not(.${SITE.CLASS.forumPostByCurrentUser})`;\n    const selector = `${postBySomeoneElse} ${SELECTOR.forumPostAuthorLink}`;\n    const nameLinks = Array.from(forumPostContainer.querySelectorAll(selector));\n    return unique(nameLinks.map(e => e.textContent.trim()));\n}\nfunction mentionEveryoneButton(props) {\n    return (h(\"form\", { method: \"POST\", action: props.replyURL, class: CONFIG.CLASS.mentionEveryoneButton },\n        h(\"input\", { name: SITE.FORM.name.message, type: \"hidden\", value: props.message }),\n        h(\"input\", { name: SITE.FORM.name.csrfToken, type: \"hidden\", value: props.csrf }),\n        h(\"input\", { name: SITE.FORM.name.action, type: \"hidden\", value: SITE.FORM.value.preview }),\n        h(\"button\", { type: \"submit\", class: SITE.CLASS.button, title: T.general.mention_everyone_tooltip }, T.general.mention_everyone_label)));\n}\n","import { isBoolean, isNumber, isString, isSymbol, isNull, isUndefined, isPrimitive, isNonPrimitive, is, isLike } from \"./is\";\nexport function onlyBooleans(xs) {\n    return xs.filter(isBoolean);\n}\nexport function onlyNumbers(xs) {\n    return xs.filter(isNumber);\n}\nexport function onlyStrings(xs) {\n    return xs.filter(isString);\n}\nexport function onlySymbols(xs) {\n    return xs.filter(isSymbol);\n}\nexport function onlyNulls(xs) {\n    return xs.filter(isNull);\n}\nexport function onlyUndefineds(xs) {\n    return xs.filter(isUndefined);\n}\nexport function onlyPrimitives(xs) {\n    return xs.filter(isPrimitive);\n}\nexport function onlyObjects(xs) {\n    return xs.filter(isNonPrimitive);\n}\nexport function only(type) {\n    return (xs) => xs.filter(is(type));\n}\nexport function onlyLike(reference) {\n    return (xs) => xs.filter(isLike(reference));\n}\n//# sourceMappingURL=only.js.map","import * as BB from \"bbcode-tags\";\nimport { Fragment, h } from \"preact\";\nimport { isString, only } from \"ts-type-guards\";\nimport { log } from \"userscripter\";\nimport * as CONFIG from \"~src/config\";\nimport ICON from \"~src/icons/pm.svg\";\nimport { insertAtTheEnd, renderIn } from \"~src/operations/logic/render\";\nimport SELECTOR from \"~src/selectors\";\nimport * as SITE from \"~src/site\";\nimport * as T from \"~src/text\";\nimport { assertExhausted, r } from \"~src/utilities\";\nexport default () => {\n    var _a, _b;\n    const forumPosts = document.getElementsByClassName(SITE.CLASS.forumPost);\n    const user = SITE.getUserInfo();\n    switch (user.tag) {\n        case \"CouldNotExtract\": return couldNotExtract(\"logged-in status and/or user ID\");\n        case \"NotLoggedIn\": return; // No error; there's just nothing to do if the user is not logged in.\n        case \"LoggedIn\": break;\n        default: assertExhausted(user);\n    }\n    const ourUserID = user.userID;\n    const threadTitle = (_a = document.querySelector(SELECTOR.threadTitle)) === null || _a === void 0 ? void 0 : _a.textContent;\n    if (!isString(threadTitle)) {\n        return couldNotExtract(\"thread title\");\n    }\n    for (const post of only(HTMLElement)(Array.from(forumPosts))) {\n        try {\n            const profileDetails = post.querySelector(\".\" + SITE.CLASS.forumPostProfileDetails);\n            const quoteButton = post.querySelector(SELECTOR.quoteButton);\n            const authorName = (_b = post.querySelector(SELECTOR.forumPostAuthorLink)) === null || _b === void 0 ? void 0 : _b.textContent;\n            if (!isString(authorName))\n                return couldNotExtractFromPost(\"author name\", post.id);\n            if (profileDetails === null)\n                return couldNotExtractFromPost(\"profile details\", post.id);\n            if (quoteButton === null)\n                return couldNotExtractFromPost(\"quote button\", post.id);\n            renderIn(profileDetails, insertAtTheEnd, (h(\"button\", { dangerouslySetInnerHTML: { __html: ICON + T.general.pm_link_label }, onClick: () => {\n                    fetch(quoteButton.href, { credentials: \"same-origin\" }) // https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/fetch#Parameters\n                        .then(response => response.text())\n                        .then(responseContent => {\n                        const responseDocument = new DOMParser().parseFromString(responseContent, \"text/html\");\n                        const quoteTextarea = responseDocument.querySelector(\"textarea\");\n                        if (quoteTextarea === null) {\n                            throw couldNotExtract(\"textarea from fetch response\");\n                        }\n                        const form = document.createElement(\"form\");\n                        form.hidden = true;\n                        form.method = \"post\";\n                        form.action = SITE.PATH.newPrivateMessage(ourUserID);\n                        renderIn(form, insertAtTheEnd, (h(Fragment, null,\n                            h(\"input\", { name: SITE.FORM.name.recipients, value: authorName }),\n                            h(\"input\", { name: SITE.FORM.name.title, value: threadTitle }),\n                            h(\"input\", { name: SITE.FORM.name.csrfToken, value: session.getCsrfToken() }),\n                            h(\"input\", { name: SITE.FORM.name.action, value: \"doPreview\" }),\n                            h(\"textarea\", { name: SITE.FORM.name.message }, withLinksInsteadOfPostIDs(quoteTextarea.textContent || \"\")))));\n                        profileDetails.appendChild(form); // Otherwise: \"Form submission canceled because the form is not connected\"\n                        form.submit();\n                    })\n                        .catch(log.error);\n                }, class: [SITE.CLASS.button, CONFIG.CLASS.iconButton, CONFIG.CLASS.pmButton].join(\" \") })));\n        }\n        catch (err) {\n            return err;\n        }\n    }\n};\n/*\nThe generated quote BBCode, when used in a PM, creates a link to a PM, but we want to link to a forum post.\nSo we need to transform\n\n    [quote postid=\"123456\" ...]\n    Message\n    [/quote]\n\ninto\n\n    [quote ...]\n    Message\n\n    [url=\"/forum/post/123456\"]G till inlgget[/url]\n    [/quote]\n\nNote that the input may contain multiple quotes.\n*/\nconst REGEX_GENERATED_QUOTE = new RegExp([\n    // NB: The capture groups here are used below to assemble the adjusted BBCode.\n    r `^(\\[${SITE.TAG.quote}) postid=\"(\\d+)\"( userid=\"\\d+\" name=\"[^\"]+\"\\])$`,\n    r `([\\s\\S]*?)`,\n    r `^(\\[/${SITE.TAG.quote}\\])$`,\n].join(\"\"), \"gm\"); // \"s\" didn't work for me to match newlines using \".\".\nfunction withLinksInsteadOfPostIDs(raw) {\n    return raw.replace(REGEX_GENERATED_QUOTE, [\n        \"$1$3\",\n        \"$4\",\n        \"\\n\" + linkToForumPost(\"$2\") + \"\\n\",\n        \"$5\",\n    ].join(\"\"));\n}\nfunction linkToForumPost(id) {\n    return [\n        BB.start(SITE.TAG.url, SITE.PATH.forumPost(id)),\n        BB.start(SITE.TAG.b),\n        T.general.go_to_post,\n        BB.end(SITE.TAG.b),\n        BB.end(SITE.TAG.url),\n    ].join(\"\");\n}\nfunction couldNotExtract(what) {\n    return `Could not extract ${what}.`;\n}\nfunction couldNotExtractFromPost(what, htmlId) {\n    return couldNotExtract(`${what} from post with id=\"${htmlId}\"`);\n}\n","import { NumericPreference } from \"./NumericPreference\";\r\nexport class DoublePreference extends NumericPreference {\r\n    getClassName() { return \"DoublePreference\"; }\r\n    static parse(s) {\r\n        const parsed = parseFloat(s);\r\n        return (Number.isNaN(parsed)\r\n            ? `\"${s}\" is not a number.`\r\n            : { value: parsed });\r\n    }\r\n    fromString(s) {\r\n        return NumericPreference.postParse(this, DoublePreference.parse(s));\r\n    }\r\n}\r\n//# sourceMappingURL=DoublePreference.js.map","import { DoublePreference } from \"./DoublePreference\";\r\nimport { NumericPreference } from \"./NumericPreference\";\r\nimport { RangePreference } from \"./RangePreference\";\r\nexport class DoubleRangePreference extends RangePreference {\r\n    getClassName() { return \"DoubleRangePreference\"; }\r\n    fromString(s) {\r\n        return NumericPreference.postParse(this, DoublePreference.parse(s));\r\n    }\r\n}\r\n//# sourceMappingURL=DoubleRangePreference.js.map","import classNames from \"classnames\";\nimport { Component, h } from \"preact\";\nimport { BooleanPreference, DoublePreference, DoubleRangePreference, IntegerPreference, IntegerRangePreference, ListPreference, MultichoicePreference, Preference, StringPreference, } from \"ts-preferences\";\nimport { is, isNull, isString, only } from \"ts-type-guards\";\nimport { log } from \"userscripter\";\nimport * as CONFIG from \"~src/config\";\nimport { EditingTools, getEditingToolsConfig } from \"~src/operations/editing-tools\";\nimport { P, Preferences, responseHandler } from \"~src/preferences\";\nimport SELECTOR from \"~src/selectors\";\nimport * as SITE from \"~src/site\";\nimport * as T from \"~src/text\";\nconst PID = (p) => CONFIG.ID.preferenceIdPrefix + p.key;\nconst RANGE_MAX_STEP = 0.1;\nconst RANGE_MIN_NUMBER_OF_STEPS = 100;\nexport const GENERATORS = {\n    Boolean: Generator_Boolean,\n    String: Generator_String,\n    Integer: Generator_Integer,\n    Double: Generator_Double,\n    IntegerRange: Generator_IntegerRange,\n    DoubleRange: Generator_DoubleRange,\n    Multichoice: Generator_Multichoice,\n};\nfunction fromStringEventHandler(p) {\n    return (e) => {\n        const parsed = p.fromString(e.target.value);\n        if (isString(parsed)) {\n            log.warning(parsed);\n        }\n        else {\n            Preferences.set(p, parsed.value);\n        }\n    };\n}\nexport class PreferencesForm extends Component {\n    render() {\n        return (h(\"form\", { id: CONFIG.USERSCRIPT_ID },\n            h(\"header\", null,\n                h(\"a\", { href: document.referrer || \"/\", title: T.preferences._.back_to_sweclockers },\n                    h(\"img\", { src: CONFIG.URL_LOGO, alt: CONFIG.USERSCRIPT_NAME }))),\n            Entries(GENERATORS, P),\n            h(\"footer\", null,\n                h(\"p\", null, T.preferences._.save_notice),\n                h(\"p\", null,\n                    h(\"a\", { href: document.referrer || \"/\", title: T.preferences._.back_to_sweclockers }, T.preferences._.back_to_sweclockers)))));\n    }\n    componentDidMount() {\n        // The listener can't be a method, because then `this` is undefined in it.\n        responseHandler.subscribe(() => {\n            this.forceUpdate();\n        });\n    }\n}\nfunction Entries(generators, ps) {\n    return Object.keys(ps).map(k => Entry(generators, ps[k]));\n}\nfunction Entry(generators, p) {\n    return (p instanceof Preference\n        ? (p.extras.implicit // should not be part of the preferences menu\n            ? null\n            : (h(\"div\", { class: classNames(CONFIG.CLASS.preference, p.extras.class), title: p.description },\n                InputElement(generators, p),\n                isString(p.extras.suffix) ? h(HtmlLabel, { for: PID(p), html: p.extras.suffix }) : null,\n                p.extras.more !== undefined\n                    ? h(\"aside\", { dangerouslySetInnerHTML: { __html: p.extras.more } })\n                    : null))) : (h(\"fieldset\", { class: SITE.CLASS.fieldset },\n        h(HtmlLegend, { html: p.label }),\n        Entries(generators, p._),\n        p.extras && p.extras.id === CONFIG.ID.editingToolsPreferences\n            ? h(EditingTools, { textarea: document.createElement(\"textarea\"), config: getEditingToolsConfig(), disabled: !Preferences.get(P.editing_tools._.enable), undoSupport: Preferences.get(P.advanced._.undo_support) })\n            : null)));\n}\nfunction InputElement(generators, p) {\n    // Order can be super-important here due to the semantics of instanceof with respect to subclasses.\n    if (is(BooleanPreference)(p)) {\n        return generators.Boolean(p);\n    }\n    if (is(StringPreference)(p)) {\n        return generators.String(p);\n    }\n    if (is(IntegerPreference)(p)) {\n        return generators.Integer(p);\n    }\n    if (is(DoublePreference)(p)) {\n        return generators.Double(p);\n    }\n    if (is(IntegerRangePreference)(p)) {\n        return generators.IntegerRange(p);\n    }\n    if (is(DoubleRangePreference)(p)) {\n        return generators.DoubleRange(p);\n    }\n    if (is(MultichoicePreference)(p)) {\n        return generators.Multichoice(p);\n    }\n    if (is(ListPreference)(p) && p === P.interests._.uninteresting_subforums) {\n        return h(Interests, { p: p });\n    }\n    throw new Error(`Unsupported preference: ${p}`); // This kills the entire preferences GUI, so we have a test catching it.\n}\nfunction Generator_Boolean(p) {\n    return LabeledInput(h(\"input\", { type: \"checkbox\", id: PID(p), checked: Preferences.get(p), onChange: e => {\n            Preferences.set(p, e.target.checked);\n        } }), p.label);\n}\nfunction Generator_String(p) {\n    return (p.label === T.preferences._.NO_LABEL ? [] : [h(PreferenceLabel, { preference: p })]).concat([\n        (p.multiline\n            ?\n                h(\"textarea\", { id: PID(p), value: Preferences.get(p), onChange: fromStringEventHandler(p) })\n            :\n                h(\"input\", { type: \"text\", id: PID(p), value: Preferences.get(p), onChange: fromStringEventHandler(p) })),\n    ]);\n}\nfunction Generator_Integer(p) {\n    return [\n        h(PreferenceLabel, { preference: p }),\n        h(\"input\", { type: \"number\", id: PID(p), value: Preferences.get(p).toString(), onChange: fromStringEventHandler(p) }),\n    ];\n}\nfunction Generator_Double(p) {\n    return [\n        h(PreferenceLabel, { preference: p }),\n        h(\"input\", { type: \"number\", id: PID(p), value: Preferences.get(p).toString(), step: RANGE_MAX_STEP, onChange: fromStringEventHandler(p) }),\n    ];\n}\nfunction Generator_IntegerRange(p) {\n    return [\n        h(PreferenceLabel, { preference: p }),\n        h(\"input\", { type: \"number\", id: PID(p), value: Preferences.get(p).toString(), min: p.min, max: p.max, onChange: fromStringEventHandler(p) }),\n    ];\n}\nfunction Generator_DoubleRange(p) {\n    return [\n        h(PreferenceLabel, { preference: p }),\n        h(\"input\", { type: \"number\", id: PID(p), value: Preferences.get(p).toString(), min: p.min, max: p.max, step: stepSize(p.min, p.max).toString(), onChange: fromStringEventHandler(p) }),\n    ];\n}\nfunction stepSize(min, max) {\n    return Math.min(RANGE_MAX_STEP, Math.pow(10, Math.floor(Math.log10(max - min))) / RANGE_MIN_NUMBER_OF_STEPS);\n}\nfunction Generator_Multichoice(p) {\n    const MAX_RADIO_BUTTONS = 4;\n    const savedValue = Preferences.get(p);\n    const options = p.options;\n    return options.length <= MAX_RADIO_BUTTONS\n        ? (h(\"fieldset\", { class: CONFIG.CLASS.radioButtonPreference },\n            h(HtmlLabel, { html: p.label }),\n            options.map(option => RadioButton({\n                p: p,\n                label: option.label,\n                value: option.value,\n                checked: option.value === savedValue,\n            })))) : [\n        h(HtmlLabel, { html: p.label }),\n        h(\"select\", { onChange: e => {\n                const index = e.target.selectedIndex;\n                if (index >= 0 && index < options.length) {\n                    Preferences.set(p, options[index].value);\n                }\n            } }, options.map(option => h(\"option\", { selected: option.value === savedValue }, option.label))),\n    ];\n}\nfunction RadioButton({ p, label, value, checked }) {\n    const radioButtonId = PID(p) + \"-\" + label;\n    return LabeledInput(h(\"input\", { type: \"radio\", id: radioButtonId, name: PID(p), checked: checked, onChange: e => {\n            if (e.target.checked) {\n                Preferences.set(p, value);\n            }\n        } }), label);\n}\nfunction LabeledInput(input, label) {\n    return (\n    // Cannot use HtmlLabel because we want to have the <input> inside the <label> to avoid a line break between them.\n    h(\"label\", { class: CONFIG.CLASS.labeledInput },\n        input,\n        h(\"span\", { dangerouslySetInnerHTML: { __html: label } })));\n}\nfunction extractForumLinkData(forumLink) {\n    const match = forumLink.href.match(SITE.PATH.FORUM_CATEGORY);\n    const label = forumLink.textContent;\n    if (isNull(match) || isNull(label)) {\n        return null;\n    }\n    const id = parseInt(match[1]);\n    return {\n        id,\n        name: label,\n        isSubforum: forumLink.parentElement.classList.contains(SITE.CLASS.subforums),\n    };\n}\nfunction isDefined(x) {\n    return x !== undefined;\n}\nclass Interests extends Component {\n    constructor() {\n        super(...arguments);\n        this.state = { fetch: { status: \"loading\" } };\n    }\n    componentDidMount() {\n        /*\n        A relative path such as \"/forum\" works in Violentmonkey and Tampermonkey\n        in both Chrome and Firefox, but not in Greasemonkey (Firefox).\n        \"https://\" + SITE.HOSTNAME + path doesn't work in Chrome due to CORS.\n        window.location.origin + path works in all five mentioned scenarios, as\n        well as in Safari on iOS 12.3.\n        */\n        fetch(window.location.origin + SITE.PATH.FORUM)\n            .then(response => response.text())\n            .then(responseContent => {\n            const responseDocument = new DOMParser().parseFromString(responseContent, \"text/html\");\n            const links = responseDocument.querySelectorAll(SELECTOR.forumLink);\n            this.setState({ fetch: {\n                    status: \"success\",\n                    categories: (only(HTMLAnchorElement)(Array.from(links))\n                        .filter(link => SITE.PATH.FORUM_CATEGORY.test(link.href))\n                        .map(forumLink => {\n                        const linkData = extractForumLinkData(forumLink);\n                        if (isNull(linkData)) {\n                            log.error(`Could not extract forum link data from this link:`);\n                            console.error(forumLink);\n                            return undefined;\n                        }\n                        return linkData;\n                    })\n                        .filter(isDefined)),\n                } });\n        }).catch(reason => {\n            log.error(reason);\n            this.setState({ fetch: { status: \"failure\" } });\n        });\n    }\n    render() {\n        const p = this.props.p;\n        const uninteresting = Preferences.get(p);\n        const response = this.state.fetch;\n        switch (response.status) {\n            case \"loading\":\n                return T.general.loading;\n            case \"success\":\n                return (h(\"ul\", { id: CONFIG.ID.interestsPreferences }, response.categories.map(category => {\n                    const id = category.id;\n                    const checkboxId = PID(p) + \"-\" + id;\n                    return (h(\"li\", { class: classNames({ [CONFIG.CLASS.subforum]: category.isSubforum }), key: id },\n                        h(\"input\", { type: \"checkbox\", id: checkboxId, checked: !uninteresting.includes(id), onChange: e => {\n                                const newUninteresting = uninteresting.filter(x => x !== id).concat(e.target.checked ? [] : id);\n                                Preferences.set(p, newUninteresting);\n                            } }),\n                        h(HtmlLabel, { html: category.name, for: checkboxId })));\n                })));\n            case \"failure\":\n                return T.preferences._.failed_to_fetch_categories;\n        }\n    }\n}\nclass PreferenceLabel extends Component {\n    render() {\n        return h(HtmlLabel, { for: PID(this.props.preference), html: this.props.preference.label });\n    }\n}\nclass HtmlLabel extends Component {\n    render() {\n        return h(\"label\", { for: this.props.for, dangerouslySetInnerHTML: { __html: this.props.html } });\n    }\n}\nclass HtmlLegend extends Component {\n    render() {\n        return h(\"legend\", { dangerouslySetInnerHTML: { __html: this.props.html } });\n    }\n}\n","import { h } from \"preact\";\nimport { insertAtTheEnd, renderIn } from \"~src/operations/logic/render\";\nimport { PreferencesForm } from \"~src/preferences-menu\";\nimport * as SITE from \"~src/site\";\nimport * as T from \"~src/text\";\nimport { yyyymmdd } from \"~src/utilities\";\nexport default () => {\n    document.title = T.preferences._.title;\n    document.documentElement.appendChild((() => {\n        const link = document.createElement(\"link\");\n        link.rel = \"stylesheet\";\n        link.href = SITE.STYLESHEET_URL(yyyymmdd(new Date()));\n        return link;\n    })());\n    renderIn(document.body, insertAtTheEnd, h(PreferencesForm, null));\n};\n","export const id = (x) => x;\r\nexport function compose(f, g) {\r\n    return x => f(g(x));\r\n}\r\nexport function fmap(f) {\r\n    return mx => mx === null ? null : f(mx);\r\n}\r\n//# sourceMappingURL=utilities.js.map","import escapeRegex from \"escape-string-regexp\";\r\nimport { fmap, } from \"./utilities\";\r\nexport const NO_INFO = null;\r\nexport function literalRule(core) {\r\n    const literal = fmap(literalRegex);\r\n    return (before, after) => simpleRule(core)(literal(before), literal(after));\r\n}\r\nexport function simpleRule(core) {\r\n    return (before, after) => matchRule(core)(before, literalRegex(core.bad), after);\r\n}\r\nexport function matchRule(core) {\r\n    return (before, match, after) => (Object.assign({ before,\r\n        match,\r\n        after }, core));\r\n}\r\nexport function regexRule(core) {\r\n    return regex => (Object.assign({ before: null, match: regex, after: null }, core));\r\n}\r\nfunction literalRegex(s) {\r\n    return new RegExp(escapeRegex(s));\r\n}\r\n//# sourceMappingURL=rules.js.map","import { literalRule, matchRule, regexRule, simpleRule, } from \"highlight-mistakes\";\nconst DESC_NBSP = {\n    bad: \" \",\n    good: \"\\u00A0\",\n    info: \"hrt mellanslag\",\n};\nconst DESC_NBH = {\n    bad: \"-\",\n    good: \"\",\n    info: \"hrt bindestreck\",\n};\nconst DESC_END = {\n    bad: \"-\",\n    good: \"\",\n    info: \"tankstreck\",\n};\nconst literalNBSP = literalRule(DESC_NBSP);\nconst simpleNBSP = simpleRule(DESC_NBSP);\nconst matchNBSP = matchRule(DESC_NBSP);\nconst regexNBSP = regexRule(DESC_NBSP);\nconst literalNBH = literalRule(DESC_NBH);\nconst simpleNBH = simpleRule(DESC_NBH);\nconst matchNBH = matchRule(DESC_NBH);\nconst regexNBH = regexRule(DESC_NBH);\nconst literalEND = literalRule(DESC_END);\nconst simpleEND = simpleRule(DESC_END);\nconst matchEND = matchRule(DESC_END);\nconst regexEND = regexRule(DESC_END);\nexport const PATTERNS_MISTAKE_NB_SPACE = [\n    /\\d(?: \\d{3})+/,\n    /[A-Z][A-Za-z]+ \\d+\\.\\d+/,\n    /USB Type/,\n    /4K UHD/,\n    /Core i\\d/,\n    /\\d \\d{4}/,\n    /Geforce (?:G|R)TX\\-/,\n    /Ryzen \\d+\\-/,\n    /(?:G|R)TX \\d+(?: Ti)?/,\n    /Vega \\d+/,\n    /R\\d \\d+/,\n    /DVI(?:[-][DI])? DL\\b/,\n    /[^.:]\\u0020[A-Z][a-z]+ \\d{1,3}(?!\\u00A0)\\b/,\n];\nconst NUMBER = /(?:^|[^\\u00A0])\\d(?:\\u00A0\\d{3})*(?:,\\d+)?/;\nconst RULES_NB_SPACE = [\n    simpleNBSP(/[A-Z][A-Za-z]+/, /\\d+\\.\\d+/),\n    simpleNBSP(/\\d/, /(?=\\d{3})/),\n    simpleNBSP(NUMBER, /(?:[nmcdk]|[KMGTP]i?)?(?:s|g|m|Hz|b|bit|B|fps|FPS|V|W|Wh|kr|USD|EUR|C|%|st|dBA?)(?=$|[^\\w])/),\n    simpleNBSP(NUMBER, /(?:nano|mikro|milli|centi|deci|hekto|kilo|mega|giga|tera|peta)?(?:sekund(?:er)?|gram|meter|hertz|bit|byte|tum|bilder|volt|watt|wattimmar|kronor|dollar|euro|procent|stycken|decibel|r)(?:$|[^\\w])/),\n    matchNBSP(/[^:.] [A-Z][a-z]+/, / (?=\\d)/, /\\d{1,3}(?=[.,;: ])/),\n    simpleNBSP(/4K/, /UHD/),\n    simpleNBSP(/USB/, /Type/),\n    simpleNBSP(/Windows/, /95|98|ME|2000|XP|Vista|7|8(?:\\.1)?|10/),\n    simpleNBSP(/PCI/, /Express/),\n    simpleNBSP(/Core/, /i\\d/),\n    simpleNBSP(/\\d/, /\\d{4}/),\n    regexNBSP(/[GR]TX \\d{3,4}(?: Ti)?/),\n    simpleNBSP(/Geforce/, /[GR]TX-/),\n    simpleNBSP(/Ryzen/, /\\d+-/),\n    simpleNBSP(/Vega/, /\\d+/),\n    simpleNBSP(/R\\d/, /\\d+/),\n    simpleNBSP(/DVI(?:[-][DI])?/, /DL/),\n];\nconst RULES_NB_HYPHEN = [\n    simpleNBH(/i\\d/, /\\d{4}/),\n    simpleNBH(/Mini/, /ITX/),\n    simpleNBH(/G/, /Sync/),\n    simpleNBH(/V/, /[Ss]ync/),\n    simpleNBH(/Counter/, /Strike/),\n    simpleNBH(/DVI/, /(?:A|DL?|I)\\b/),\n    simpleNBH(/Type/, /C\\b/),\n    simpleNBH(/DDR\\d/, /\\d/),\n    simpleNBH(/i\\d/, /\\d{4}/),\n    simpleNBH(/[A-Z][a-z]+/, /[A-Z]{1,2}\\b/),\n    matchNBH(/\\d+/, /-\\d+(?:-\\d+)+/, null),\n];\nconst RULES_EN_DASH = [\n    simpleEND(/^/, / /),\n    simpleEND(/(?:^|[^\\d-])\\d{1,3}(?:,\\d+)?/, /\\d+(?:,\\d+)?(?=[^\\d-]|$)/),\n    simpleEND(/(?:^|[^\\d-])\\d{4}/, /\\d{4}(?=[^\\d-]|$)/),\n    simpleEND(/ /, / /),\n];\nexport const PATTERNS_MISTAKE_TIMES = [\n    / x /,\n];\nexport const RULES_TIMES = [\n    simpleRule({ good: \"\", bad: \"x\", info: \"gngertecken\" })(/ /, / /),\n];\nexport const PATTERN_DOPPELGANGERS = /\\u00A0|||/g;\nconst GIBBERISH = \"sahdufhaweafdafda\";\nexport const RULES = ([]\n    .concat([\n    literalRule({\n        bad: \"  \",\n        good: \"\\u00A0\\u00A0\",\n        info: \"hrda mellanslag\",\n    })(null, null),\n])\n    .concat(RULES_NB_SPACE)\n    .concat(RULES_NB_HYPHEN)\n    .concat(RULES_EN_DASH)\n    .concat(RULES_TIMES)\n    .concat([\n    literalRule({\n        bad: GIBBERISH,\n        good: \"\",\n        info: null,\n    })(null, null),\n    literalRule({\n        bad: GIBBERISH,\n        good: \"\",\n        info: null,\n    })(null, null),\n]));\nexport const RULES_SUP = [\n    simpleRule({\n        bad: `2`,\n        good: GIBBERISH,\n        info: \"tecknet  istllet fr en upphjd tva\",\n    })(/^/, /$/),\n    simpleRule({\n        bad: `3`,\n        good: GIBBERISH,\n        info: \"tecknet  istllet fr en upphjd trea\",\n    })(/^/, /$/),\n];\n//# sourceMappingURL=index.js.map","import { compose, id, } from \"./utilities\";\r\nexport const LOOKAROUND_DEFAULT = \"group\";\r\nexport function highlightWith(c) {\r\n    return text => text.replace(c.pattern, c.mark);\r\n}\r\nexport function proofreadWith(c) {\r\n    const transformers = c.rules.map(markMistakesAndVerifiedUsing(Object.assign({ lookaround: c.lookaround || LOOKAROUND_DEFAULT }, c)));\r\n    return transformers.reduceRight(compose, id);\r\n}\r\nexport function markMistakesAndVerifiedUsing(c) {\r\n    return r => compose(markAll(\"verified\", c.markVerified, c.lookaround)(r), markAll(\"mistakes\", c.markMistake, c.lookaround)(r));\r\n}\r\nexport function markAll(kind, mark, lookaround) {\r\n    return r => {\r\n        const before = r.before === null ? \"\" : r.before.source;\r\n        const after = r.after === null ? \"\" : r.after.source;\r\n        const [f_b, f_m, f_a] = (lookaround === \"native\"\r\n            ? [lookbehind, id, lookahead]\r\n            : (lookaround === \"group\"\r\n                ? [group, group, group]\r\n                : [id, id, id]));\r\n        const whatToFind = new RegExp(kind === \"mistakes\"\r\n            ? f_b(before) + f_m(r.match.source) + f_a(after)\r\n            : f_b(before) + f_m(r.match.source.split(r.bad).join(r.good)) + f_a(after), \"g\");\r\n        const whatToMark = kind === \"mistakes\" ? r.bad : r.good;\r\n        return findAndMarkUsing(whatToFind, whatToMark, mark, r.info, lookaround === \"group\");\r\n    };\r\n}\r\nfunction group(r) {\r\n    return \"(\" + r + \")\";\r\n}\r\nfunction lookahead(r) {\r\n    return \"(?=\" + r + \")\";\r\n}\r\nfunction lookbehind(r) {\r\n    return \"(?<=\" + r + \")\";\r\n}\r\nfunction findAndMarkUsing(whatToFind, whatToMark, mark, info, fakeLookaround) {\r\n    function markIn(s) {\r\n        return s.split(whatToMark).join(mark(info)(whatToMark));\r\n    }\r\n    return text => text.replace(whatToFind, (found, ...rest) => {\r\n        if (fakeLookaround) {\r\n            const captured = rest.slice(0, 3);\r\n            return captured[0] + markIn(captured[1]) + captured[2];\r\n        }\r\n        else {\r\n            return markIn(found);\r\n        }\r\n    });\r\n}\r\n//# sourceMappingURL=core.js.map","// This file cannot contain Webpack-resolved imports (e.g. \"~src/foo\").\nexport default {\n    proofread: \"proofread\",\n    any: \"any\",\n    mistake: \"mistake\",\n    verified: \"verified\",\n};\n","import { RULES, RULES_SUP, PATTERN_DOPPELGANGERS } from \"@alling/sweclockers-writing-rules\";\nimport { compose } from \"@typed/compose\";\nimport { proofreadWith, highlightWith } from \"highlight-mistakes\";\nimport C from \"./classes\";\nexport function processNodeWith(f, sup) {\n    return node => {\n        if (node.nodeType === Node.TEXT_NODE) {\n            const span = document.createElement(\"span\");\n            span.innerHTML = f(escapeHTML(node.textContent || \"\"));\n            node.parentNode.replaceChild(span, node);\n        }\n        else if (node.nodeType === Node.ELEMENT_NODE) {\n            if (node.nodeName === \"SUP\") {\n                node.innerHTML = sup(node.textContent || \"\");\n            }\n            else {\n                Array.from(node.childNodes).forEach(processNodeWith(f, sup));\n            }\n        }\n    };\n}\nexport function markWith(className) {\n    const isMistake = className === C.mistake;\n    return info => s => [\n        `<span class=\"${C.proofread} ${className}\"`,\n        (isMistake && info !== null ? ` title=\"Frslag: ${info}\"` : \"\"),\n        `>${s}</span>`,\n    ].join(\"\");\n}\nexport const processSup = proofreadWith({\n    rules: RULES_SUP,\n    markMistake: markWith(C.mistake),\n    markVerified: markWith(C.verified),\n});\nexport const processText = compose(highlightWith({\n    pattern: PATTERN_DOPPELGANGERS,\n    mark: markWith(C.any)(null),\n}), proofreadWith({\n    rules: RULES,\n    markMistake: markWith(C.mistake),\n    markVerified: markWith(C.verified),\n}));\nexport const processNode = processNodeWith(processText, processSup);\nfunction replacer(found) {\n    switch (found) {\n        case `&`: return \"&amp;\";\n        case `<`: return \"&lt;\";\n        case `>`: return \"&gt;\";\n        case `\"`: return \"&quot;\";\n        case `'`: return \"&#039;\"; // https://stackoverflow.com/questions/2083754\n    }\n}\nfunction escapeHTML(html) {\n    return html.replace(/[&<>\"']/g, replacer);\n}\n","import { isString } from \"ts-type-guards\";\nimport { r } from \"~src/utilities\";\nexport function hideById(i) {\n    return hideBySelector(\"#\" + i);\n}\nexport function hideByClass(c) {\n    return hideBySelector(isString(c) ? \".\" + c : c.map(x => \".\" + x).join(\", \"));\n}\nexport function hideBySelector(selector) {\n    return (r `\n${selector} {\n    display: none;\n}\n`);\n}\n","export function timeIsWithin(interval) {\n    return (time) => {\n        const t = timeOfDay(time);\n        const start = interval.start;\n        const end = interval.end;\n        return (end < start\n            ? t >= start || t < end\n            : t >= start && t < end);\n    };\n}\nfunction timeOfDay(date) {\n    const startOfToday = new Date();\n    startOfToday.setHours(0);\n    startOfToday.setMinutes(0);\n    startOfToday.setSeconds(0);\n    startOfToday.setMilliseconds(0);\n    return date.getTime() - startOfToday.getTime();\n}\n","import * as ms from \"milliseconds\";\nimport { ALWAYS } from \"userscripter/lib/environment\";\nimport { stylesheet } from \"userscripter/lib/stylesheets\";\nimport * as CONFIG from \"~src/config\";\nimport { isInEditMode, isOnBSCPreferencesPage, isOnSweclockersSettingsPage, isReadingThread } from \"~src/environment\";\nimport STYLE_PROOFREADING from \"~src/lib/proofreading/style.scss\";\nimport { P, Preferences } from \"~src/preferences\";\nimport SELECTOR from \"~src/selectors\";\nimport * as SITE from \"~src/site\";\nimport { hideByClass, hideById, hideBySelector } from \"~src/stylesheets/hide\";\nimport { timeIsWithin } from \"~src/time\";\nimport developerMode from \"./stylesheets/developer-mode.scss\";\nimport doge from \"./stylesheets/doge.scss\";\nimport downForMaintenance from \"./stylesheets/down-for-maintenance.scss\";\nimport editingTools from \"./stylesheets/editing-tools.scss\";\nimport hideFooter from \"./stylesheets/hide-footer.scss\";\nimport highlightOwnPosts from \"./stylesheets/highlight-own-posts.scss\";\nimport improvedCorrections from \"./stylesheets/improved-corrections.scss\";\nimport improvedImageControls from \"./stylesheets/improved-image-controls.scss\";\nimport improvedPaginationButtons from \"./stylesheets/improved-pagination-buttons.scss\";\nimport lockHeights from \"./stylesheets/lock-heights.scss\";\nimport main from \"./stylesheets/main.scss\";\nimport mentionEveryone from \"./stylesheets/mention-everyone.scss\";\nimport preferencesLink from \"./stylesheets/preferences-link.scss\";\nimport preferencesShortcut from \"./stylesheets/preferences-shortcut.scss\";\nimport preferences from \"./stylesheets/preferences.scss\";\nimport replaceFollowedThreadsLink from \"./stylesheets/replace-followed-threads-link.scss\";\nimport textareaSizeToggle from \"./stylesheets/textarea-size-toggle.scss\";\nimport uninterestingSubforums from \"./stylesheets/uninteresting-subforums.scss\";\nfunction isTimeForMaintenance() {\n    const start = ms.hours(4) + ms.minutes(30);\n    const end = ms.hours(5) + ms.minutes(10);\n    return timeIsWithin({ start, end })(new Date());\n}\nfunction i(x) {\n    return CONFIG.PREFIX_ID + \"stylesheet-\" + x;\n}\nconst STYLESHEETS = {\n    main: stylesheet({\n        condition: ALWAYS,\n        css: main,\n    }),\n    developer_mode: stylesheet({\n        condition: () => Preferences.get(P.advanced._.developer_mode),\n        css: developerMode,\n    }),\n    doge: stylesheet({\n        condition: ALWAYS,\n        css: doge,\n    }),\n    preferences_link: stylesheet({\n        condition: _ => isOnSweclockersSettingsPage,\n        css: preferencesLink,\n    }),\n    preferences: stylesheet({\n        condition: _ => isOnBSCPreferencesPage,\n        css: preferences,\n    }),\n    preferences_shortcut: stylesheet({\n        condition: () => Preferences.get(P.general._.insert_preferences_shortcut),\n        css: preferencesShortcut,\n    }),\n    lock_heights: stylesheet({\n        condition: () => Preferences.get(P.general._.lock_heights),\n        css: lockHeights,\n    }),\n    improved_pagination_buttons: stylesheet({\n        condition: () => Preferences.get(P.forum_threads._.improved_pagination_buttons),\n        css: improvedPaginationButtons,\n    }),\n    improved_corrections: stylesheet({\n        condition: () => Preferences.get(P.general._.improved_corrections),\n        css: improvedCorrections,\n    }),\n    highlight_own_posts: stylesheet({\n        condition: () => Preferences.get(P.forum_threads._.highlight_own_posts),\n        css: highlightOwnPosts,\n    }),\n    editing_tools: stylesheet({\n        condition: ALWAYS,\n        css: editingTools,\n    }),\n    textarea_size_toggle: stylesheet({\n        condition: ALWAYS,\n        css: textareaSizeToggle,\n    }),\n    monospace_font: stylesheet({\n        condition: () => isInEditMode && Preferences.get(P.edit_mode._.monospace_font),\n        css: `#${CONFIG.ID.document} ${SELECTOR.textarea} { font-family: monospace; }`,\n    }),\n    monospace_font_in_quick_reply_form: stylesheet({\n        condition: () => isReadingThread && Preferences.get(P.edit_mode._.monospace_font_in_quick_reply_form),\n        css: `#${CONFIG.ID.document} ${SELECTOR.textarea} { font-family: monospace; }`,\n    }),\n    textarea_size_toggle_textarea_height: stylesheet({\n        condition: () => isInEditMode && Preferences.get(P.edit_mode._.textarea_size_toggle),\n        css: `#${CONFIG.ID.document} ${SELECTOR.textarea} { height: ${Preferences.get(P.edit_mode._.textarea_size)}px; }`,\n    }),\n    improved_image_controls: stylesheet({\n        condition: () => Preferences.get(P.advanced._.improved_image_controls),\n        css: improvedImageControls,\n    }),\n    uninteresting_subforums: stylesheet({\n        condition: ALWAYS,\n        css: uninterestingSubforums,\n    }),\n    replace_followed_threads_link: stylesheet({\n        condition: () => Preferences.get(P.general._.replace_followed_threads_link),\n        css: replaceFollowedThreadsLink,\n    }),\n    proofread_forum_posts: stylesheet({\n        condition: () => isInEditMode && Preferences.get(P.advanced._.proofread_forum_posts),\n        css: STYLE_PROOFREADING,\n        id: i(\"proofread-forum-posts\"),\n    }),\n    down_for_maintenance: stylesheet({\n        condition: () => !isOnBSCPreferencesPage && isTimeForMaintenance() && Preferences.get(P.advanced._.down_for_maintenance),\n        css: downForMaintenance,\n    }),\n    custom_css: stylesheet({\n        condition: () => Preferences.get(P.advanced._.custom_css_enable),\n        css: Preferences.get(P.advanced._.custom_css_code),\n    }),\n    mention_everyone: stylesheet({\n        condition: () => Preferences.get(P.forum_threads._.mention_everyone_button),\n        css: mentionEveryone,\n    }),\n    // Customize content:\n    customize_content_carousel: stylesheet({\n        condition: () => false === Preferences.get(P.customize_content._.carousel),\n        css: hideById(SITE.ID.carousel),\n    }),\n    customize_content_social_media: stylesheet({\n        condition: () => false === Preferences.get(P.customize_content._.social_media),\n        css: hideByClass(SITE.CLASS.socialMediaButtons),\n    }),\n    customize_content_guides: stylesheet({\n        condition: () => false === Preferences.get(P.customize_content._.guides),\n        css: hideBySelector(SELECTOR.sideColumnGuides),\n    }),\n    customize_content_popular_galleries: stylesheet({\n        condition: () => false === Preferences.get(P.customize_content._.popular_galleries),\n        css: hideBySelector(SELECTOR.sideColumnPopularGalleries),\n    }),\n    customize_content_new_in_forum_side: stylesheet({\n        condition: () => false === Preferences.get(P.customize_content._.new_in_forum_side),\n        css: hideById(SITE.ID.newInForumWidget_side),\n    }),\n    customize_content_new_in_market: stylesheet({\n        condition: () => false === Preferences.get(P.customize_content._.new_in_market),\n        css: hideById(SITE.ID.newInMarketWidget),\n    }),\n    customize_content_new_in_test_lab: stylesheet({\n        condition: () => false === Preferences.get(P.customize_content._.new_in_test_lab),\n        css: hideById(SITE.ID.newInTestLabWidget),\n    }),\n    customize_content_in_the_store: stylesheet({\n        condition: () => false === Preferences.get(P.customize_content._.in_the_store),\n        css: hideById(SITE.ID.inTheStoreWidget),\n    }),\n    customize_content_popular_at_prisjakt: stylesheet({\n        condition: () => false === Preferences.get(P.customize_content._.popular_at_prisjakt),\n        css: hideById(SITE.ID.popularAtPrisjaktWidget),\n    }),\n    customize_content_new_tech_jobs: stylesheet({\n        condition: () => false === Preferences.get(P.customize_content._.new_tech_jobs),\n        css: hideById(SITE.ID.newTechJobsWidget),\n    }),\n    customize_content_external_news: stylesheet({\n        condition: () => false === Preferences.get(P.customize_content._.external_news),\n        css: hideById(SITE.ID.externalNewsWidget),\n    }),\n    customize_content_more_articles: stylesheet({\n        condition: () => false === Preferences.get(P.customize_content._.more_articles),\n        css: hideBySelector(SELECTOR.moreArticles),\n    }),\n    customize_content_latest_news: stylesheet({\n        condition: () => false === Preferences.get(P.customize_content._.latest_news),\n        css: hideById(SITE.ID.latestNewsWidget),\n    }),\n    customize_content_new_in_forum_main: stylesheet({\n        condition: () => false === Preferences.get(P.customize_content._.new_in_forum_main),\n        css: hideById(SITE.ID.newInForumWidget_main),\n    }),\n    customize_content_footer: stylesheet({\n        condition: () => false === Preferences.get(P.customize_content._.footer),\n        css: hideFooter,\n    }),\n};\n// This trick uncovers type errors in STYLESHEETS while retaining the static knowledge of its properties (so we can still write e.g. STYLESHEETS.foo):\nconst _ = STYLESHEETS;\nvoid _;\nexport default STYLESHEETS;\n","import { stylesheets } from \"userscripter\";\nimport { processNode } from \"~src/lib/proofreading\";\nimport C from \"~src/lib/proofreading/classes\";\nimport SELECTOR from \"~src/selectors\";\nimport * as SITE from \"~src/site\";\nimport STYLESHEETS from \"~src/stylesheets\";\nimport { withMaybe } from \"~src/utilities\";\nconst CONTEXT_CHARS = 10; // before and after mistake\n// If a previous and/or next sibling is not found, look outside these elements:\nconst ELEMENTS_TO_GO_OUTSIDE = [\n    \"em\",\n    \"span\",\n    \"strong\",\n    \"sub\",\n    \"sup\",\n].map(x => x.toUpperCase()); // because .tagName is upper case\nexport const performProcessing = (selectors) => () => {\n    const selector = selectors.join(\", \");\n    for (const n of document.querySelectorAll(selector)) {\n        processNode(n);\n    }\n    for (const mistake of document.querySelectorAll(\".\" + C.mistake)) {\n        mistake.addEventListener(\"click\", () => {\n            if (getProofDialogTextarea() === null) {\n                withMaybe(document.getElementById(SITE.ID.correctionsLink), correctionsLink => {\n                    correctionsLink.click();\n                });\n            }\n            // Wait for proof dialog to appear:\n            setTimeout(() => {\n                withMaybe(getProofDialogTextarea(), textarea => {\n                    addCorrection(textarea, {\n                        context: context(mistake),\n                        suggestion: mistake.title,\n                    });\n                });\n            }, 10);\n        });\n    }\n};\nexport var Options;\n(function (Options) {\n    Options[Options[\"ALWAYS\"] = 0] = \"ALWAYS\";\n    Options[Options[\"CORRECTIONS\"] = 1] = \"CORRECTIONS\";\n    Options[Options[\"NEVER\"] = 2] = \"NEVER\";\n})(Options || (Options = {}));\nexport function addListeners(e) {\n    e.correctionsLink.addEventListener(\"click\", _ => {\n        enable();\n        setTimeout(() => {\n            withMaybe(document.querySelector(SELECTOR.proofDialogCloseButton), closeButton => {\n                closeButton.addEventListener(\"click\", disable, { capture: false, passive: true });\n            });\n        }, 10);\n    }, {\n        capture: false,\n        passive: true,\n    });\n}\nexport function enable() {\n    stylesheets.enable(STYLESHEETS.proofread_forum_posts);\n}\nexport function disable() {\n    stylesheets.disable(STYLESHEETS.proofread_forum_posts);\n}\nfunction getProofDialogTextarea() {\n    return document.querySelector(SELECTOR.proofDialogTextarea);\n}\nfunction addCorrection(textarea, correction) {\n    textarea.value = (textarea.value.trim() + [\n        \"\", \"\", \"\",\n        correction.context,\n        \"\",\n        correction.suggestion,\n    ].join(\"\\n\")).trim();\n    textarea.scrollTo(0, Number.MAX_SAFE_INTEGER);\n    textarea.focus();\n    // Corrections are not submitted unless there has been a change event on the textarea.\n    textarea.dispatchEvent(new Event(\"change\"));\n}\nfunction context(mistake) {\n    return [\n        contextBefore(mistake, CONTEXT_CHARS),\n        mistake.textContent,\n        contextAfter(mistake, CONTEXT_CHARS),\n    ].join(\"\");\n}\nfunction contextBeforeOrAfter(getSibling, combine, baseCase) {\n    return (mistake, maxChars) => {\n        const recurse = contextBeforeOrAfter(getSibling, combine, baseCase);\n        const sibling = getSibling(mistake);\n        if (sibling === null) {\n            const parent = mistake.parentElement;\n            return (ELEMENTS_TO_GO_OUTSIDE.includes(parent.tagName)\n                ? recurse(parent, maxChars)\n                : \"\");\n        }\n        const text = sibling.textContent || \"\";\n        return (text.length < maxChars\n            ? combine(text, recurse(sibling, maxChars - text.length))\n            : baseCase(text, maxChars));\n    };\n}\nconst contextBefore = contextBeforeOrAfter(n => n.previousSibling, (text, nextContext) => nextContext + text, (text, maxChars) => text.substring(text.length - maxChars));\nconst contextAfter = contextBeforeOrAfter(n => n.nextSibling, (text, nextContext) => text + nextContext, (text, maxChars) => text.substring(0, maxChars));\n","import * as BB from \"bbcode-tags\";\nimport classnames from \"classnames\";\nimport { Fragment, h } from \"preact\";\nimport { isNull, isString, only } from \"ts-type-guards\";\nimport { log } from \"userscripter\";\nimport * as CONFIG from \"~src/config\";\nimport { insertAtTheEnd, renderIn } from \"~src/operations/logic/render\";\nimport { P, Preferences } from \"~src/preferences\";\nimport SELECTOR from \"~src/selectors\";\nimport * as SITE from \"~src/site\";\nimport * as T from \"~src/text\";\nconst userMessage = Preferences.get(P.forum_threads._.quote_signature_message);\nexport default () => {\n    var _a, _b, _c;\n    const csrf = session.getCsrfToken();\n    const forumPosts = document.getElementsByClassName(SITE.CLASS.forumPost);\n    for (const post of only(HTMLElement)(Array.from(forumPosts))) {\n        if (post.classList.contains(SITE.CLASS.forumPostByCurrentUser)) {\n            // We don't want buttons on the reader's own posts, because they can overflow when the edit button is visible.\n            continue;\n        }\n        const signature = post.querySelector(\".\" + SITE.CLASS.forumPostSignature);\n        const controls = post.querySelector(\".\" + SITE.CLASS.forumPostControls);\n        const authorName = (_b = (_a = post.querySelector(SELECTOR.forumPostAuthorLink)) === null || _a === void 0 ? void 0 : _a.textContent) === null || _b === void 0 ? void 0 : _b.trim();\n        const quoteURL = (_c = post.querySelector(SELECTOR.quoteButton)) === null || _c === void 0 ? void 0 : _c.href;\n        if (controls === null)\n            return couldNotExtractFromPost(\"controls\", post.id);\n        if (!isString(authorName))\n            return couldNotExtractFromPost(\"author name\", post.id);\n        if (!isString(quoteURL))\n            return couldNotExtractFromPost(\"quote URL\", post.id);\n        renderIn(controls, insertAtTheEnd, button({\n            signature,\n            authorName,\n            userMessage,\n            quoteURL,\n            csrf,\n        }));\n    }\n};\nfunction button(props) {\n    const noSignature = isNull(props.signature);\n    return (h(\"button\", { class: classnames(CONFIG.CLASS.quoteSignatureButton, SITE.CLASS.button, noSignature ? SITE.CLASS.disabled : null), title: noSignature ? T.general.quote_signature_tooltip_no_signature(props.authorName) : T.general.quote_signature_tooltip, disabled: noSignature, onClick: () => {\n            fetch(props.quoteURL, { credentials: \"same-origin\" }) // https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/fetch#Parameters\n                .then(response => response.text())\n                .then(responseContent => {\n                var _a;\n                const responseDocument = new DOMParser().parseFromString(responseContent, \"text/html\");\n                const quoteTextarea = responseDocument.querySelector(\"textarea\");\n                if (quoteTextarea === null) {\n                    throw couldNotExtract(\"textarea from fetch response\");\n                }\n                const form = document.createElement(\"form\");\n                form.hidden = true;\n                form.method = \"POST\";\n                form.action = props.quoteURL;\n                renderIn(form, insertAtTheEnd, (h(Fragment, null,\n                    h(\"input\", { name: SITE.FORM.name.csrfToken, type: \"hidden\", value: props.csrf }),\n                    h(\"input\", { name: SITE.FORM.name.action, type: \"hidden\", value: SITE.FORM.value.preview }),\n                    h(\"textarea\", { name: SITE.FORM.name.message, hidden: true }, withSignatureAndUserMessage({\n                        rawQuote: quoteTextarea.textContent || \"\",\n                        rawSignature: ((_a = props.signature) === null || _a === void 0 ? void 0 : _a.textContent) || \"\",\n                        userMessage: props.userMessage,\n                    })))));\n                document.documentElement.appendChild(form); // Otherwise: \"Form submission canceled because the form is not connected\"\n                form.submit();\n            })\n                .catch(log.error);\n        } },\n        h(\"span\", { class: SITE.CLASS.label }, T.general.quote_signature_label)));\n}\nfunction withSignatureAndUserMessage(x) {\n    const SIGNATURE_FONT_SIZE = \"smaller\";\n    const textToInsert = [\n        `\\n`,\n        `________________________`,\n        `\\n`,\n        BB.start(SITE.TAG.size, SIGNATURE_FONT_SIZE),\n        x.rawSignature.trim(),\n        BB.end(SITE.TAG.size),\n    ].join(\"\");\n    return x.rawQuote.replace(/\\n*(?=\\[\\/quote\\]\\s*$)/, textToInsert) + x.userMessage;\n}\nfunction couldNotExtract(what) {\n    return `Could not extract ${what}.`;\n}\nfunction couldNotExtractFromPost(what, htmlId) {\n    return couldNotExtract(`${what} from post with id=\"${htmlId}\"`);\n}\n","import * as BB from \"bbcode-tags\";\nimport * as SITE from \"~src/site\";\nconst END_TAG_QUOTE = BB.end(SITE.TAG.quote);\nconst sentFrom = SITE.MOBILE_SITE_DISCLAIMER.sentFrom;\nconst mobileSiteDomain = SITE.MOBILE_SITE_DISCLAIMER.mobileSiteDomain;\nconst disclaimer = [\n    ``,\n    `[size=\"smaller\"]${sentFrom} [url=\"//${mobileSiteDomain}\"]${mobileSiteDomain}[/url][/size]`,\n    END_TAG_QUOTE,\n].join(\"\\n\");\nexport default (e) => {\n    const textarea = e.textarea;\n    textarea.value = withoutDisclaimers(textarea.value);\n};\n// Removes all disclaimers recursively, so we can use a plain string for the replace pattern:\nfunction withoutDisclaimers(text) {\n    const withoutFirstDisclaimer = text.replace(disclaimer, END_TAG_QUOTE);\n    return text === withoutFirstDisclaimer ? text : withoutDisclaimers(withoutFirstDisclaimer);\n}\n","import { is } from \"ts-type-guards\";\nimport * as SITE from \"~src/site\";\nimport * as T from \"~src/text\";\nimport { assertExhausted } from \"~src/utilities\";\nexport default (e) => {\n    const user = SITE.getUserInfo();\n    switch (user.tag) {\n        case \"CouldNotExtract\": return \"Could not extract logged-in status and/or user ID.\";\n        case \"NotLoggedIn\": return; // No error; there's just nothing to do if the user is not logged in.\n        case \"LoggedIn\": break;\n        default: assertExhausted(user);\n    }\n    const text = e.followedThreadsLinkTextOrSigninButton;\n    const link = text.parentElement;\n    if (!is(HTMLAnchorElement)(link)) {\n        return `Expected a link, but found an element with tagname ${JSON.stringify(link === null || link === void 0 ? void 0 : link.tagName)}.`;\n    }\n    text.textContent = T.general.my_posts;\n    link.href = SITE.PATH.MY_POSTS;\n    link.classList.remove(SITE.CLASS.colorOrange);\n};\n","import { empty, end, start } from \"bbcode-tags\";\nimport { unlines } from \"lines-unlines\";\nimport { insertAtTheEnd, renderIn } from \"~src/operations/logic/render\";\nimport * as SITE from \"~src/site\";\nimport * as T from \"~src/text\";\nimport { toolbarButton } from \"./logic/editing-tools\";\nimport { indent, insert } from \"./logic/textarea\";\nvar Headings;\n(function (Headings) {\n    Headings[Headings[\"NONE\"] = 0] = \"NONE\";\n    Headings[Headings[\"FIRST\"] = 1] = \"FIRST\";\n    Headings[Headings[\"ALL\"] = 2] = \"ALL\";\n})(Headings || (Headings = {}));\nconst TABLE_CONFIG = { rows: 4, columns: 3, headings: true };\nconst tableToolbarButton = toolbarButton({\n    action: (textarea, undoSupport) => insert(table(TABLE_CONFIG))(textarea, undoSupport),\n    class: SITE.CLASS.toolbarTableButton,\n    tooltip: T.general.tooltip_table,\n});\nexport default (undoSupport) => (e) => {\n    const parent = e.unorderedListButton.parentElement;\n    renderIn(parent, insertAtTheEnd, tableToolbarButton(e.textarea, undoSupport));\n};\nfunction table(config) {\n    const headingRow = tableRowLines(config.columns, 2 /* ALL */);\n    const regularRow = tableRowLines(config.columns, config.headings ? 1 /* FIRST */ : 0 /* NONE */);\n    const theadLines = concat([\n        start(\"thead\"),\n        headingRow.map(indent),\n        end(\"thead\"),\n    ]);\n    const tbodyLines = concat([\n        start(\"tbody\"),\n        concat(replicate(config.rows - 1, regularRow.map(indent))),\n        end(\"tbody\"),\n    ]);\n    const tableLines = concat([\n        start(\"table\"),\n        theadLines.map(indent),\n        tbodyLines.map(indent),\n        end(\"table\"),\n    ]);\n    return unlines(tableLines);\n}\nfunction tableRowLines(columns, headings) {\n    const cell_first = headings === 0 /* NONE */ ? \"td\" : \"th\";\n    const cell_rest = headings === 2 /* ALL */ ? \"th\" : \"td\";\n    return concat([\n        start(\"tr\"),\n        indent(empty(cell_first)),\n        replicate(columns - 1, indent(empty(cell_rest))),\n        end(\"tr\"),\n    ]);\n}\n// From Haskell. Example: replicate(3, 42) = [42, 42, 42]\nfunction replicate(n, x) {\n    return Array(n).fill(x);\n}\nfunction concat(xs) {\n    return [].concat(...xs);\n}\n","import { h } from \"preact\";\nimport * as CONFIG from \"~src/config\";\nimport iconTextareaLarge from \"~src/icons/textarea-large.svg\";\nimport iconTextareaSmall from \"~src/icons/textarea-small.svg\";\nimport { insertAtTheEnd, renderIn } from \"~src/operations/logic/render\";\nimport { P, Preferences } from \"~src/preferences\";\nimport * as SITE from \"~src/site\";\nimport * as T from \"~src/text\";\nexport default (e) => {\n    const textarea = e.textarea;\n    renderIn(e.toolbarInner, insertAtTheEnd, (h(\"div\", { class: [SITE.CLASS.toolbarGroup, CONFIG.CLASS.textareaSize].join(\" \") },\n        button(textarea, P.edit_mode._.textarea_size_small),\n        button(textarea, P.edit_mode._.textarea_size_large))));\n};\nfunction button(textarea, mode) {\n    const [tooltip, icon] = (mode === P.edit_mode._.textarea_size_small\n        ? [T.general.textarea_size_small, iconTextareaSmall]\n        : [T.general.textarea_size_large, iconTextareaLarge]);\n    return (h(\"div\", { class: \"tbButton iconButton noselect\", title: tooltip },\n        h(\"div\", { class: \"inner\" },\n            h(\"div\", { class: SITE.CLASS.toolbarButtonIcon, onClick: () => apply(mode, textarea), dangerouslySetInnerHTML: { __html: icon } }))));\n}\nfunction apply(mode, textarea) {\n    const size = Preferences.get(mode);\n    textarea.style.height = size + \"px\";\n    Preferences.set(P.edit_mode._.textarea_size, size);\n}\n","export default \"<svg version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 32 32\\\">\\n    <rect x=\\\"1\\\" y=\\\"1\\\" width=\\\"30\\\" height=\\\"10\\\" stroke=\\\"#666\\\" fill=\\\"white\\\" stroke-width=\\\"2\\\"/>\\n</svg>\\n\";","export default \"<svg version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 32 32\\\">\\n    <rect x=\\\"1\\\" y=\\\"1\\\" width=\\\"30\\\" height=\\\"30\\\" stroke=\\\"#666\\\" fill=\\\"white\\\" stroke-width=\\\"2\\\"/>\\n</svg>\\n\";","import { DOMCONTENTLOADED } from \"userscripter/lib/environment\";\nimport { operation } from \"userscripter/lib/operations\";\nimport * as CONFIG from \"~src/config\";\nimport { isInEditMode, isInEditMode_forum, isInEditMode_market, isInEditMode_marketContact, isInEditMode_PM, isInForumThreadsView, isOnBSCPreferencesPage, isOnSomeProfilePage, isOnSweclockersSettingsPage, isReadingEditorialContent, isReadingForumThread, isReadingThread, } from \"~src/environment\";\nimport { P, Preferences } from \"~src/preferences\";\nimport SELECTOR from \"~src/selectors\";\nimport * as SITE from \"~src/site\";\nimport manageCaretPosition from \"./operations/caret-position\";\nimport insertDraftModeToggle from \"./operations/draft-mode-toggle\";\nimport insertEditingTools from \"./operations/editing-tools\";\nimport insertHeadingToolbarButton from \"./operations/heading-toolbar-button\";\nimport enableImprovedBuiltinEditingTools from \"./operations/improved-builtin-editing-tools\";\nimport enableImprovedBuiltinEditingToolsUrl from \"./operations/improved-builtin-editing-tools-url\";\nimport adaptCorrectionsLink from \"./operations/improved-corrections\";\nimport * as keyboardShortcutsEditMode from \"./operations/keyboard-shortcuts/edit-mode\";\nimport insertLinkToTop from \"./operations/link-to-top\";\nimport insertMentionEveryoneButton from \"./operations/mention-everyone\";\nimport performMousetrapPreparations from \"./operations/mousetrap-preparations\";\nimport insertPMLinks from \"./operations/pm-links\";\nimport insertPreferencesLink from \"./operations/preferences-link\";\nimport insertPreferencesMenu from \"./operations/preferences-menu\";\nimport insertPreferencesShortcut from \"./operations/preferences-shortcut\";\nimport preventAccidentalSignout from \"./operations/prevent-accidental-signout\";\nimport * as preventAccidentalUnload from \"./operations/prevent-accidental-unload\";\nimport * as Proofreading from \"./operations/proofreading\";\nimport insertQuoteSignatureButtons from \"./operations/quote-signature-buttons\";\nimport rememberLocationInMarket from \"./operations/remember-location-in-market\";\nimport removeMobileSiteDisclaimer from \"./operations/remove-mobile-site-disclaimer\";\nimport replaceFollowedThreadsLink from \"./operations/replace-followed-threads-link\";\nimport insertTableToolbarButton from \"./operations/table-toolbar-button\";\nimport insertTextareaSizeToggle from \"./operations/textarea-size-toggle\";\nimport filterUninterestingSubforums from \"./operations/uninteresting-subforums\";\nconst ALWAYS = true;\nconst improvedBuiltinEditingToolsDescription = \"enable improved built-in editing tools\";\nconst shouldEnableImprovedBuiltinEditingTools = (isInEditMode || isReadingThread) && Preferences.get(P.edit_mode._.improved_builtin_editing_tools);\nconst shouldInsertPreferencesShortcut = Preferences.get(P.general._.insert_preferences_shortcut);\nconst uninterestingSubforumIDs = Preferences.get(P.interests._.uninteresting_subforums);\n// True here means the user wants us to act as if there is undo support (i.e. take no precautions to protect data).\n// Chrome always has actual undo support and Firefox never does.\nconst undoSupport = Preferences.get(P.advanced._.undo_support);\nconst OPERATIONS = [\n    operation({\n        description: \"set document id\",\n        condition: () => ALWAYS,\n        action: () => { document.documentElement.id = CONFIG.ID.document; },\n    }),\n    operation({\n        // I haven't managed to make this operation work at all in Firefox; the default action is just not overridden.\n        description: improvedBuiltinEditingToolsDescription + \" (URL/hyperlink button)\",\n        condition: () => shouldEnableImprovedBuiltinEditingTools,\n        // This operation cannot be deferred until DOMContentLoaded, because then it can't override the default action for the URL button.\n        dependencies: { body: \"body\" },\n        action: enableImprovedBuiltinEditingToolsUrl(undoSupport),\n    }),\n    operation({\n        description: \"insert preferences menu\",\n        condition: () => isOnBSCPreferencesPage,\n        dependencies: { body: \"body\" },\n        action: insertPreferencesMenu,\n    }),\n    operation({\n        description: \"disable scroll restoration\",\n        condition: () => Preferences.get(P.advanced._.disable_scroll_restoration),\n        action: () => {\n            if (\"scrollRestoration\" in history) {\n                history.scrollRestoration = \"manual\";\n            }\n        },\n    }),\n    operation({\n        description: \"prevent accidental unload (post or message)\",\n        condition: () => isInEditMode && Preferences.get(P.advanced._.prevent_accidental_unload),\n        dependencies: {\n            textarea: SELECTOR.textarea,\n            _actionButtons: SELECTOR.actionButtons,\n        },\n        action: preventAccidentalUnload.postOrMessage,\n    }),\n    operation({\n        description: \"prevent accidental unload (corrections)\",\n        condition: () => isReadingEditorialContent && Preferences.get(P.advanced._.prevent_accidental_unload),\n        action: preventAccidentalUnload.corrections,\n    }),\n    operation({\n        description: \"manage caret position in textarea\",\n        condition: () => isInEditMode,\n        dependencies: {\n            textarea: SELECTOR.textarea,\n            // The market doesn't have a dedicated preview button; its save button fills that purpose in this context.\n            previewButton: isInEditMode_market ? SELECTOR.saveButton : SELECTOR.previewButton,\n        },\n        action: manageCaretPosition,\n    }),\n    operation({\n        description: \"remove mobile site disclaimer\",\n        condition: () => isInEditMode_forum && Preferences.get(P.edit_mode._.remove_mobile_site_disclaimer),\n        dependencies: { textarea: SELECTOR.textarea },\n        action: removeMobileSiteDisclaimer,\n    }),\n    operation({\n        description: \"insert editing tools\",\n        condition: () => isInEditMode && Preferences.get(P.editing_tools._.enable),\n        dependencies: { textarea: SELECTOR.textarea },\n        action: insertEditingTools(undoSupport),\n    }),\n    operation({\n        description: \"insert editing tools in quick reply form\",\n        condition: () => isReadingThread && Preferences.get(P.editing_tools._.enable) && Preferences.get(P.editing_tools._.in_quick_reply_form),\n        dependencies: { textarea: SELECTOR.textarea },\n        action: insertEditingTools(undoSupport),\n    }),\n    operation({\n        description: improvedBuiltinEditingToolsDescription,\n        condition: () => shouldEnableImprovedBuiltinEditingTools,\n        deferUntil: DOMCONTENTLOADED,\n        action: enableImprovedBuiltinEditingTools,\n    }),\n    operation({\n        description: \"insert heading toolbar button\",\n        condition: () => isInEditMode && Preferences.get(P.edit_mode._.insert_heading_toolbar_button),\n        dependencies: {\n            textarea: SELECTOR.textarea,\n            strikeButton: SELECTOR.textareaToolbarStrikeButton,\n        },\n        action: insertHeadingToolbarButton(undoSupport),\n    }),\n    operation({\n        description: \"insert table toolbar button\",\n        condition: () => isInEditMode && Preferences.get(P.edit_mode._.insert_table_toolbar_button),\n        dependencies: {\n            textarea: SELECTOR.textarea,\n            unorderedListButton: SELECTOR.textareaToolbarUnorderedListButton,\n        },\n        action: insertTableToolbarButton(undoSupport),\n    }),\n    operation({\n        description: \"insert textarea size toggle\",\n        condition: () => isInEditMode && Preferences.get(P.edit_mode._.textarea_size_toggle),\n        dependencies: {\n            textarea: SELECTOR.textarea,\n            toolbarInner: SELECTOR.textareaToolbarInner,\n        },\n        action: insertTextareaSizeToggle,\n    }),\n    operation({\n        description: \"insert preferences shortcut\",\n        condition: () => !isOnBSCPreferencesPage && shouldInsertPreferencesShortcut,\n        dependencies: {\n            notificationsBar: \".\" + SITE.CLASS.notifications,\n        },\n        action: insertPreferencesShortcut,\n    }),\n    operation({\n        description: \"prevent accidental signout\",\n        condition: () => isOnSomeProfilePage && Preferences.get(P.advanced._.prevent_accidental_signout),\n        action: preventAccidentalSignout,\n        deferUntil: DOMCONTENTLOADED,\n    }),\n    operation({\n        description: \"insert preferences link\",\n        condition: () => isOnSweclockersSettingsPage,\n        dependencies: { settingsNavigation: SELECTOR.settingsNavigation },\n        action: insertPreferencesLink,\n    }),\n    operation({\n        description: \"insert link to top\",\n        condition: () => isReadingThread && Preferences.get(P.forum_threads._.insert_link_to_top),\n        action: insertLinkToTop,\n        dependencies: { parent: SELECTOR.pageNavigationAfterForumPosts },\n    }),\n    operation({\n        description: \"insert PM links\",\n        condition: () => isReadingForumThread && Preferences.get(P.forum_threads._.insert_pm_links),\n        action: insertPMLinks,\n        deferUntil: DOMCONTENTLOADED,\n    }),\n    operation({\n        description: \"insert quote signature buttons\",\n        condition: () => isReadingThread && Preferences.get(P.forum_threads._.quote_signature_buttons),\n        action: insertQuoteSignatureButtons,\n        deferUntil: DOMCONTENTLOADED,\n    }),\n    operation({\n        description: \"adapt corrections link to work with improved corrections\",\n        condition: () => isReadingEditorialContent && Preferences.get(P.general._.improved_corrections),\n        dependencies: { correctionsLink: \"#\" + SITE.ID.correctionsLink },\n        action: adaptCorrectionsLink,\n    }),\n    operation({\n        description: \"filter uninteresting subforums\",\n        condition: () => isInForumThreadsView && uninterestingSubforumIDs.length > 0,\n        dependencies: { body: \"body\" },\n        action: filterUninterestingSubforums(uninterestingSubforumIDs),\n        deferUntil: DOMCONTENTLOADED,\n    }),\n    operation({\n        description: \"enable proofreading\",\n        condition: () => Preferences.get(P.advanced._.proofread_articles) === 0 /* ALWAYS */,\n        action: () => {\n            // The border must become red before we make it transparent, so we get the nice \"flash\" effect.\n            window.setTimeout(Proofreading.enable, 10);\n        },\n        deferUntil: DOMCONTENTLOADED,\n    }),\n    operation({\n        description: \"add proofreading listeners\",\n        condition: () => isReadingEditorialContent && Preferences.get(P.advanced._.proofread_articles) === 1 /* CORRECTIONS */,\n        dependencies: { correctionsLink: \"#\" + SITE.ID.correctionsLink },\n        action: Proofreading.addListeners,\n    }),\n    operation({\n        description: \"perform proofreading processing\",\n        condition: () => ((isReadingEditorialContent && Preferences.get(P.advanced._.proofread_articles) !== 2 /* NEVER */)\n            ||\n                (isInEditMode && Preferences.get(P.advanced._.proofread_forum_posts))),\n        action: Proofreading.performProcessing(\n        // Hotfix for #152.\n        isReadingEditorialContent\n            ? [SELECTOR.bbParagraph]\n            : [SELECTOR.bbParagraph, \"h1\", \"h2\", \"h3\"]),\n        deferUntil: DOMCONTENTLOADED,\n    }),\n    operation({\n        description: \"replace followed threads link with a link to my posts\",\n        condition: () => !isOnBSCPreferencesPage && Preferences.get(P.general._.replace_followed_threads_link),\n        dependencies: { followedThreadsLinkTextOrSigninButton: SELECTOR.signinButtonOr(SELECTOR.followedThreadsLinkText) },\n        action: replaceFollowedThreadsLink,\n    }),\n    operation({\n        description: \"remember location in market\",\n        condition: () => isInEditMode_market && Preferences.get(P.general._.remember_location_in_market),\n        dependencies: {\n            city: SELECTOR.cityInput,\n            region: SELECTOR.regionSelect,\n            saveButton: SELECTOR.saveButton,\n        },\n        action: rememberLocationInMarket,\n    }),\n    operation({\n        description: \"insert mention everyone button\",\n        condition: () => isReadingForumThread && Preferences.get(P.forum_threads._.mention_everyone_button),\n        dependencies: {\n            forumPostContainer: SELECTOR.forumPostContainer,\n            replyButton: SELECTOR.replyButtonAfterForumPosts,\n            quickReplyForm: SELECTOR.quickReplyForm,\n        },\n        action: insertMentionEveryoneButton,\n    }),\n    operation({\n        description: \"insert draft mode toggle\",\n        condition: () => (isInEditMode_forum || isInEditMode_PM) && Preferences.get(P.edit_mode._.draft_mode_toggle),\n        dependencies: {\n            saveButton: SELECTOR.saveButton,\n            previewButton: SELECTOR.previewButton,\n        },\n        action: insertDraftModeToggle,\n    }),\n    // Keyboard shortcuts\n    operation({\n        description: \"perform Mousetrap preparations\",\n        condition: () => ALWAYS,\n        action: performMousetrapPreparations,\n        deferUntil: DOMCONTENTLOADED,\n    }),\n    operation({\n        description: \"enable Tab key\",\n        condition: () => isInEditMode && Preferences.get(P.edit_mode._.insert_tab),\n        dependencies: {\n            textarea: SELECTOR.textarea,\n        },\n        action: keyboardShortcutsEditMode.insertTab(Preferences.get(P.edit_mode._.insert_tab_content), undoSupport),\n        deferUntil: DOMCONTENTLOADED,\n    }),\n    operation({\n        description: \"add edit mode keyboard shortcut (insert link)\",\n        condition: () => isInEditMode && Preferences.get(P.edit_mode._.keyboard_shortcuts),\n        dependencies: {\n            textarea: SELECTOR.textarea,\n        },\n        action: keyboardShortcutsEditMode.insertLink(undoSupport),\n        deferUntil: DOMCONTENTLOADED,\n    }),\n    operation({\n        description: \"add edit mode keyboard shortcut (submit)\",\n        condition: () => isInEditMode && Preferences.get(P.edit_mode._.keyboard_shortcuts),\n        dependencies: {\n            textarea: SELECTOR.textarea,\n            saveButton: SELECTOR.saveButton,\n        },\n        action: keyboardShortcutsEditMode.submit,\n        deferUntil: DOMCONTENTLOADED,\n    }),\n    operation({\n        description: \"add edit mode keyboard shortcut (preview)\",\n        condition: () => isInEditMode && !isInEditMode_marketContact && Preferences.get(P.edit_mode._.keyboard_shortcuts),\n        dependencies: {\n            textarea: SELECTOR.textarea,\n            previewButton: SELECTOR.previewButton,\n        },\n        action: keyboardShortcutsEditMode.preview,\n        deferUntil: DOMCONTENTLOADED,\n    }),\n    operation({\n        description: \"add quick reply keyboard shortcut (insert link)\",\n        condition: () => isReadingThread && Preferences.get(P.edit_mode._.keyboard_shortcuts_in_quick_reply),\n        dependencies: {\n            textarea: SELECTOR.textarea,\n        },\n        action: keyboardShortcutsEditMode.insertLink(undoSupport),\n    }),\n    operation({\n        description: \"add quick reply keyboard shortcut (submit)\",\n        condition: () => isReadingThread && Preferences.get(P.edit_mode._.keyboard_shortcuts_in_quick_reply),\n        dependencies: {\n            textarea: SELECTOR.textarea,\n            saveButton: SELECTOR.saveButtonQuickReply,\n        },\n        action: keyboardShortcutsEditMode.submit,\n    }),\n    operation({\n        description: \"add quick reply keyboard shortcut (preview)\",\n        condition: () => isReadingThread && Preferences.get(P.edit_mode._.keyboard_shortcuts_in_quick_reply),\n        dependencies: {\n            textarea: SELECTOR.textarea,\n            previewButton: SELECTOR.previewButtonQuickReply,\n        },\n        action: keyboardShortcutsEditMode.preview,\n    }),\n];\nexport default OPERATIONS;\n","import * as CONFIG from \"~src/config\";\nimport * as SITE from \"~src/site\";\nimport * as T from \"~src/text\";\nexport default (uninterestingIDs) => (e) => {\n    const rows = e.body.querySelectorAll(\"tr.forumThread\");\n    for (const row of rows) {\n        const forumLink = row.querySelector(\"a.forum\");\n        if (forumLink === null) {\n            return `Could not find forum link.`;\n        }\n        const match = forumLink.href.match(SITE.PATH.FORUM_CATEGORY);\n        if (match === null) {\n            return `Could not extract forum ID from this link: ${forumLink.outerHTML}`;\n        }\n        const id = parseInt(match[1]);\n        if (uninterestingIDs.includes(id)) {\n            row.classList.add(CONFIG.CLASS.uninteresting);\n            row.title = T.general.uninteresting_subforum(forumLink.textContent);\n        }\n    }\n};\n","import * as Storage from \"ts-storage\";\nimport * as CONFIG from \"~src/config\";\nimport { P, Preferences } from \"~src/preferences\";\nexport default (e) => {\n    // Caret position is only saved when the user requests a preview; it is\n    // wiped on any other page unload.\n    const textarea = e.textarea;\n    const savedPosition = Storage.get_session(CONFIG.KEY.caret_position, NaN).value;\n    // The check below is done here instead of as a condition for the entire\n    // operation, because we need the wiping to be done even if the user has\n    // disabled remember_caret_position.\n    if (Preferences.get(P.edit_mode._.remember_caret_position) && isNaturalNumber(savedPosition)) {\n        placeCaretIn(textarea, savedPosition);\n    }\n    const wipeSavedPosition = () => Storage.remove_session(CONFIG.KEY.caret_position);\n    window.addEventListener(\"unload\", wipeSavedPosition);\n    e.previewButton.addEventListener(\"click\", () => {\n        savePositionIn(textarea);\n        window.removeEventListener(\"unload\", wipeSavedPosition);\n    });\n};\nfunction savePositionIn(textarea) {\n    Storage.set_session(CONFIG.KEY.caret_position, textarea.selectionEnd);\n}\nfunction placeCaretIn(textarea, cursorPosition) {\n    textarea.setSelectionRange(cursorPosition, cursorPosition);\n}\nfunction isNaturalNumber(x) {\n    return x % 1 === 0 && x >= 0;\n}\n","import { insertIn, wrapIn } from \"./logic/textarea\";\nexport default () => {\n    /*\n    SweClockers' built-in functions use `.value`, which kills undo history.\n    This operation replaces them with our own `text-field-edit`-based versions, thereby reintroducing undo/redo support in supported browsers.\n    Our versions sort of mimic the default ones, but they feature more intuitive behavior, such as keeping the selection when a wrap tool (e.g. B/U/I) is used.\n\n    We don't care about protecting data in the absence of undo support; I assume SweClockers only ever modify textarea content \"safely\" (i.e. without deleting anything).\n    */\n    try { // If SweClockers change their \"API\", we want to fail gracefully.\n        Tanuki.Templates.Textarea.Helpers.setSelection = (textarea, replacement) => {\n            insertIn(textarea, { string: replacement, replace: true });\n        };\n        Tanuki.Templates.Textarea.Helpers.insertAtCaret = (textarea, before, after) => {\n            if (after === undefined) {\n                insertIn(textarea, { string: before, replace: true });\n            }\n            else {\n                wrapIn(textarea, { before, after, cursor: \"KEEP_SELECTION\" });\n            }\n        };\n    }\n    catch (err) {\n        return err.toString(); // String conversion is necessary for the error to be handled properly by Userscripter.\n    }\n};\n","import { h } from \"preact\";\nimport * as CONFIG from \"~src/config\";\nimport { insertAtTheBeginning, renderIn } from \"~src/operations/logic/render\";\nimport * as SITE from \"~src/site\";\nimport * as T from \"~src/text\";\nexport default (e) => {\n    renderIn(e.notificationsBar, insertAtTheBeginning, (\n    // Derived from the other links in the notifications bar.\n    h(\"a\", { href: CONFIG.PATH.PREFERENCES.link(SITE.PATH.SETTINGS.link), title: T.preferences._.title, class: \"margin-medium-right\" },\n        h(\"svg\", { class: \"icon\", dangerouslySetInnerHTML: { __html: SITE.ICONS.settings } }),\n        h(\"span\", { class: \"margin-small-left display-none display-l-inherit\" }, T.preferences._.shortcut_label))));\n};\n","import SELECTOR from \"~src/selectors\";\nimport * as SITE from \"~src/site\";\nimport * as T from \"~src/text\";\nimport { assertExhausted } from \"~src/utilities\";\nexport default () => {\n    const user = SITE.getUserInfo();\n    switch (user.tag) {\n        case \"CouldNotExtract\": return \"Could not extract logged-in status and/or user ID.\";\n        case \"NotLoggedIn\": return; // No error; there's just nothing to do if the user is not logged in.\n        case \"LoggedIn\": break;\n        default: assertExhausted(user);\n    }\n    const ourUserID = user.userID;\n    const isOwnProfilePage = SITE.PATH.PROFILE(ourUserID).test(document.location.pathname);\n    if (!isOwnProfilePage) {\n        return;\n    }\n    const signoutButton = document.querySelector(SELECTOR.signoutButton);\n    if (signoutButton === null) {\n        return `Could not find signout button (${SELECTOR.signoutButton}).`;\n    }\n    signoutButton.addEventListener(\"click\", event => {\n        if (!confirm(T.general.signout_confirmation)) {\n            event.preventDefault();\n        }\n    });\n};\n","import classNames from \"classnames\";\nimport { h } from \"preact\";\nimport * as CONFIG from \"~src/config\";\nimport { insertAtTheEnd, renderIn } from \"~src/operations/logic/render\";\nimport * as SITE from \"~src/site\";\nimport * as T from \"~src/text\";\nexport default (e) => {\n    renderIn(e.settingsNavigation, insertAtTheEnd, (h(\"li\", { title: T.general.preferences_link, class: SITE.CLASS.menuItem },\n        h(\"a\", { href: CONFIG.PATH.PREFERENCES.link(SITE.PATH.SETTINGS.link), class: classNames(SITE.CLASS.button, SITE.CLASS.link) },\n            h(\"span\", { class: SITE.CLASS.icon }),\n            \" \",\n            \" \",\n            h(\"span\", { class: SITE.CLASS.label }, T.general.preferences_link)))));\n};\n","export default \"<svg version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 32 32\\\">\\n    <rect x=\\\"1\\\" y=\\\"5\\\" width=\\\"30\\\" height=\\\"22\\\" stroke=\\\"#444\\\" fill=\\\"#d7d5d1\\\" stroke-width=\\\"2\\\"/>\\n    <polyline points=\\\"1,6  16,17  31,6\\\" stroke=\\\"#444\\\" fill=\\\"none\\\" stroke-width=\\\"2\\\"/>\\n</svg>\\n\";","import { isString } from \"ts-type-guards\";\nimport { log } from \"userscripter\";\nimport { P, Preferences } from \"~src/preferences\";\nexport default (e) => {\n    const cityInput = e.city;\n    const regionSelect = e.region;\n    if (cityInput.value === \"\") {\n        cityInput.value = Preferences.get(P.general._.location_city);\n    }\n    if (regionSelect.selectedIndex === 0) { // no actual selection\n        regionSelect.value = Preferences.get(P.general._.location_region).toString();\n    }\n    e.saveButton.addEventListener(\"click\", () => {\n        Preferences.set(P.general._.location_city, cityInput.value);\n        const parseResult = P.general._.location_region.fromString(regionSelect.value);\n        if (isString(parseResult)) {\n            log.error(parseResult);\n        }\n        else {\n            Preferences.set(P.general._.location_region, parseResult.value);\n        }\n    });\n};\n","import * as CONFIG from \"~src/config\";\nexport default () => {\n    for (const tagName of CONFIG.FOCUSABLE_ELEMENTS) {\n        for (const element of document.querySelectorAll(tagName)) {\n            element.classList.add(CONFIG.CLASS.mousetrap);\n        }\n    }\n};\n","import { Component, h, render } from \"preact\";\nimport * as Storage from \"ts-storage\";\nimport * as CONFIG from \"~src/config\";\nimport * as T from \"~src/text\";\nexport function logger(regularLogger, rootNode) {\n    const initOpen = Storage.get_session(CONFIG.KEY.developer_tools_open, false).value;\n    let devTools;\n    render(h(DevTools, { initOpen: initOpen, ref: self => { devTools = self; } }), rootNode);\n    return Object.assign(Object.assign({}, regularLogger), { error: (prefix, message) => {\n            devTools.log({ kind: \"error\", content: message });\n            regularLogger.error(prefix, message);\n        }, warn: (prefix, message) => {\n            devTools.log({ kind: \"warning\", content: message });\n            regularLogger.warn(prefix, message);\n        } });\n}\nclass DevTools extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            loggedMessages: [],\n            isOpen: props.initOpen,\n        };\n    }\n    log(message) {\n        this.setState(state => ({\n            loggedMessages: [...state.loggedMessages, message],\n        }));\n    }\n    render() {\n        const loggedMessages = this.state.loggedMessages;\n        const loggedWarnings = loggedMessages.filter(msg => msg.kind === \"warning\");\n        const loggedErrors = loggedMessages.filter(msg => msg.kind === \"error\");\n        return (h(\"footer\", { id: CONFIG.ID.developerTools, class: this.state.isOpen ? \"open\" : undefined, \"data-how-many\": loggedMessages.length },\n            h(\"a\", { onClick: _ => {\n                    this.setState(state => {\n                        const newOpenState = !state.isOpen;\n                        Storage.set_session(CONFIG.KEY.developer_tools_open, newOpenState);\n                        return Object.assign(Object.assign({}, state), { isOpen: newOpenState });\n                    });\n                } },\n                summary(loggedErrors.length, \"error\"),\n                summary(loggedWarnings.length, \"warning\")),\n            h(\"ol\", null, loggedMessages.length > 0\n                ? loggedMessages.map(msg => h(\"li\", { class: CONFIG.CLASS.developerTools[msg.kind] }, msg.content))\n                : h(\"li\", null, T.developer_mode.nothing_logged))));\n    }\n}\nfunction summary(howMany, what) {\n    const icon = {\n        error: \"\",\n        warning: \"\",\n    }[what];\n    return (h(\"strong\", { \"data-how-many\": howMany, class: CONFIG.CLASS.developerTools[what], title: T.developer_mode.tooltip[what](howMany) },\n        icon,\n        \"\\u00A0\\u00A0\",\n        howMany));\n}\n","import { compose } from \"@typed/compose\";\nimport { environment, errors, log, userscripter } from \"userscripter\";\nimport * as CONFIG from \"~src/config\";\nimport OPERATIONS from \"~src/operations\";\nimport * as Developer from \"~src/operations/developer-mode\";\nimport { P, Preferences } from \"~src/preferences\";\nimport * as SITE from \"~src/site\";\nimport STYLESHEETS from \"~src/stylesheets\";\nimport U from \"~src/userscript\";\nconst describeFailure = errors.failureDescriber({\n    siteName: SITE.NAME,\n    extensionName: U.name,\n    location: document.location,\n});\nlog.setLogger(Preferences.get(P.advanced._.developer_mode)\n    ? Developer.logger(console, document.documentElement.appendChild(document.createElement(\"div\")))\n    : console);\nuserscripter.run({\n    id: U.id,\n    name: U.name,\n    initialAction: () => log.log(`${U.name} ${U.version}`),\n    stylesheets: STYLESHEETS,\n    operationsPlan: {\n        operations: OPERATIONS,\n        interval: CONFIG.OPERATIONS_INTERVAL,\n        tryUntil: environment.DOMCONTENTLOADED,\n        extraTries: CONFIG.OPERATIONS_EXTRA_TRIES,\n        handleFailures: failures => failures.forEach(compose(log.error, describeFailure)),\n    },\n});\n"],"sourceRoot":""}